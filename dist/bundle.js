!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist/",n(n.s=269)}([function(t,e,n){"use strict";t.exports=n(478)},function(t,e,n){"use strict";n.d(e,"R",function(){return r}),n.d(e,"D",function(){return i}),n.d(e,"A",function(){return o}),n.d(e,"z",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return l}),n.d(e,"E",function(){return c}),n.d(e,"F",function(){return f}),n.d(e,"q",function(){return h}),n.d(e,"m",function(){return p}),n.d(e,"o",function(){return d}),n.d(e,"n",function(){return m}),n.d(e,"h",function(){return v}),n.d(e,"g",function(){return y}),n.d(e,"p",function(){return g}),n.d(e,"u",function(){return b}),n.d(e,"c",function(){return _}),n.d(e,"S",function(){return w}),n.d(e,"J",function(){return x}),n.d(e,"k",function(){return E}),n.d(e,"l",function(){return S}),n.d(e,"i",function(){return T}),n.d(e,"j",function(){return k}),n.d(e,"v",function(){return O}),n.d(e,"N",function(){return C}),n.d(e,"B",function(){return M}),n.d(e,"b",function(){return A}),n.d(e,"H",function(){return P}),n.d(e,"r",function(){return j}),n.d(e,"L",function(){return L}),n.d(e,"P",function(){return D}),n.d(e,"w",function(){return N}),n.d(e,"a",function(){return B}),n.d(e,"K",function(){return I}),n.d(e,"y",function(){return F}),n.d(e,"x",function(){return R}),n.d(e,"G",function(){return z}),n.d(e,"s",function(){return V}),n.d(e,"C",function(){return W}),n.d(e,"T",function(){return U}),n.d(e,"O",function(){return q}),n.d(e,"I",function(){return H}),n.d(e,"M",function(){return G}),n.d(e,"Q",function(){return Z}),n.d(e,"t",function(){return K});var r="UPDATE_TIP_RADII",i="NEW_COLORS",o="LOAD_FREQUENCIES",a="FREQUENCY_MATRIX",s="BROWSER_DIMENSIONS",u="BRANCH_MOUSEENTER",l="BRANCH_MOUSELEAVE",c="NODE_MOUSEENTER",f="NODE_MOUSELEAVE",h="CHANGE_LAYOUT",p="CHANGE_BRANCH_LABEL",d="CHANGE_DISTANCE_MEASURE",m="CHANGE_DATES_VISIBILITY_THICKNESS",v="CHANGE_ABSOLUTE_DATE_MIN",y="CHANGE_ABSOLUTE_DATE_MAX",g="CHANGE_GEO_RESOLUTION",b="CLEAN_START",_="APPLY_FILTER",w="UPDATE_VISIBILITY_AND_BRANCH_THICKNESS",x="TOGGLE_MUT_TYPE",E="CHANGE_ANIMATION_START",S="CHANGE_ANIMATION_TIME",T="CHANGE_ANIMATION_CUMULATIVE",k="CHANGE_ANIMATION_LOOP",O="DATA_INVALID",C="TOGGLE_TEMPORAL_CONF",M="MAP_ANIMATION_PLAY_PAUSE_BUTTON",A="ADD_NOTIFICATION",P="REMOVE_NOTIFICATION",j="CHANGE_PANEL_LAYOUT",L="TOGGLE_PANEL_DISPLAY",D="TRIGGER_DOWNLOAD_MODAL",N="DISMISS_DOWNLOAD_MODAL",B="ADD_COLOR_BYS",I="TOGGLE_NARRATIVE",F="ENTROPY_DATA",R="ENTROPY_COUNTS_TOGGLE",z="PAGE_CHANGE",V="CHANGE_URL_QUERY_BUT_NOT_REDUX_STATE",W="MIDDLEWARE_ONLY_ANIMATION_STARTED",U="URL_QUERY_CHANGE_WITH_COMPUTED_STATE",q="TREE_TOO_DATA",H="REMOVE_TREE_TOO",G="TOGGLE_TANGLE",Z="UPDATE_PATHNAME",K="CHANGE_ZOOM"},function(t,e,n){"use strict";n.d(e,"s",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"k",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"a",function(){return f}),n.d(e,"m",function(){return h}),n.d(e,"e",function(){return p}),n.d(e,"l",function(){return d}),n.d(e,"n",function(){return m}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return y}),n.d(e,"r",function(){return g}),n.d(e,"o",function(){return b}),n.d(e,"p",function(){return _}),n.d(e,"q",function(){return w}),n.d(e,"t",function(){return x}),n.d(e,"g",function(){return E});var r=n(3),i="Lato, Helvetica Neue, Helvetica, sans-serif",o="Lato, Helvetica Neue, Helvetica, sans-serif",a="Lato, Helvetica Neue, Helvetica, sans-serif",s="#333",u="#888",l="#BBB",c="#F1F1F1",f="#5097BA",h="#F2F2F2",p="#89B77F",d="#E39B39",m={backgroundColor:"#FFF",fontFamily:a,width:r.m-13,borderSpacing:0,fontSize:14,paddingLeft:"10px",border:"1px solid #ccc",height:36,appearance:"none",borderRadius:"4px",color:s,fontWeight:400,marginBottom:"3px"},v={border:"0px",backgroundColor:"inherit",marginLeft:0,marginTop:5,marginRight:10,marginBottom:5,borderRadius:2,cursor:"pointer",padding:2,fontFamily:a,color:s,fontWeight:400,textTransform:"uppercase",fontSize:14,verticalAlign:"top",outline:0},y={border:"0px",backgroundColor:"inherit",marginLeft:0,marginTop:5,marginRight:10,marginBottom:5,borderRadius:2,cursor:"pointer",padding:2,fontFamily:a,color:f,fontWeight:400,textTransform:"uppercase",fontSize:14,verticalAlign:"top",outline:0},g={borderTop:"1px solid #BBB",borderLeft:"1px solid #CCC",borderRight:"1px solid #CCC",borderBottom:"1px solid #CCC",borderRadius:"0px 0px 3px 3px",paddingTop:3,paddingBottom:3,paddingLeft:6,paddingRight:6,backgroundColor:"#fff",fontWeight:400,color:s,fontFamily:a,fontSize:12,textTransform:"uppercase"},b={borderTop:"1px solid #BBB",borderLeft:"1px solid #CCC",borderRight:"1px solid #CCC",borderBottom:"1px solid #CCC",borderRadius:"0px 0px 3px 3px",paddingTop:3,paddingBottom:3,paddingLeft:6,paddingRight:6,backgroundColor:"#fff"},_={border:"none",backgroundColor:"inherit",padding:0,margin:0,cursor:"pointer",fontFamily:a,color:s,fontWeight:400,textTransform:"uppercase",fontSize:12},w={border:"none",backgroundColor:"inherit",padding:0,margin:0,cursor:"pointer",fontFamily:a,color:f,fontWeight:400,textTransform:"uppercase",fontSize:12},x={big:{fontFamily:i,fontSize:76,lineHeight:"76px",letterSpacing:-1.8,marginTop:20,marginBottom:10,fontWeight:300,color:"#fff"},small:{fontFamily:o,fontSize:16,lineHeight:"28px",marginTop:15,marginBottom:5,fontWeight:500,color:"#000"}},E={branchInfoHeading:{fontSize:15,fontWeight:400,verticalAlign:"middle",padding:"5px"},buttonLink:{float:"right",fontFamily:a,fontSize:14,fontWeight:400,textDecoration:"none",pointerEvents:"auto",background:"none",color:"white",cursor:"pointer",textTransform:"uppercase",borderRadius:2,border:"1px solid #CCC",verticalAlign:"middle"},tooltip:{position:"relative",padding:5,color:"white",fontFamily:a,fontSize:14,lineHeight:1,fontWeight:300},modalContainer:{position:"absolute",width:"100%",height:"100%",pointerEvents:"all",top:0,left:0,zIndex:2e3,backgroundColor:"rgba(80, 80, 80, .20)",display:"flex",justifyContent:"center",alignItems:"center",wordWrap:"break-word",wordBreak:"break-word"},panel:{position:"relative",paddingLeft:30,padding:"5% 5%",borderRadius:5,backgroundColor:"rgba(55,55,55,0.9)",color:"white",fontFamily:a,fontSize:18,lineHeight:1,fontWeight:300,maxWidth:500,overflow:"scroll"},modalHeading:{fontSize:24,fontWeight:400},modalSubheading:{fontSize:20,fontWeight:400,marginTop:"20px",marginBottom:"20px"},tooltipHeading:{fontSize:18,fontWeight:400,marginBottom:"10px"},comment:{fontStyle:"italic",fontWeight:200,fontSize:14,marginTop:"10px"},topRightMessage:{fontStyle:"italic",fontWeight:200,fontSize:14,textAlign:"right",marginTop:"-20px"},list:{paddingLeft:15,listStyleType:"disc"},item:{paddingTop:4,paddingBottom:4,minWidth:120},break:{marginBottom:"10px"}}},function(t,e,n){"use strict";n.d(e,"i",function(){return i}),n.d(e,"m",function(){return o}),n.d(e,"l",function(){return a}),n.d(e,"k",function(){return s}),n.d(e,"I",function(){return u}),n.d(e,"n",function(){return l}),n.d(e,"q",function(){return c}),n.d(e,"r",function(){return f}),n.d(e,"p",function(){return h}),n.d(e,"o",function(){return p}),n.d(e,"E",function(){return d}),n.d(e,"f",function(){return m}),n.d(e,"A",function(){return v}),n.d(e,"u",function(){return y}),n.d(e,"w",function(){return g}),n.d(e,"x",function(){return b}),n.d(e,"F",function(){return _}),n.d(e,"G",function(){return w}),n.d(e,"s",function(){return x}),n.d(e,"e",function(){return E}),n.d(e,"y",function(){return S}),n.d(e,"d",function(){return T}),n.d(e,"t",function(){return k}),n.d(e,"v",function(){return O}),n.d(e,"j",function(){return C}),n.d(e,"H",function(){return M}),n.d(e,"D",function(){return A}),n.d(e,"g",function(){return P}),n.d(e,"h",function(){return j}),n.d(e,"z",function(){return L}),n.d(e,"C",function(){return D}),n.d(e,"B",function(){return N}),n.d(e,"a",function(){return B}),n.d(e,"c",function(){return I}),n.d(e,"b",function(){return F});var r=n(19),i={country:{key:"country",legendTitle:"Country",menuItem:"country",type:"discrete"},region:{key:"region",legendTitle:"Region",menuItem:"region",type:"discrete"},num_date:{key:"num_date",legendTitle:"Sampling date",menuItem:"date",type:"continuous"},ep:{key:"ep",legendTitle:"Epitope Mutations",menuItem:"epitope mutations",type:"continuous"},ne:{key:"ne",legendTitle:"Non-epitope Mutations",menuItem:"nonepitope mutations",type:"continuous"},rb:{key:"rb",legendTitle:"Receptor Binding Mutations",menuItem:"RBS mutations",type:"continuous"},gt:{key:"genotype",legendTitle:"Genotype",menuItem:"genotype",type:"discrete"}},o=220,a=46,s=780,u=1600,l="country",c="country",f="rect",h="num_date",p=6,d=-1e8,m=!1,v="aa",y=[0,.111,.222,.333,.444,.555,.666,.777,.888,1],g=15,b=4,_=4,w=7,x=350,E=.075,S=.075,T=50,k=(y.map(function(t){return Math.round(3.6*t*100)/100}),y.map(function(t){return Math.round(100*(.2+1.8*t))/100}),y.map(function(t){return Math.round(16*(t-.5)*100)/100}),Object(r.a)().domain([0,1]).range([2,4.5]),Object(r.d)().domain([0,1]).range([1,10])),O=(Object(r.d)().domain([3,20]).range([9,3]).clamp([!0]),["#60AA9E","#D9AD3D","#5097BA","#E67030","#8EBC66","#E59637","#AABD52","#DF4327","#C4B945","#75B681"]),C=[[],["#4C90C0"],["#4C90C0","#CBB742"],["#4988C5","#7EB876","#CBB742"],["#4580CA","#6BB28D","#AABD52","#DFA43B"],["#4377CD","#61AB9D","#94BD61","#CDB642","#E68133"],["#416DCE","#59A3AA","#84BA6F","#BBBC49","#E29D39","#E1502A"],["#3F63CF","#529AB6","#75B681","#A6BE55","#D4B13F","#E68133","#DC2F24"],["#3E58CF","#4B8EC1","#65AE96","#8CBB69","#B8BC4A","#DCAB3C","#E67932","#DC2F24"],["#3F4DCB","#4681C9","#5AA4A8","#78B67E","#9EBE5A","#C5B945","#E0A23A","#E67231","#DC2F24"],["#4042C7","#4274CE","#5199B7","#69B091","#88BB6C","#ADBD51","#CEB541","#E39B39","#E56C2F","#DC2F24"],["#4137C2","#4066CF","#4B8DC2","#5DA8A3","#77B67F","#96BD60","#B8BC4B","#D4B13F","#E59638","#E4672F","#DC2F24"],["#462EB9","#3E58CF","#4580CA","#549DB2","#69B091","#83BA70","#A2BE57","#C1BA47","#D9AD3D","#E69136","#E4632E","#DC2F24"],["#4B26B1","#3F4ACA","#4272CE","#4D92BF","#5DA8A3","#74B583","#8EBC66","#ACBD51","#C8B944","#DDA93C","#E68B35","#E3602D","#DC2F24"],["#511EA8","#403DC5","#4063CF","#4785C7","#559EB1","#67AF94","#7EB877","#98BD5E","#B4BD4C","#CDB642","#DFA53B","#E68735","#E35D2D","#DC2F24"],["#511EA8","#403AC4","#3F5ED0","#457FCB","#5098B9","#60AA9F","#73B583","#8BBB6A","#A4BE56","#BDBB48","#D3B240","#E19F3A","#E68234","#E25A2C","#DC2F24"],["#511EA8","#4138C3","#3E59CF","#4379CD","#4D92BE","#5AA5A8","#6BB18E","#7FB975","#96BD5F","#AFBD4F","#C5B945","#D8AE3E","#E39B39","#E67D33","#E2572B","#DC2F24"],["#511EA8","#4236C1","#3F55CE","#4273CE","#4A8CC2","#569FAF","#64AD98","#76B680","#8BBB6A","#A1BE58","#B7BC4B","#CCB742","#DCAB3C","#E59638","#E67932","#E1552B","#DC2F24"],["#511EA8","#4335BF","#3F51CC","#416ECE","#4887C6","#529BB6","#5FA9A0","#6EB389","#81B973","#95BD61","#AABD52","#BFBB48","#D1B340","#DEA63B","#E69237","#E67531","#E1522A","#DC2F24"],["#511EA8","#4333BE","#3F4ECB","#4169CF","#4682C9","#4F96BB","#5AA5A8","#68AF92","#78B77D","#8BBB6A","#9EBE59","#B3BD4D","#C5B945","#D5B03F","#E0A23A","#E68D36","#E67231","#E1502A","#DC2F24"],["#511EA8","#4432BD","#3F4BCA","#4065CF","#447ECC","#4C91BF","#56A0AE","#63AC9A","#71B486","#81BA72","#94BD62","#A7BE54","#BABC4A","#CBB742","#D9AE3E","#E29E39","#E68935","#E56E30","#E14F2A","#DC2F24"],["#511EA8","#4531BC","#3F48C9","#3F61D0","#4379CD","#4A8CC2","#539CB4","#5EA9A2","#6BB18E","#7AB77B","#8BBB6A","#9CBE5B","#AFBD4F","#C0BA47","#CFB541","#DCAB3C","#E39B39","#E68534","#E56B2F","#E04D29","#DC2F24"],["#511EA8","#4530BB","#3F46C8","#3F5ED0","#4375CD","#4988C5","#5098B9","#5AA5A8","#66AE95","#73B583","#82BA71","#93BC62","#A4BE56","#B5BD4C","#C5B945","#D3B240","#DEA73B","#E59738","#E68234","#E4682F","#E04C29","#DC2F24"],["#511EA8","#462FBA","#3F44C8","#3E5BD0","#4270CE","#4784C8","#4E95BD","#57A1AD","#61AB9C","#6DB38A","#7BB879","#8BBB6A","#9BBE5C","#ABBD51","#BBBC49","#CBB843","#D6AF3E","#DFA43B","#E69537","#E67F33","#E4662E","#E04A29","#DC2F24"],["#511EA8","#462EB9","#4042C7","#3E58CF","#416DCE","#4580CA","#4C90C0","#549DB2","#5DA8A3","#69B091","#75B681","#83BA70","#92BC63","#A2BE57","#B2BD4D","#C1BA47","#CEB541","#D9AD3D","#E1A03A","#E69136","#E67C32","#E4632E","#E04929","#DC2F24"],["#511EA8","#462EB9","#4040C6","#3F55CE","#4169CF","#447DCC","#4A8CC2","#529AB7","#5AA5A8","#64AD98","#70B487","#7DB878","#8BBB6A","#99BD5D","#A9BD53","#B7BC4B","#C5B945","#D1B340","#DCAB3C","#E29D39","#E68D36","#E67932","#E3612D","#E04828","#DC2F24"],["#511EA8","#472DB8","#403EC6","#3F53CD","#4066CF","#4379CD","#4989C5","#4F97BB","#57A1AD","#61AA9E","#6BB18E","#77B67F","#84BA70","#92BC64","#A0BE58","#AFBD4F","#BCBB49","#CAB843","#D4B13F","#DEA83C","#E39B39","#E68A35","#E67732","#E35F2D","#DF4728","#DC2F24"],["#511EA8","#472CB7","#403DC5","#3F50CC","#4063CF","#4375CD","#4785C7","#4D93BE","#559EB1","#5DA8A3","#67AF94","#72B485","#7EB877","#8BBB6A","#98BD5E","#A6BE55","#B4BD4C","#C1BA47","#CDB642","#D7AF3E","#DFA53B","#E49838","#E68735","#E67431","#E35D2D","#DF4628","#DC2F24"],["#511EA8","#482CB7","#403BC5","#3F4ECB","#3F61D0","#4272CE","#4682C9","#4C90C0","#529BB5","#5AA5A8","#63AC9A","#6DB28B","#78B77D","#84BA6F","#91BC64","#9EBE59","#ACBD51","#B9BC4A","#C5B945","#D0B441","#DAAD3D","#E0A23A","#E59637","#E68434","#E67231","#E35C2C","#DF4528","#DC2F24"],["#511EA8","#482BB6","#403AC4","#3F4CCB","#3F5ED0","#426FCE","#457FCB","#4A8CC2","#5098B9","#58A2AC","#60AA9F","#69B091","#73B583","#7FB976","#8BBB6A","#97BD5F","#A4BE56","#B1BD4E","#BDBB48","#C9B843","#D3B240","#DCAB3C","#E19F3A","#E69337","#E68234","#E67030","#E25A2C","#DF4428","#DC2F24"],["#511EA8","#482BB6","#4039C3","#3F4ACA","#3E5CD0","#416CCE","#447CCD","#4989C4","#4E96BC","#559FB0","#5DA8A4","#66AE96","#6FB388","#7AB77C","#85BA6F","#91BC64","#9DBE5A","#AABD53","#B6BD4B","#C2BA46","#CDB642","#D6B03F","#DDA83C","#E29D39","#E69036","#E67F33","#E56D30","#E2592C","#DF4428","#DC2F24"],["#511EA8","#482AB5","#4138C3","#3F48C9","#3E59CF","#4169CF","#4379CD","#4886C6","#4D92BE","#539CB4","#5AA5A8","#62AB9B","#6BB18E","#75B581","#7FB975","#8BBB6A","#96BD5F","#A2BE57","#AFBD4F","#BABC4A","#C5B945","#CFB541","#D8AE3E","#DFA63B","#E39B39","#E68D36","#E67D33","#E56B2F","#E2572B","#DF4328","#DC2F24"],["#511EA8","#492AB5","#4137C2","#3F47C9","#3E57CE","#4067CF","#4376CD","#4783C8","#4C8FC0","#519AB7","#58A2AC","#5FA9A0","#68AF93","#70B486","#7BB77A","#85BA6F","#90BC65","#9CBE5B","#A8BE54","#B3BD4D","#BEBB48","#C9B843","#D2B340","#DAAD3D","#E0A33B","#E49838","#E68B35","#E67B32","#E5692F","#E2562B","#DF4227","#DC2F24"],["#511EA8","#492AB5","#4236C1","#3F45C8","#3F55CE","#4064CF","#4273CE","#4681CA","#4A8CC2","#4F97BA","#569FAF","#5CA7A4","#64AD98","#6DB28B","#76B680","#80B974","#8BBB6A","#96BD60","#A1BE58","#ACBD51","#B7BC4B","#C2BA46","#CCB742","#D4B13F","#DCAB3C","#E1A13A","#E59638","#E68835","#E67932","#E4672F","#E1552B","#DF4227","#DC2F24"],["#511EA8","#4929B4","#4235C0","#3F44C8","#3F53CD","#3F62CF","#4270CE","#457ECB","#4989C4","#4E95BD","#549DB3","#5AA5A8","#61AB9C","#69B090","#72B485","#7BB879","#85BA6E","#90BC65","#9BBE5C","#A6BE55","#B1BD4E","#BBBC49","#C5B945","#CEB541","#D6AF3E","#DDA93C","#E29F39","#E69537","#E68634","#E67732","#E4662E","#E1532B","#DF4127","#DC2F24"],["#511EA8","#4929B4","#4335BF","#3F42C7","#3F51CC","#3F60D0","#416ECE","#447CCD","#4887C6","#4D92BF","#529BB6","#58A2AB","#5FA9A0","#66AE95","#6EB389","#77B67E","#81B973","#8BBB6A","#95BD61","#A0BE59","#AABD52","#B5BD4C","#BFBB48","#C9B843","#D1B340","#D8AE3E","#DEA63B","#E29C39","#E69237","#E68434","#E67531","#E4642E","#E1522A","#DF4127","#DC2F24"],["#511EA8","#4928B4","#4334BF","#4041C7","#3F50CC","#3F5ED0","#416CCE","#4379CD","#4784C7","#4B8FC1","#5098B9","#56A0AF","#5CA7A4","#63AC99","#6BB18E","#73B583","#7CB878","#86BB6E","#90BC65","#9ABD5C","#A4BE56","#AFBD4F","#B9BC4A","#C2BA46","#CCB742","#D3B240","#DAAC3D","#DFA43B","#E39B39","#E68F36","#E68234","#E67431","#E4632E","#E1512A","#DF4027","#DC2F24"]],M=["#4377CD","#5097BA","#63AC9A","#7CB879","#9ABE5C","#B9BC4A","#D4B13F","#E49938","#E67030","#DE3C26"],A=1e4,P="/charon",j=["clade_membership","cHI","cTiter","fitness","gt","ep","ne","rb","lbi","dfreq","division","country","region","date","glyc","age","age_score","gender","host","subtype"],L={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},D=50,N=55,B=0,I=1,F=2},function(t,e,n){var r=n(12),i=n(49),o=n(32),a=n(33),s=n(42),u=function(t,e,n){var l,c,f,h,p=t&u.F,d=t&u.G,m=t&u.S,v=t&u.P,y=t&u.B,g=d?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,b=d?i:i[e]||(i[e]={}),_=b.prototype||(b.prototype={});for(l in d&&(n=e),n)f=((c=!p&&g&&void 0!==g[l])?g:n)[l],h=y&&c?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,g&&a(g,l,f,t&u.U),b[l]!=f&&o(b,l,h),v&&_[l]!=f&&(_[l]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=n(491)()},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(0),o=n(41),a=n.n(o),s=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),u=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});var l=function(t){var e;void 0===t&&(t="store");var n=t+"Subscription",o=function(e){r(a,e);var o=a.prototype;function a(n,r){var i;return(i=e.call(this,n,r)||this)[t]=n.store,i}return o.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.render=function(){return i.Children.only(this.props.children)},a}(i.Component);return o.propTypes={store:u.isRequired,children:a.a.element.isRequired},o.childContextTypes=((e={})[t]=u.isRequired,e[n]=s,e),o}();function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var p=n(248),d=n.n(p),m=n(137),v=n.n(m),y=n(175),g=null,b={notify:function(){}};var _=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=b}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var t=[],e=[];return{clear:function(){e=g,t=g},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==g&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=b)},t}(),w=0,x={};function E(){}function S(t,e){var n,o;void 0===e&&(e={});var a=e,l=a.getDisplayName,p=void 0===l?function(t){return"ConnectAdvanced("+t+")"}:l,m=a.methodName,g=void 0===m?"connectAdvanced":m,b=a.renderCountProp,S=void 0===b?void 0:b,T=a.shouldHandleStateChanges,k=void 0===T||T,O=a.storeKey,C=void 0===O?"store":O,M=a.withRef,A=void 0!==M&&M,P=h(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),j=C+"Subscription",L=w++,D=((n={})[C]=u,n[j]=s,n),N=((o={})[j]=s,o);return function(e){v()(Object(y.isValidElementType)(e),"You must pass a component to the function returned by "+g+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",o=p(n),a=f({},P,{getDisplayName:p,methodName:g,renderCountProp:S,shouldHandleStateChanges:k,storeKey:C,withRef:A,displayName:o,wrappedComponentName:n,WrappedComponent:e}),s=function(n){function s(t,e){var r;return(r=n.call(this,t,e)||this).version=L,r.state={},r.renderCount=0,r.store=t[C]||e[C],r.propsMode=Boolean(t[C]),r.setWrappedInstance=r.setWrappedInstance.bind(c(c(r))),v()(r.store,'Could not find "'+C+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}r(s,n);var u=s.prototype;return u.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[j]=e||this.context[j],t},u.componentDidMount=function(){k&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(t){this.selector.run(t)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=E,this.store=null,this.selector.run=E,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return v()(A,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+g+"() call."),this.wrappedInstance},u.setWrappedInstance=function(t){this.wrappedInstance=t},u.initSelector=function(){var e=t(this.store.dispatch,a);this.selector=function(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}(e,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(k){var t=(this.propsMode?this.props:this.context)[j];this.subscription=new _(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(x)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(t){if(!(A||S||this.propsMode&&this.subscription))return t;var e=f({},t);return A&&(e.ref=this.setWrappedInstance),S&&(e[S]=this.renderCount++),this.propsMode&&this.subscription&&(e[j]=this.subscription),e},u.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(i.createElement)(e,this.addExtraProps(t.props))},s}(i.Component);return s.WrappedComponent=e,s.displayName=o,s.childContextTypes=N,s.contextTypes=D,s.propTypes=D,d()(s,e)}}var T=Object.prototype.hasOwnProperty;function k(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function O(t,e){if(k(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!T.call(e,n[i])||!k(t[n[i]],e[n[i]]))return!1;return!0}var C=n(68);function M(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function A(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function P(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=A(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=A(i),i=r(e,n)),i},r}}var j=[function(t){return"function"==typeof t?P(t):void 0},function(t){return t?void 0:M(function(t){return{dispatch:t}})},function(t){return t&&"object"==typeof t?M(function(e){return Object(C.b)(t,e)}):void 0}];var L=[function(t){return"function"==typeof t?P(t):void 0},function(t){return t?void 0:M(function(){return{}})}];function D(t,e,n){return f({},n,t,e)}var N=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return D}}];function B(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function I(t,e,n,r,i){var o,a,s,u,l,c=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;function d(i,p){var d=!f(p,a),m=!c(i,o);return o=i,a=p,d&&m?(s=t(o,a),e.dependsOnOwnProps&&(u=e(r,a)),l=n(s,u,a)):d?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(u=e(r,a)),l=n(s,u,a)):m?function(){var e=t(o,a),r=!h(e,s);return s=e,r&&(l=n(s,u,a)),l}():l}return function(i,c){return p?d(i,c):function(i,c){return s=t(o=i,a=c),u=e(r,a),l=n(s,u,a),p=!0,l}(i,c)}}function F(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=h(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?I:B)(a,s,u,t,o)}function R(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function z(t,e){return t===e}var V=function(t){var e=void 0===t?{}:t,n=e.connectHOC,r=void 0===n?S:n,i=e.mapStateToPropsFactories,o=void 0===i?L:i,a=e.mapDispatchToPropsFactories,s=void 0===a?j:a,u=e.mergePropsFactories,l=void 0===u?N:u,c=e.selectorFactory,p=void 0===c?F:c;return function(t,e,n,i){void 0===i&&(i={});var a=i,u=a.pure,c=void 0===u||u,d=a.areStatesEqual,m=void 0===d?z:d,v=a.areOwnPropsEqual,y=void 0===v?O:v,g=a.areStatePropsEqual,b=void 0===g?O:g,_=a.areMergedPropsEqual,w=void 0===_?O:_,x=h(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=R(t,o,"mapStateToProps"),S=R(e,s,"mapDispatchToProps"),T=R(n,l,"mergeProps");return r(p,f({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:E,initMapDispatchToProps:S,initMergeProps:T,pure:c,areStatesEqual:m,areOwnPropsEqual:y,areStatePropsEqual:b,areMergedPropsEqual:w},x))}}();n.d(e,"a",function(){return l}),n.d(e,"b",function(){return V})},function(t,e,n){"use strict";n.d(e,"d",function(){return u}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return f});var r=n(19),i=n(86),o=Object(i.a)("%Y-%m-%d"),a=Object(i.b)("%Y-%m-%d"),s=Object(r.e)().domain([new Date(2e3,0,0),new Date(2100,0,0)]).range([2e3,2100]),u=function(t){if(t<0)return Math.round(t).toString();var e=s.invert(t);return o(e)},l=function(t){if("-"===t[0]){var e=t.substring(1).split("-");return-parseFloat(e[0])}var n=a(t);return s(n)},c=function(){var t=new Date;return s(t)},f=function(){var t=new Date;return o(t)}},function(t,e,n){"use strict";var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3})$/,c=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),h=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),p=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),d=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),m=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),v=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(t){var e;return t=(t+"").trim().toLowerCase(),(e=l.exec(t))?new E((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=c.exec(t))?b(parseInt(e[1],16)):(e=f.exec(t))?new E(e[1],e[2],e[3],1):(e=h.exec(t))?new E(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?_(e[1],e[2],e[3],e[4]):(e=d.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=m.exec(t))?S(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?S(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?b(y[t]):"transparent"===t?new E(NaN,NaN,NaN,0):null}function b(t){return new E(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,r){return r<=0&&(t=e=n=NaN),new E(t,e,n,r)}function w(t){return t instanceof o||(t=g(t)),t?new E((t=t.rgb()).r,t.g,t.b,t.opacity):new E}function x(t,e,n,r){return 1===arguments.length?w(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function S(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new k(t,e,n,r)}function T(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof k)return new k(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=g(t)),!t)return new k;if(t instanceof k)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,l=(a+i)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=l<.5?a+i:2-a-i,s*=60):u=l>0&&l<1?0:s,new k(s,u,l,t.opacity)}(t):new k(t,e,n,null==r?1:r)}function k(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function O(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(o,g,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),r(E,x,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new E(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(k,T,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new k(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new k(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new E(O(t>=240?t-240:t+120,i,r),O(t,i,r),O(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var C=Math.PI/180,M=180/Math.PI,A=.95047,P=1,j=1.08883,L=4/29,D=6/29,N=3*D*D,B=D*D*D;function I(t){if(t instanceof R)return new R(t.l,t.a,t.b,t.opacity);if(t instanceof H){var e=t.h*C;return new R(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof E||(t=w(t));var n=U(t.r),r=U(t.g),i=U(t.b),o=z((.4124564*n+.3575761*r+.1804375*i)/A),a=z((.2126729*n+.7151522*r+.072175*i)/P);return new R(116*a-16,500*(o-a),200*(a-z((.0193339*n+.119192*r+.9503041*i)/j)),t.opacity)}function F(t,e,n,r){return 1===arguments.length?I(t):new R(t,e,n,null==r?1:r)}function R(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function z(t){return t>B?Math.pow(t,1/3):t/N+L}function V(t){return t>D?t*t*t:N*(t-L)}function W(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function U(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function q(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof H)return new H(t.h,t.c,t.l,t.opacity);t instanceof R||(t=I(t));var e=Math.atan2(t.b,t.a)*M;return new H(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new H(t,e,n,null==r?1:r)}function H(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}r(R,F,i(o,{brighter:function(t){return new R(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new R(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=P*V(t),new E(W(3.2404542*(e=A*V(e))-1.5371385*t-.4985314*(n=j*V(n))),W(-.969266*e+1.8760108*t+.041556*n),W(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),r(H,q,i(o,{brighter:function(t){return new H(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new H(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return I(this).rgb()}}));var G=-.14861,Z=1.78277,K=-.29227,Y=-.90649,$=1.97294,X=$*Y,J=$*Z,Q=Z*K-Y*G;function tt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);t instanceof E||(t=w(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Q*r+X*e-J*n)/(Q+X-J),o=r-i,a=($*(n-i)-K*o)/Y,s=Math.sqrt(a*a+o*o)/($*i*(1-i)),u=s?Math.atan2(a,o)*M-120:NaN;return new et(u<0?u+360:u,s,i,t.opacity)}(t):new et(t,e,n,null==r?1:r)}function et(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r(et,tt,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new et(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*C,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new E(255*(e+n*(G*r+Z*i)),255*(e+n*(K*r+Y*i)),255*(e+n*($*r)),this.opacity)}})),n.d(e,"a",function(){return g}),n.d(e,"f",function(){return x}),n.d(e,"d",function(){return T}),n.d(e,"e",function(){return F}),n.d(e,"c",function(){return q}),n.d(e,"b",function(){return tt})},function(t,e,n){"use strict";var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){return 1===t.length&&(t=function(t){return function(e,n){return r(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=(o.left,a);var u=function(t){return null===t?NaN:+t},l=Array.prototype,c=(l.slice,l.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}),f=Math.sqrt(50),h=Math.sqrt(10),p=Math.sqrt(2),d=function(t,e,n){var r,i,o,a=e<t,s=-1;if(a&&(r=t,t=e,e=r),0===(o=function(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=f?10:o>=h?5:o>=p?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=f?10:o>=h?5:o>=p?2:1)}(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(r=Math.ceil(e-t+1));++s<r;)i[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(r=Math.ceil(t-e+1));++s<r;)i[s]=(t-s)/o;return a&&i.reverse(),i};function m(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=f?i*=10:o>=h?i*=5:o>=p&&(i*=2),e<t?-i:i}var v=function(t,e,n){if(null==n&&(n=u),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},y=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},g=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=u(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=u(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},b=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},_=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o};n.d(e,"b",function(){return s}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return y}),n.d(e,"e",function(){return g}),n.d(e,"f",function(){return b}),n.d(e,"g",function(){return v}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return _}),n.d(e,"k",function(){return d}),n.d(e,"j",function(){return m})},function(t,e,n){"use strict";n.d(e,"b",function(){return h}),n.d(e,"f",function(){return p}),n.d(e,"c",function(){return d}),n.d(e,"e",function(){return m}),n.d(e,"a",function(){return v}),n.d(e,"d",function(){return y});var r=n(48),i=n(27),o=n(1),a=n(40),s=n(85),u=n(7),l=n(25),c=n(94);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=function(t,e){var n=void 0!==t?t:e.idxOfInViewRootNode;return t!==e.idxOfInViewRootNode&&e.nodes[0].shell?(e.nodes.forEach(function(t){t.shell.inView=!1,t.shell.update=!0}),e.nodes[n].shell.terminal?Object(l.b)(e.nodes[n].shell.parent,function(t){t.inView=!0}):Object(l.b)(e.nodes[n].shell,function(t){t.inView=!0})):t!==e.idxOfInViewRootNode&&(e.nodes.forEach(function(t){t.inView=!1}),e.nodes[n].hasChildren?Object(l.b)(e.nodes[n],function(t){t.inView=!0}):Object(l.b)(e.nodes[n].parent,function(t){t.inView=!0})),n},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.root,n=void 0===e?[void 0,void 0]:e,u=t.tipSelected,l=void 0===u?void 0:u,p=t.cladeSelected,d=void 0===p?void 0:p;return function(t,e){var u=e(),p=u.tree,m=u.treeToo,v=u.controls,y=u.frequencies;if(p.nodes){var g=h(n[0],p),b=f(function(t,e,n){if(!t)return[void 0,void 0,void 0];if(t.clear)return[void 0,void 0,void 0];if(t.treeIdx){var r=e.nodes[t.treeIdx].strain,o=n?Object(i.d)(n.nodes,r):void 0;return[t.treeIdx,o,r]}if(t.treeTooIdx){var a=n.nodes[t.treeTooIdx].strain;return[Object(i.d)(e.nodes,a),t.treeTooIdx,a]}return e.selectedStrain?[Object(i.d)(e.nodes,e.selectedStrain),n?Object(i.d)(n.nodes,e.selectedStrain):void 0,e.selectedStrain]:[void 0,void 0,void 0]}(l,p,v.showTreeToo?m:void 0),3),_=b[0],w=b[1],x=b[2],E=Object(i.a)(p,v,{dateMinNumeric:v.dateMinNumeric,dateMaxNumeric:v.dateMaxNumeric},{tipSelectedIdx:_,validIdxRoot:g}),S={type:o.S,visibility:E.visibility,visibilityVersion:E.visibilityVersion,branchThickness:E.branchThickness,branchThicknessVersion:E.branchThicknessVersion,idxOfInViewRootNode:g,cladeName:d,selectedClade:d,stateCountAttrs:Object.keys(v.filters),selectedStrain:x};if(v.showTreeToo){var T=h(n[1],m),k=Object(i.a)(m,v,{dateMinNumeric:v.dateMinNumeric,dateMaxNumeric:v.dateMaxNumeric},{tipSelectedIdx:w,validIdxRoot:T});S.tangleTipLookup=Object(c.a)(p.nodes,m.nodes,E.visibility,k.visibility),S.visibilityToo=k.visibility,S.visibilityVersionToo=k.visibilityVersion,S.branchThicknessToo=k.branchThickness,S.branchThicknessVersionToo=k.branchThicknessVersion,S.idxOfInViewRootNodeToo=T}if(l){var O=Object(r.a)({tipSelected:l,colorScale:v.colorScale,tree:p}),C=p.tipRadiiVersion+1,M={type:o.R,data:O,version:C};v.showTreeToo&&(M.dataToo=Object(r.a)({tipSelected:l,colorScale:v.colorScale,tree:m})),t(M)}t(S),Object(a.d)(t,e),y.loaded&&Object(s.b)(t,e)}}},d=function(t){var e=t.newMin,n=void 0!==e&&e,r=t.newMax,l=void 0!==r&&r,f=t.quickdraw,h=void 0!==f&&f;return function(t,e){var r=e(),f=r.tree,p=r.treeToo,d=r.controls,m=r.frequencies;if(f.nodes){var v={dateMinNumeric:n?Object(u.a)(n):d.dateMinNumeric,dateMaxNumeric:l?Object(u.a)(l):d.dateMaxNumeric},y=Object(i.a)(f,d,v),g={type:o.n,quickdraw:h,dateMin:n||d.dateMin,dateMax:l||d.dateMax,dateMinNumeric:v.dateMinNumeric,dateMaxNumeric:v.dateMaxNumeric,visibility:y.visibility,visibilityVersion:y.visibilityVersion,branchThickness:y.branchThickness,branchThicknessVersion:y.branchThicknessVersion,idxOfInViewRootNode:f.idxOfInViewRootNode,stateCountAttrs:Object.keys(d.filters)};if(d.showTreeToo){var b=Object(i.a)(p,d,v);g.tangleTipLookup=Object(c.a)(f.nodes,p.nodes,y.visibility,b.visibility),g.visibilityToo=b.visibility,g.visibilityVersionToo=b.visibilityVersion,g.branchThicknessToo=b.branchThickness,g.branchThicknessVersionToo=b.branchThicknessVersion}t(g),Object(a.d)(t,e),m.loaded&&Object(s.b)(t,e)}}},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tipSelectedIdx,n=void 0!==e&&e,a=t.selectedLegendItem,s=void 0!==a&&a;return function(t,e){var a=e(),u=a.controls,l=a.tree,c=a.treeToo,f=u.colorScale,h={type:o.R,version:l.tipRadiiVersion+1},p=u.showTreeToo;if(n){if(h.data=Object(r.a)({tipSelectedIdx:n,colorScale:f,tree:l}),p){var d=Object(i.d)(c.nodes,l.nodes[n].strain);h.dataToo=Object(r.a)({idx:d,colorScale:f,tree:c})}}else!1!==s?(h.data=Object(r.a)({selectedLegendItem:s,colorScale:f,tree:l}),p&&(h.dataToo=Object(r.a)({selectedLegendItem:s,colorScale:f,tree:c}))):(h.data=Object(r.a)({colorScale:f,tree:l}),p&&(h.dataToo=Object(r.a)({colorScale:f,tree:c})));t(h)}},v=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"set";return function(r,i){var a;if("set"===n)a=e;else{var s=i().controls,u=Object.keys(s.filters);if("add"===n)a=-1===u.indexOf(t)?e:s.filters[t].concat(e);else if("remove"===n){if(-1===u.indexOf(t))return void console.error("trying to remove values from an un-initialised filter!");a=s.filters[t].slice();var l=!0,c=!1,f=void 0;try{for(var h,d=e[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var m=h.value,v=a.indexOf(m);-1!==v?a.splice(v,1):console.error("trying to remove filter value ",m," which was not part of the filter selection")}}catch(t){c=!0,f=t}finally{try{l||null==d.return||d.return()}finally{if(c)throw f}}}}r({type:o.c,fields:t,values:a}),r(p())}},y=function(){return{type:o.N}}},function(t,e,n){var r=n(16);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";var r=n(8);function i(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}var o=function(t){return function(){return t}};function a(t,e){return function(n){return t+n*e}}function s(t,e){var n=e-t;return n?a(t,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(t)?e:t)}function u(t){return 1==(t=+t)?l:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):o(isNaN(e)?n:e)}}function l(t,e){var n=e-t;return n?a(t,n):o(isNaN(t)?e:t)}var c=function t(e){var n=u(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),a=n(t.b,e.b),s=l(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function f(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}f(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1],s=r>0?t[r-1]:2*o-a,u=r<e-1?t[r+2]:2*a-o;return i((n-r/e)*e,s,o,a,u)}}),f(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],u=t[(r+2)%e];return i((n-r/e)*e,o,a,s,u)}});var h=function(t,e){return e-=t=+t,function(n){return t+e*n}},p=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d=new RegExp(p.source,"g");var m,v,y,g,b=function(t,e){var n,r,i,o=p.lastIndex=d.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=p.exec(t))&&(r=d.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:h(n,r)})),o=d.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},_=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?o(e):("number"===i?h:"string"===i?(n=Object(r.a)(e))?(e=n,c):b:e instanceof r.a?c:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=_(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=_(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:h)(t,e)},w=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},x=180/Math.PI,E={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},S=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*x,skewX:Math.atan(u)*x,scaleX:a,scaleY:s}};function T(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:h(t,i)},{i:u-2,x:h(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:h(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:h(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:h(t,n)},{i:s-2,x:h(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var k=T(function(t){return"none"===t?E:(m||(m=document.createElement("DIV"),v=document.documentElement,y=document.defaultView),m.style.transform=t,t=y.getComputedStyle(v.appendChild(m),null).getPropertyValue("transform"),v.removeChild(m),t=t.slice(7,-1).split(","),S(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),O=T(function(t){return null==t?E:(g||(g=document.createElementNS("http://www.w3.org/2000/svg","g")),g.setAttribute("transform",t),(t=g.transform.baseVal.consolidate())?(t=t.matrix,S(t.a,t.b,t.c,t.d,t.e,t.f)):E)},", ",")",")"),C=Math.SQRT2;function M(t){return((t=Math.exp(t))+1/t)/2}var A=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,f=u-o,h=c*c+f*f;if(h<1e-12)r=Math.log(l/a)/C,n=function(t){return[i+t*c,o+t*f,a*Math.exp(C*t*r)]};else{var p=Math.sqrt(h),d=(l*l-a*a+4*h)/(2*a*2*p),m=(l*l-a*a-4*h)/(2*l*2*p),v=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-v)/C,n=function(t){var e=t*r,n=M(v),s=a/(2*p)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(C*e+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+s*c,o+s*f,a*n/M(C*e+v)]}}return n.duration=1e3*r,n};function P(t){return function(e,n){var i=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),o=l(e.s,n.s),a=l(e.l,n.l),s=l(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(t),e.opacity=s(t),e+""}}}P(s),P(l);function j(t){return function(e,n){var i=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),o=l(e.c,n.c),a=l(e.l,n.l),s=l(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=o(t),e.l=a(t),e.opacity=s(t),e+""}}}var L=j(s);j(l);function D(t){return function e(n){function i(e,i){var o=t((e=Object(r.b)(e)).h,(i=Object(r.b)(i)).h),a=l(e.s,i.s),s=l(e.l,i.l),u=l(e.opacity,i.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,i.gamma=e,i}(1)}D(s);var N=D(l);n.d(e,"a",function(){return _}),n.d(e,"d",function(){return h}),n.d(e,"f",function(){return w}),n.d(e,"g",function(){return b}),n.d(e,"h",function(){return k}),n.d(e,"i",function(){return O}),n.d(e,"j",function(){return A}),n.d(e,"e",function(){return c}),n.d(e,"c",function(){return L}),n.d(e,"b",function(){return N})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=new Date,i=new Date;function o(t,e,n,a){function s(e){return t(e=new Date(+e)),e}return s.floor=s,s.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},s.range=function(n,r,i){var o=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return o;do{o.push(new Date(+n))}while(e(n,i),t(n),n<r);return o},s.filter=function(n){return o(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(s.count=function(e,o){return r.setTime(+e),i.setTime(+o),t(r),t(i),Math.floor(n(r,i))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}var a=o(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=a,u=(a.range,6e4),l=6048e5,c=o(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),f=c,h=(c.range,o(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getMinutes()})),p=h,d=(h.range,o(function(t){var e=t.getTimezoneOffset()*u%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),m=d,v=(d.range,o(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/864e5},function(t){return t.getDate()-1})),y=v;v.range;function g(t){return o(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/l})}var b=g(0),_=g(1),w=g(2),x=g(3),E=g(4),S=g(5),T=g(6),k=(b.range,_.range,w.range,x.range,E.range,S.range,T.range,o(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),O=k,C=(k.range,o(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));C.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var M=C,A=(C.range,o(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCMinutes()})),P=A,j=(A.range,o(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),L=j,D=(j.range,o(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),N=D;D.range;function B(t){return o(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/l})}var I=B(0),F=B(1),R=B(2),z=B(3),V=B(4),W=B(5),U=B(6),q=(I.range,F.range,R.range,z.range,V.range,W.range,U.range,o(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),H=q,G=(q.range,o(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));G.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Z=G;G.range;n.d(e,"c",function(){return s}),n.d(e,"m",function(){return s}),n.d(e,"g",function(){return f}),n.d(e,"q",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return y}),n.d(e,"i",function(){return b}),n.d(e,"h",function(){return b}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return O}),n.d(e,"j",function(){return M}),n.d(e,"n",function(){return P}),n.d(e,"l",function(){return L}),n.d(e,"k",function(){return N}),n.d(e,"s",function(){return I}),n.d(e,"r",function(){return I}),n.d(e,"o",function(){return F}),n.d(e,"p",function(){return H}),n.d(e,"t",function(){return Z})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return f}),n.d(e,"d",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"c",function(){return d});var r=n(8),i=n(9),o=n(13),a=n(19);function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=function(t){var e=t.map(function(t){return Object(r.f)(t)}),n=e.map(function(t){return t.r}),o=e.map(function(t){return t.g}),a=e.map(function(t){return t.b});return Object(r.f)(Object(i.e)(n),Object(i.e)(o),Object(i.e)(a)).toString()},l=function(t){return!!t.startsWith("gt")&&("nuc"===t.slice(3,6)?"nuc":"aa")},c=function(t,e,n,r){var i=[];t.forEach(function(t){return i.push(t.attr[n])}),e&&e.forEach(function(t){return i.push(t.attr[n])}),i=s(new Set(i));var o=r.map(function(t){return t[0]});return i.filter(function(t){return-1===o.indexOf(t)})},f=function(t,e){return"gt-"===e.colorBy.slice(0,3)&&e.genotype?t.currentGt:t.attr[e.colorBy]},h=function(t,e){return t&&t.nodes&&e&&e.colorBy?t.nodes.map(function(t){return f(t,e)}).map(function(t){return e.scale(t)}):null},p=Object(a.c)().exponent([.3]).domain([0,1]).range([.4,1]).clamp(!0),d=function(t,e,n){if(!0===e){var i=n+"_entropy";return t.nodeColors.map(function(e,n){var a=t.nodes[n].attr[i],s=a?p(a):.6;return Object(r.f)(Object(o.e)(e,"#BBB")(s)).toString()})}return t.nodeColors.map(function(t){return Object(r.f)(Object(o.e)(t,"#BBB")(.6)).toString()})}},function(t,e,n){var r=n(109)("wks"),i=n(71),o=n(12).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(9);function i(){}function o(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(r=t[o],o,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}i.prototype=o.prototype={constructor:i,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var a=o;function s(){}var u=a.prototype;function l(t,e){var n=new s;if(t instanceof s)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}s.prototype=l.prototype={constructor:s,has:u.has,add:function(t){return this["$"+(t+="")]=t,this},remove:u.remove,clear:u.clear,values:u.keys,size:u.size,empty:u.empty,each:u.each};var c=Array.prototype,f=c.map,h=c.slice,p={name:"implicit"};function d(t){var e=a(),n=[],r=p;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==p)return r;e.set(o,a=n.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:h.call(t),i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=a();for(var r,o,s=-1,u=t.length;++s<u;)e.has(o=(r=t[s])+"")||e.set(o,n.push(r));return i},i.range=function(e){return arguments.length?(t=h.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return d().domain(n).range(t).unknown(r)},i}var m=n(13),v=function(t){return function(){return t}},y=function(t){return+t},g=[0,1];function b(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:v(e)}function _(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function w(t,e,n,i){var o=Math.min(t.length,e.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<o;)a[u]=n(t[u],t[u+1]),s[u]=i(e[u],e[u+1]);return function(e){var n=Object(r.b)(t,e,1,o)-1;return s[n](a[n](e))}}function x(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function E(t,e){var n,r,i,o=g,a=g,s=m.a,u=!1;function l(){return n=Math.min(o.length,a.length)>2?w:_,r=i=null,c}function c(e){return(r||(r=n(o,a,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,s)))(+e)}return c.invert=function(t){return(i||(i=n(a,o,b,u?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},c.domain=function(t){return arguments.length?(o=f.call(t,y),l()):o.slice()},c.range=function(t){return arguments.length?(a=h.call(t),l()):a.slice()},c.rangeRound=function(t){return a=h.call(t),s=m.f,l()},c.clamp=function(t){return arguments.length?(u=!!t,l()):u},c.interpolate=function(t){return arguments.length?(s=t,l()):s},l()}var S=n(47),T=function(t,e,n){var i,o=t[0],a=t[t.length-1],s=Object(r.j)(o,a,null==e?10:e);switch((n=Object(S.c)(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(o),Math.abs(a));return null!=n.precision||isNaN(i=Object(S.e)(s,u))||(n.precision=i),Object(S.b)(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Object(S.f)(s,Math.max(Math.abs(o),Math.abs(a))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=Object(S.d)(s))||(n.precision=i-2*("%"===n.type))}return Object(S.a)(n)};function k(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(r.k)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return T(e(),t,n)},t.nice=function(n){var i=e(),o=i.length-1,a=null==n?10:n,s=i[0],u=i[o],l=Object(r.j)(s,u,a);return l&&(l=Object(r.j)(Math.floor(s/l)*l,Math.ceil(u/l)*l,a),i[0]=Math.floor(s/l)*l,i[o]=Math.ceil(u/l)*l,e(i)),t},t}function O(){var t=E(b,m.d);return t.copy=function(){return x(t,O())},k(t)}var C=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function M(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function A(){var t=1,e=E(function(e,n){return(n=M(n,t)-(e=M(e,t)))?function(r){return(M(r,t)-e)/n}:v(n)},function(e,n){return n=M(n,t)-(e=M(e,t)),function(r){return M(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return x(e,A().exponent(t))},k(e)}function P(){return A().exponent(.5)}var j=n(15),L=n(86),D=1e3,N=60*D,B=60*N,I=24*B,F=7*I,R=30*I,z=365*I;function V(t){return new Date(t)}function W(t){return t instanceof Date?+t:+new Date(+t)}function U(t,e,n,i,o,a,s,u,l){var c=E(b,m.d),h=c.invert,p=c.domain,d=l(".%L"),v=l(":%S"),y=l("%I:%M"),g=l("%I %p"),_=l("%a %d"),w=l("%b %d"),S=l("%B"),T=l("%Y"),k=[[s,1,D],[s,5,5*D],[s,15,15*D],[s,30,30*D],[a,1,N],[a,5,5*N],[a,15,15*N],[a,30,30*N],[o,1,B],[o,3,3*B],[o,6,6*B],[o,12,12*B],[i,1,I],[i,2,2*I],[n,1,F],[e,1,R],[e,3,3*R],[t,1,z]];function O(r){return(s(r)<r?d:a(r)<r?v:o(r)<r?y:i(r)<r?g:e(r)<r?n(r)<r?_:w:t(r)<r?S:T)(r)}function M(e,n,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=Object(r.c)(function(t){return t[2]}).right(k,a);s===k.length?(o=Object(r.j)(n/z,i/z,e),e=t):s?(o=(s=k[a/k[s-1][2]<k[s][2]/a?s-1:s])[1],e=s[0]):(o=Object(r.j)(n,i,e),e=u)}return null==o?e:e.every(o)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?p(f.call(t,W)):p().map(V)},c.ticks=function(t,e){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=M(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?O:l(e)},c.nice=function(t,e){var n=p();return(t=M(t,n[0],n[n.length-1],e))?p(C(n,t)):c},c.copy=function(){return x(c,U(t,e,n,i,o,a,s,u,l))},c}var q=function(){return U(j.j,j.f,j.i,j.a,j.b,j.d,j.g,j.c,L.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},H=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},G=(H("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),H("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),H("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),H("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),n(8));Object(m.b)(Object(G.b)(300,.5,0),Object(G.b)(-240,.5,1)),Object(m.b)(Object(G.b)(-100,.75,.35),Object(G.b)(80,1.5,.8)),Object(m.b)(Object(G.b)(260,.75,.35),Object(G.b)(80,1.5,.8)),Object(G.b)();function Z(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}Z(H("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Z(H("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Z(H("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Z(H("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));n.d(e,"a",function(){return O}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return A}),n.d(e,"d",function(){return P}),n.d(e,"e",function(){return q})},function(t,e,n){t.exports=!n(14)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(11),i=n(179),o=n(50),a=Object.defineProperty;e.f=n(20)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(52),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",h=1,p=2,d=4,m=1,v=2,y=1,g=2,b=4,_=8,w=16,x=32,E=64,S=128,T=256,k=512,O=30,C="...",M=800,A=16,P=1,j=2,L=1/0,D=9007199254740991,N=1.7976931348623157e308,B=NaN,I=4294967295,F=I-1,R=I>>>1,z=[["ary",S],["bind",y],["bindKey",g],["curry",_],["curryRight",w],["flip",k],["partial",x],["partialRight",E],["rearg",T]],V="[object Arguments]",W="[object Array]",U="[object AsyncFunction]",q="[object Boolean]",H="[object Date]",G="[object DOMException]",Z="[object Error]",K="[object Function]",Y="[object GeneratorFunction]",$="[object Map]",X="[object Number]",J="[object Null]",Q="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",at="[object WeakMap]",st="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",ft="[object Float64Array]",ht="[object Int8Array]",pt="[object Int16Array]",dt="[object Int32Array]",mt="[object Uint8Array]",vt="[object Uint8ClampedArray]",yt="[object Uint16Array]",gt="[object Uint32Array]",bt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,St=RegExp(xt.source),Tt=RegExp(Et.source),kt=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,Mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(jt.source),Dt=/^\s+|\s+$/g,Nt=/^\s+/,Bt=/\s+$/,It=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ft=/\{\n\/\* \[wrapped with (.+)\] \*/,Rt=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vt=/\\(\\)?/g,Wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,qt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,Zt=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\d*)$/,Yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$t=/($^)/,Xt=/['\n\r\u2028\u2029\\]/g,Jt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Qt+"]",ne="["+Jt+"]",re="\\d+",ie="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+Qt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",he="(?:"+oe+"|"+ae+")",pe="(?:"+fe+"|"+ae+")",de="(?:"+ne+"|"+se+")"+"?",me="[\\ufe0e\\ufe0f]?"+de+("(?:\\u200d(?:"+[ue,le,ce].join("|")+")[\\ufe0e\\ufe0f]?"+de+")*"),ve="(?:"+[ie,le,ce].join("|")+")"+me,ye="(?:"+[ue+ne+"?",ne,le,ce,te].join("|")+")",ge=RegExp("['’]","g"),be=RegExp(ne,"g"),_e=RegExp(se+"(?="+se+")|"+ye+me,"g"),we=RegExp([fe+"?"+oe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,fe,"$"].join("|")+")",pe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,fe+he,"$"].join("|")+")",fe+"?"+he+"+(?:['’](?:d|ll|m|re|s|t|ve))?",fe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,ve].join("|"),"g"),xe=RegExp("[\\u200d\\ud800-\\udfff"+Jt+"\\ufe0e\\ufe0f]"),Ee=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Te=-1,ke={};ke[ct]=ke[ft]=ke[ht]=ke[pt]=ke[dt]=ke[mt]=ke[vt]=ke[yt]=ke[gt]=!0,ke[V]=ke[W]=ke[ut]=ke[q]=ke[lt]=ke[H]=ke[Z]=ke[K]=ke[$]=ke[X]=ke[Q]=ke[et]=ke[nt]=ke[rt]=ke[at]=!1;var Oe={};Oe[V]=Oe[W]=Oe[ut]=Oe[lt]=Oe[q]=Oe[H]=Oe[ct]=Oe[ft]=Oe[ht]=Oe[pt]=Oe[dt]=Oe[$]=Oe[X]=Oe[Q]=Oe[et]=Oe[nt]=Oe[rt]=Oe[it]=Oe[mt]=Oe[vt]=Oe[yt]=Oe[gt]=!0,Oe[Z]=Oe[K]=Oe[at]=!1;var Ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Me=parseFloat,Ae=parseInt,Pe="object"==typeof t&&t&&t.Object===Object&&t,je="object"==typeof self&&self&&self.Object===Object&&self,Le=Pe||je||Function("return this")(),De=e&&!e.nodeType&&e,Ne=De&&"object"==typeof r&&r&&!r.nodeType&&r,Be=Ne&&Ne.exports===De,Ie=Be&&Pe.process,Fe=function(){try{var t=Ne&&Ne.require&&Ne.require("util").types;return t||Ie&&Ie.binding&&Ie.binding("util")}catch(t){}}(),Re=Fe&&Fe.isArrayBuffer,ze=Fe&&Fe.isDate,Ve=Fe&&Fe.isMap,We=Fe&&Fe.isRegExp,Ue=Fe&&Fe.isSet,qe=Fe&&Fe.isTypedArray;function He(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ge(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Ze(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ke(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function $e(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Xe(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Je(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Qe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var on=hn("length");function an(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function sn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):sn(t,cn,n)}function ln(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function cn(t){return t!=t}function fn(t,e){var n=null==t?0:t.length;return n?mn(t,e)/n:B}function hn(t){return function(e){return null==e?o:e[t]}}function pn(t){return function(e){return null==t?o:t[e]}}function dn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function mn(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function vn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function yn(t){return function(e){return t(e)}}function gn(t,e){return Qe(e,function(e){return t[e]})}function bn(t,e){return t.has(e)}function _n(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var xn=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),En=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(t){return"\\"+Ce[t]}function Tn(t){return xe.test(t)}function kn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function On(t,e){return function(n){return t(e(n))}}function Cn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==f||(t[n]=f,o[i++]=n)}return o}function Mn(t,e){return"__proto__"==e?o:t[e]}function An(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Pn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function jn(t){return Tn(t)?function(t){var e=_e.lastIndex=0;for(;_e.test(t);)++e;return e}(t):on(t)}function Ln(t){return Tn(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.split("")}(t)}var Dn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Nn=function t(e){var n=(e=null==e?Le:Nn.defaults(Le.Object(),e,Nn.pick(Le,Se))).Array,r=e.Date,i=e.Error,Jt=e.Function,Qt=e.Math,te=e.Object,ee=e.RegExp,ne=e.String,re=e.TypeError,ie=n.prototype,oe=Jt.prototype,ae=te.prototype,se=e["__core-js_shared__"],ue=oe.toString,le=ae.hasOwnProperty,ce=0,fe=function(){var t=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),he=ae.toString,pe=ue.call(te),de=Le._,me=ee("^"+ue.call(le).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=Be?e.Buffer:o,ye=e.Symbol,_e=e.Uint8Array,xe=ve?ve.allocUnsafe:o,Ce=On(te.getPrototypeOf,te),Pe=te.create,je=ae.propertyIsEnumerable,De=ie.splice,Ne=ye?ye.isConcatSpreadable:o,Ie=ye?ye.iterator:o,Fe=ye?ye.toStringTag:o,on=function(){try{var t=Ro(te,"defineProperty");return t({},"",{}),t}catch(t){}}(),pn=e.clearTimeout!==Le.clearTimeout&&e.clearTimeout,Bn=r&&r.now!==Le.Date.now&&r.now,In=e.setTimeout!==Le.setTimeout&&e.setTimeout,Fn=Qt.ceil,Rn=Qt.floor,zn=te.getOwnPropertySymbols,Vn=ve?ve.isBuffer:o,Wn=e.isFinite,Un=ie.join,qn=On(te.keys,te),Hn=Qt.max,Gn=Qt.min,Zn=r.now,Kn=e.parseInt,Yn=Qt.random,$n=ie.reverse,Xn=Ro(e,"DataView"),Jn=Ro(e,"Map"),Qn=Ro(e,"Promise"),tr=Ro(e,"Set"),er=Ro(e,"WeakMap"),nr=Ro(te,"create"),rr=er&&new er,ir={},or=ca(Xn),ar=ca(Jn),sr=ca(Qn),ur=ca(tr),lr=ca(er),cr=ye?ye.prototype:o,fr=cr?cr.valueOf:o,hr=cr?cr.toString:o;function pr(t){if(Os(t)&&!vs(t)&&!(t instanceof yr)){if(t instanceof vr)return t;if(le.call(t,"__wrapped__"))return fa(t)}return new vr(t)}var dr=function(){function t(){}return function(e){if(!ks(e))return{};if(Pe)return Pe(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function mr(){}function vr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I,this.__views__=[]}function gr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new _r;++e<n;)this.add(t[e])}function xr(t){var e=this.__data__=new br(t);this.size=e.size}function Er(t,e){var n=vs(t),r=!n&&ms(t),i=!n&&!r&&_s(t),o=!n&&!r&&!i&&Ns(t),a=n||r||i||o,s=a?vn(t.length,ne):[],u=s.length;for(var l in t)!e&&!le.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Go(l,u))||s.push(l);return s}function Sr(t){var e=t.length;return e?t[wi(0,e-1)]:o}function Tr(t,e){return sa(no(t),Dr(e,0,t.length))}function kr(t){return sa(no(t))}function Or(t,e,n){(n===o||hs(t[e],n))&&(n!==o||e in t)||jr(t,e,n)}function Cr(t,e,n){var r=t[e];le.call(t,e)&&hs(r,n)&&(n!==o||e in t)||jr(t,e,n)}function Mr(t,e){for(var n=t.length;n--;)if(hs(t[n][0],e))return n;return-1}function Ar(t,e,n,r){return Rr(t,function(t,i,o){e(r,t,n(t),o)}),r}function Pr(t,e){return t&&ro(e,ru(e),t)}function jr(t,e,n){"__proto__"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Lr(t,e){for(var r=-1,i=e.length,a=n(i),s=null==t;++r<i;)a[r]=s?o:Js(t,e[r]);return a}function Dr(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Nr(t,e,n,r,i,a){var s,u=e&h,l=e&p,c=e&d;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!ks(t))return t;var f=vs(t);if(f){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return no(t,s)}else{var m=Wo(t),v=m==K||m==Y;if(_s(t))return $i(t,u);if(m==Q||m==V||v&&!i){if(s=l||v?{}:qo(t),!u)return l?function(t,e){return ro(t,Vo(t),e)}(t,function(t,e){return t&&ro(e,iu(e),t)}(s,t)):function(t,e){return ro(t,zo(t),e)}(t,Pr(s,t))}else{if(!Oe[m])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case ut:return Xi(t);case q:case H:return new r(+t);case lt:return function(t,e){var n=e?Xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case ft:case ht:case pt:case dt:case mt:case vt:case yt:case gt:return Ji(t,n);case $:return new r;case X:case rt:return new r(t);case et:return function(t){var e=new t.constructor(t.source,Ut.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new r;case it:return function(t){return fr?te(fr.call(t)):{}}(t)}}(t,m,u)}}a||(a=new xr);var y=a.get(t);if(y)return y;if(a.set(t,s),js(t))return t.forEach(function(r){s.add(Nr(r,e,n,r,t,a))}),s;if(Cs(t))return t.forEach(function(r,i){s.set(i,Nr(r,e,n,i,t,a))}),s;var g=f?o:(c?l?jo:Po:l?iu:ru)(t);return Ze(g||t,function(r,i){g&&(r=t[i=r]),Cr(s,i,Nr(r,e,n,i,t,a))}),s}function Br(t,e,n){var r=n.length;if(null==t)return!r;for(t=te(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function Ir(t,e,n){if("function"!=typeof t)throw new re(u);return ra(function(){t.apply(o,n)},e)}function Fr(t,e,n,r){var i=-1,o=Xe,s=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=Qe(e,yn(n))),r?(o=Je,s=!1):e.length>=a&&(o=bn,s=!1,e=new wr(e));t:for(;++i<u;){var f=t[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,s&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;l.push(f)}else o(e,h,r)||l.push(f)}return l}pr.templateSettings={escape:kt,evaluate:Ot,interpolate:Ct,variable:"",imports:{_:pr}},pr.prototype=mr.prototype,pr.prototype.constructor=pr,vr.prototype=dr(mr.prototype),vr.prototype.constructor=vr,yr.prototype=dr(mr.prototype),yr.prototype.constructor=yr,gr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},gr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gr.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===l?o:n}return le.call(e,t)?e[t]:o},gr.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==o:le.call(e,t)},gr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===o?l:e,this},br.prototype.clear=function(){this.__data__=[],this.size=0},br.prototype.delete=function(t){var e=this.__data__,n=Mr(e,t);return!(n<0||(n==e.length-1?e.pop():De.call(e,n,1),--this.size,0))},br.prototype.get=function(t){var e=this.__data__,n=Mr(e,t);return n<0?o:e[n][1]},br.prototype.has=function(t){return Mr(this.__data__,t)>-1},br.prototype.set=function(t,e){var n=this.__data__,r=Mr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},_r.prototype.clear=function(){this.size=0,this.__data__={hash:new gr,map:new(Jn||br),string:new gr}},_r.prototype.delete=function(t){var e=Io(this,t).delete(t);return this.size-=e?1:0,e},_r.prototype.get=function(t){return Io(this,t).get(t)},_r.prototype.has=function(t){return Io(this,t).has(t)},_r.prototype.set=function(t,e){var n=Io(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(t){return this.__data__.set(t,l),this},wr.prototype.has=function(t){return this.__data__.has(t)},xr.prototype.clear=function(){this.__data__=new br,this.size=0},xr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xr.prototype.get=function(t){return this.__data__.get(t)},xr.prototype.has=function(t){return this.__data__.has(t)},xr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof br){var r=n.__data__;if(!Jn||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _r(r)}return n.set(t,e),this.size=n.size,this};var Rr=ao(Zr),zr=ao(Kr,!0);function Vr(t,e){var n=!0;return Rr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Wr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s==s&&!Ds(s):n(s,u)))var u=s,l=a}return l}function Ur(t,e){var n=[];return Rr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function qr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ho),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?qr(s,e-1,n,r,i):tn(i,s):r||(i[i.length]=s)}return i}var Hr=so(),Gr=so(!0);function Zr(t,e){return t&&Hr(t,e,ru)}function Kr(t,e){return t&&Gr(t,e,ru)}function Yr(t,e){return $e(e,function(e){return Es(t[e])})}function $r(t,e){for(var n=0,r=(e=Gi(e,t)).length;null!=t&&n<r;)t=t[la(e[n++])];return n&&n==r?t:o}function Xr(t,e,n){var r=e(t);return vs(t)?r:tn(r,n(t))}function Jr(t){return null==t?t===o?ot:J:Fe&&Fe in te(t)?function(t){var e=le.call(t,Fe),n=t[Fe];try{t[Fe]=o;var r=!0}catch(t){}var i=he.call(t);return r&&(e?t[Fe]=n:delete t[Fe]),i}(t):function(t){return he.call(t)}(t)}function Qr(t,e){return t>e}function ti(t,e){return null!=t&&le.call(t,e)}function ei(t,e){return null!=t&&e in te(t)}function ni(t,e,r){for(var i=r?Je:Xe,a=t[0].length,s=t.length,u=s,l=n(s),c=1/0,f=[];u--;){var h=t[u];u&&e&&(h=Qe(h,yn(e))),c=Gn(h.length,c),l[u]=!r&&(e||a>=120&&h.length>=120)?new wr(u&&h):o}h=t[0];var p=-1,d=l[0];t:for(;++p<a&&f.length<c;){var m=h[p],v=e?e(m):m;if(m=r||0!==m?m:0,!(d?bn(d,v):i(f,v,r))){for(u=s;--u;){var y=l[u];if(!(y?bn(y,v):i(t[u],v,r)))continue t}d&&d.push(v),f.push(m)}}return f}function ri(t,e,n){var r=null==(t=ea(t,e=Gi(e,t)))?t:t[la(xa(e))];return null==r?o:He(r,t,n)}function ii(t){return Os(t)&&Jr(t)==V}function oi(t,e,n,r,i){return t===e||(null==t||null==e||!Os(t)&&!Os(e)?t!=t&&e!=e:function(t,e,n,r,i,a){var s=vs(t),u=vs(e),l=s?W:Wo(t),c=u?W:Wo(e),f=(l=l==V?Q:l)==Q,h=(c=c==V?Q:c)==Q,p=l==c;if(p&&_s(t)){if(!_s(e))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new xr),s||Ns(t)?Mo(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new _e(t),new _e(e)));case q:case H:case X:return hs(+t,+e);case Z:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case $:var s=kn;case nt:var u=r&m;if(s||(s=An),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=v,a.set(t,e);var c=Mo(s(t),s(e),r,i,o,a);return a.delete(t),c;case it:if(fr)return fr.call(t)==fr.call(e)}return!1}(t,e,l,n,r,i,a);if(!(n&m)){var d=f&&le.call(t,"__wrapped__"),y=h&&le.call(e,"__wrapped__");if(d||y){var g=d?t.value():t,b=y?e.value():e;return a||(a=new xr),i(g,b,n,r,a)}}return!!p&&(a||(a=new xr),function(t,e,n,r,i,a){var s=n&m,u=Po(t),l=u.length,c=Po(e).length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=u[f];if(!(s?h in e:le.call(e,h)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var d=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<l;){h=u[f];var y=t[h],g=e[h];if(r)var b=s?r(g,y,h,e,t,a):r(y,g,h,t,e,a);if(!(b===o?y===g||i(y,g,n,r,a):b)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,r,i,a))}(t,e,n,r,oi,i))}function ai(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=te(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var l=(u=n[i])[0],c=t[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in t))return!1}else{var h=new xr;if(r)var p=r(c,f,l,t,e,h);if(!(p===o?oi(f,c,m|v,r,h):p))return!1}}return!0}function si(t){return!(!ks(t)||function(t){return!!fe&&fe in t}(t))&&(Es(t)?me:Gt).test(ca(t))}function ui(t){return"function"==typeof t?t:null==t?Mu:"object"==typeof t?vs(t)?di(t[0],t[1]):pi(t):Fu(t)}function li(t){if(!Xo(t))return qn(t);var e=[];for(var n in te(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ci(t){if(!ks(t))return function(t){var e=[];if(null!=t)for(var n in te(t))e.push(n);return e}(t);var e=Xo(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function fi(t,e){return t<e}function hi(t,e){var r=-1,i=gs(t)?n(t.length):[];return Rr(t,function(t,n,o){i[++r]=e(t,n,o)}),i}function pi(t){var e=Fo(t);return 1==e.length&&e[0][2]?Qo(e[0][0],e[0][1]):function(n){return n===t||ai(n,t,e)}}function di(t,e){return Ko(t)&&Jo(e)?Qo(la(t),e):function(n){var r=Js(n,t);return r===o&&r===e?Qs(n,t):oi(e,r,m|v)}}function mi(t,e,n,r,i){t!==e&&Hr(e,function(a,s){if(ks(a))i||(i=new xr),function(t,e,n,r,i,a,s){var u=Mn(t,n),l=Mn(e,n),c=s.get(l);if(c)Or(t,n,c);else{var f=a?a(u,l,n+"",t,e,s):o,h=f===o;if(h){var p=vs(l),d=!p&&_s(l),m=!p&&!d&&Ns(l);f=l,p||d||m?vs(u)?f=u:bs(u)?f=no(u):d?(h=!1,f=$i(l,!0)):m?(h=!1,f=Ji(l,!0)):f=[]:As(l)||ms(l)?(f=u,ms(u)?f=Us(u):(!ks(u)||r&&Es(u))&&(f=qo(l))):h=!1}h&&(s.set(l,f),i(f,l,r,a,s),s.delete(l)),Or(t,n,f)}}(t,e,s,n,mi,r,i);else{var u=r?r(Mn(t,s),a,s+"",t,e,i):o;u===o&&(u=a),Or(t,s,u)}},iu)}function vi(t,e){var n=t.length;if(n)return Go(e+=e<0?n:0,n)?t[e]:o}function yi(t,e,n){var r=-1;return e=Qe(e.length?e:[Mu],yn(Bo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(hi(t,function(t,n,i){return{criteria:Qe(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Qi(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function gi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=$r(t,a);n(s,a)&&ki(o,Gi(a,t),s)}return o}function bi(t,e,n,r){var i=r?ln:un,o=-1,a=e.length,s=t;for(t===e&&(e=no(e)),n&&(s=Qe(t,yn(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&De.call(s,u,1),De.call(t,u,1);return t}function _i(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Go(i)?De.call(t,i,1):Fi(t,i)}}return t}function wi(t,e){return t+Rn(Yn()*(e-t+1))}function xi(t,e){var n="";if(!t||e<1||e>D)return n;do{e%2&&(n+=t),(e=Rn(e/2))&&(t+=t)}while(e);return n}function Ei(t,e){return ia(ta(t,e,Mu),t+"")}function Si(t){return Sr(hu(t))}function Ti(t,e){var n=hu(t);return sa(n,Dr(e,0,n.length))}function ki(t,e,n,r){if(!ks(t))return t;for(var i=-1,a=(e=Gi(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var l=la(e[i]),c=n;if(i!=s){var f=u[l];(c=r?r(f,l,u):o)===o&&(c=ks(f)?f:Go(e[i+1])?[]:{})}Cr(u,l,c),u=u[l]}return t}var Oi=rr?function(t,e){return rr.set(t,e),t}:Mu,Ci=on?function(t,e){return on(t,"toString",{configurable:!0,enumerable:!1,value:ku(e),writable:!0})}:Mu;function Mi(t){return sa(hu(t))}function Ai(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function Pi(t,e){var n;return Rr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ji(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=R){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ds(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Li(t,e,Mu,n)}function Li(t,e,n,r){e=n(e);for(var i=0,a=null==t?0:t.length,s=e!=e,u=null===e,l=Ds(e),c=e===o;i<a;){var f=Rn((i+a)/2),h=n(t[f]),p=h!==o,d=null===h,m=h==h,v=Ds(h);if(s)var y=r||m;else y=c?m&&(r||p):u?m&&p&&(r||!d):l?m&&p&&!d&&(r||!v):!d&&!v&&(r?h<=e:h<e);y?i=f+1:a=f}return Gn(a,F)}function Di(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!hs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Ni(t){return"number"==typeof t?t:Ds(t)?B:+t}function Bi(t){if("string"==typeof t)return t;if(vs(t))return Qe(t,Bi)+"";if(Ds(t))return hr?hr.call(t):"";var e=t+"";return"0"==e&&1/t==-L?"-0":e}function Ii(t,e,n){var r=-1,i=Xe,o=t.length,s=!0,u=[],l=u;if(n)s=!1,i=Je;else if(o>=a){var c=e?null:Eo(t);if(c)return An(c);s=!1,i=bn,l=new wr}else l=e?[]:u;t:for(;++r<o;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,s&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue t;e&&l.push(h),u.push(f)}else i(l,h,n)||(l!==u&&l.push(h),u.push(f))}return u}function Fi(t,e){return null==(t=ea(t,e=Gi(e,t)))||delete t[la(xa(e))]}function Ri(t,e,n,r){return ki(t,e,n($r(t,e)),r)}function zi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ai(t,r?0:o,r?o+1:i):Ai(t,r?o+1:0,r?i:o)}function Vi(t,e){var n=t;return n instanceof yr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Wi(t,e,r){var i=t.length;if(i<2)return i?Ii(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=Fr(a[o]||s,t[u],e,r));return Ii(qr(a,1),e,r)}function Ui(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function qi(t){return bs(t)?t:[]}function Hi(t){return"function"==typeof t?t:Mu}function Gi(t,e){return vs(t)?t:Ko(t,e)?[t]:ua(qs(t))}var Zi=Ei;function Ki(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Ai(t,e,n)}var Yi=pn||function(t){return Le.clearTimeout(t)};function $i(t,e){if(e)return t.slice();var n=t.length,r=xe?xe(n):new t.constructor(n);return t.copy(r),r}function Xi(t){var e=new t.constructor(t.byteLength);return new _e(e).set(new _e(t)),e}function Ji(t,e){var n=e?Xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Qi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,a=Ds(t),s=e!==o,u=null===e,l=e==e,c=Ds(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function to(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,l=e.length,c=Hn(a-s,0),f=n(l+c),h=!i;++u<l;)f[u]=e[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=t[o]);for(;c--;)f[u++]=t[o++];return f}function eo(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,l=-1,c=e.length,f=Hn(a-u,0),h=n(f+c),p=!i;++o<f;)h[o]=t[o];for(var d=o;++l<c;)h[d+l]=e[l];for(;++s<u;)(p||o<a)&&(h[d+r[s]]=t[o++]);return h}function no(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function ro(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?jr(n,u,l):Cr(n,u,l)}return n}function io(t,e){return function(n,r){var i=vs(n)?Ge:Ar,o=e?e():{};return i(n,t,Bo(r,2),o)}}function oo(t){return Ei(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&Zo(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=te(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}function ao(t,e){return function(n,r){if(null==n)return n;if(!gs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=te(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function so(t){return function(e,n,r){for(var i=-1,o=te(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function uo(t){return function(e){var n=Tn(e=qs(e))?Ln(e):o,r=n?n[0]:e.charAt(0),i=n?Ki(n,1).join(""):e.slice(1);return r[t]()+i}}function lo(t){return function(e){return en(Eu(mu(e).replace(ge,"")),t,"")}}function co(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dr(t.prototype),r=t.apply(n,e);return ks(r)?r:n}}function fo(t){return function(e,n,r){var i=te(e);if(!gs(e)){var a=Bo(n,3);e=ru(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function ho(t){return Ao(function(e){var n=e.length,r=n,i=vr.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new re(u);if(i&&!s&&"wrapper"==Do(a))var s=new vr([],!0)}for(r=s?r:n;++r<n;){var l=Do(a=e[r]),c="wrapper"==l?Lo(a):o;s=c&&Yo(c[0])&&c[1]==(S|_|x|T)&&!c[4].length&&1==c[9]?s[Do(c[0])].apply(s,c[3]):1==a.length&&Yo(a)?s[l]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&vs(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function po(t,e,r,i,a,s,u,l,c,f){var h=e&S,p=e&y,d=e&g,m=e&(_|w),v=e&k,b=d?o:co(t);return function y(){for(var g=arguments.length,_=n(g),w=g;w--;)_[w]=arguments[w];if(m)var x=No(y),E=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,x);if(i&&(_=to(_,i,a,m)),s&&(_=eo(_,s,u,m)),g-=E,m&&g<f){var S=Cn(_,x);return wo(t,e,po,y.placeholder,r,_,S,l,c,f-g)}var T=p?r:this,k=d?T[t]:t;return g=_.length,l?_=function(t,e){for(var n=t.length,r=Gn(e.length,n),i=no(t);r--;){var a=e[r];t[r]=Go(a,n)?i[a]:o}return t}(_,l):v&&g>1&&_.reverse(),h&&c<g&&(_.length=c),this&&this!==Le&&this instanceof y&&(k=b||co(k)),k.apply(T,_)}}function mo(t,e){return function(n,r){return function(t,e,n,r){return Zr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function vo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Bi(n),r=Bi(r)):(n=Ni(n),r=Ni(r)),i=t(n,r)}return i}}function yo(t){return Ao(function(e){return e=Qe(e,yn(Bo())),Ei(function(n){var r=this;return t(e,function(t){return He(t,r,n)})})})}function go(t,e){var n=(e=e===o?" ":Bi(e)).length;if(n<2)return n?xi(e,t):e;var r=xi(e,Fn(t/jn(e)));return Tn(e)?Ki(Ln(r),0,t).join(""):r.slice(0,t)}function bo(t){return function(e,r,i){return i&&"number"!=typeof i&&Zo(e,r,i)&&(r=i=o),e=Rs(e),r===o?(r=e,e=0):r=Rs(r),function(t,e,r,i){for(var o=-1,a=Hn(Fn((e-t)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=t,t+=r;return s}(e,r,i=i===o?e<r?1:-1:Rs(i),t)}}function _o(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ws(e),n=Ws(n)),t(e,n)}}function wo(t,e,n,r,i,a,s,u,l,c){var f=e&_;e|=f?x:E,(e&=~(f?E:x))&b||(e&=~(y|g));var h=[t,e,i,f?a:o,f?s:o,f?o:a,f?o:s,u,l,c],p=n.apply(o,h);return Yo(t)&&na(p,h),p.placeholder=r,oa(p,t,e)}function xo(t){var e=Qt[t];return function(t,n){if(t=Ws(t),n=null==n?0:Gn(zs(n),292)){var r=(qs(t)+"e").split("e");return+((r=(qs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Eo=tr&&1/An(new tr([,-0]))[1]==L?function(t){return new tr(t)}:Du;function So(t){return function(e){var n=Wo(e);return n==$?kn(e):n==nt?Pn(e):function(t,e){return Qe(e,function(e){return[e,t[e]]})}(e,t(e))}}function To(t,e,r,i,a,s,l,c){var h=e&g;if(!h&&"function"!=typeof t)throw new re(u);var p=i?i.length:0;if(p||(e&=~(x|E),i=a=o),l=l===o?l:Hn(zs(l),0),c=c===o?c:zs(c),p-=a?a.length:0,e&E){var d=i,m=a;i=a=o}var v=h?o:Lo(t),k=[t,e,r,i,a,d,m,s,l,c];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(y|g|S),a=r==S&&n==_||r==S&&n==T&&t[7].length<=e[8]||r==(S|T)&&e[7].length<=e[8]&&n==_;if(!o&&!a)return t;r&y&&(t[2]=e[2],i|=n&y?0:b);var s=e[3];if(s){var u=t[3];t[3]=u?to(u,s,e[4]):s,t[4]=u?Cn(t[3],f):e[4]}(s=e[5])&&(u=t[5],t[5]=u?eo(u,s,e[6]):s,t[6]=u?Cn(t[5],f):e[6]),(s=e[7])&&(t[7]=s),r&S&&(t[8]=null==t[8]?e[8]:Gn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(k,v),t=k[0],e=k[1],r=k[2],i=k[3],a=k[4],!(c=k[9]=k[9]===o?h?0:t.length:Hn(k[9]-p,0))&&e&(_|w)&&(e&=~(_|w)),e&&e!=y)O=e==_||e==w?function(t,e,r){var i=co(t);return function a(){for(var s=arguments.length,u=n(s),l=s,c=No(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:Cn(u,c);return(s-=f.length)<r?wo(t,e,po,a.placeholder,o,u,f,o,o,r-s):He(this&&this!==Le&&this instanceof a?i:t,this,u)}}(t,e,c):e!=x&&e!=(y|x)||a.length?po.apply(o,k):function(t,e,r,i){var o=e&y,a=co(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=n(c+u),h=this&&this!==Le&&this instanceof e?a:t;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return He(h,o?r:this,f)}}(t,e,r,i);else var O=function(t,e,n){var r=e&y,i=co(t);return function e(){return(this&&this!==Le&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return oa((v?Oi:na)(O,k),t,e)}function ko(t,e,n,r){return t===o||hs(t,ae[n])&&!le.call(r,n)?e:t}function Oo(t,e,n,r,i,a){return ks(t)&&ks(e)&&(a.set(e,t),mi(t,e,o,Oo,a),a.delete(e)),t}function Co(t){return As(t)?o:t}function Mo(t,e,n,r,i,a){var s=n&m,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var f=-1,h=!0,p=n&v?new wr:o;for(a.set(t,e),a.set(e,t);++f<u;){var d=t[f],y=e[f];if(r)var g=s?r(y,d,f,e,t,a):r(d,y,f,t,e,a);if(g!==o){if(g)continue;h=!1;break}if(p){if(!rn(e,function(t,e){if(!bn(p,e)&&(d===t||i(d,t,n,r,a)))return p.push(e)})){h=!1;break}}else if(d!==y&&!i(d,y,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function Ao(t){return ia(ta(t,o,ya),t+"")}function Po(t){return Xr(t,ru,zo)}function jo(t){return Xr(t,iu,Vo)}var Lo=rr?function(t){return rr.get(t)}:Du;function Do(t){for(var e=t.name+"",n=ir[e],r=le.call(ir,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function No(t){return(le.call(pr,"placeholder")?pr:t).placeholder}function Bo(){var t=pr.iteratee||Au;return t=t===Au?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function Io(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Fo(t){for(var e=ru(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Jo(i)]}return e}function Ro(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return si(n)?n:o}var zo=zn?function(t){return null==t?[]:(t=te(t),$e(zn(t),function(e){return je.call(t,e)}))}:Vu,Vo=zn?function(t){for(var e=[];t;)tn(e,zo(t)),t=Ce(t);return e}:Vu,Wo=Jr;function Uo(t,e,n){for(var r=-1,i=(e=Gi(e,t)).length,o=!1;++r<i;){var a=la(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ts(i)&&Go(a,i)&&(vs(t)||ms(t))}function qo(t){return"function"!=typeof t.constructor||Xo(t)?{}:dr(Ce(t))}function Ho(t){return vs(t)||ms(t)||!!(Ne&&t&&t[Ne])}function Go(t,e){var n=typeof t;return!!(e=null==e?D:e)&&("number"==n||"symbol"!=n&&Kt.test(t))&&t>-1&&t%1==0&&t<e}function Zo(t,e,n){if(!ks(n))return!1;var r=typeof e;return!!("number"==r?gs(n)&&Go(e,n.length):"string"==r&&e in n)&&hs(n[e],t)}function Ko(t,e){if(vs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ds(t))||At.test(t)||!Mt.test(t)||null!=e&&t in te(e)}function Yo(t){var e=Do(t),n=pr[e];if("function"!=typeof n||!(e in yr.prototype))return!1;if(t===n)return!0;var r=Lo(n);return!!r&&t===r[0]}(Xn&&Wo(new Xn(new ArrayBuffer(1)))!=lt||Jn&&Wo(new Jn)!=$||Qn&&"[object Promise]"!=Wo(Qn.resolve())||tr&&Wo(new tr)!=nt||er&&Wo(new er)!=at)&&(Wo=function(t){var e=Jr(t),n=e==Q?t.constructor:o,r=n?ca(n):"";if(r)switch(r){case or:return lt;case ar:return $;case sr:return"[object Promise]";case ur:return nt;case lr:return at}return e});var $o=se?Es:Wu;function Xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Jo(t){return t==t&&!ks(t)}function Qo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in te(n))}}function ta(t,e,r){return e=Hn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=Hn(i.length-e,0),s=n(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),He(t,this,u)}}function ea(t,e){return e.length<2?t:$r(t,Ai(e,0,-1))}var na=aa(Oi),ra=In||function(t,e){return Le.setTimeout(t,e)},ia=aa(Ci);function oa(t,e,n){var r=e+"";return ia(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(It,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ze(z,function(n){var r="_."+n[0];e&n[1]&&!Xe(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Ft);return e?e[1].split(Rt):[]}(r),n)))}function aa(t){var e=0,n=0;return function(){var r=Zn(),i=A-(r-n);if(n=r,i>0){if(++e>=M)return arguments[0]}else e=0;return t.apply(o,arguments)}}function sa(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=wi(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var ua=function(t){var e=as(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Pt,function(t,n,r,i){e.push(r?i.replace(Vt,"$1"):n||t)}),e});function la(t){if("string"==typeof t||Ds(t))return t;var e=t+"";return"0"==e&&1/t==-L?"-0":e}function ca(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fa(t){if(t instanceof yr)return t.clone();var e=new vr(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ha=Ei(function(t,e){return bs(t)?Fr(t,qr(e,1,bs,!0)):[]}),pa=Ei(function(t,e){var n=xa(e);return bs(n)&&(n=o),bs(t)?Fr(t,qr(e,1,bs,!0),Bo(n,2)):[]}),da=Ei(function(t,e){var n=xa(e);return bs(n)&&(n=o),bs(t)?Fr(t,qr(e,1,bs,!0),o,n):[]});function ma(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:zs(n);return i<0&&(i=Hn(r+i,0)),sn(t,Bo(e,3),i)}function va(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=zs(n),i=n<0?Hn(r+i,0):Gn(i,r-1)),sn(t,Bo(e,3),i,!0)}function ya(t){return null!=t&&t.length?qr(t,1):[]}function ga(t){return t&&t.length?t[0]:o}var ba=Ei(function(t){var e=Qe(t,qi);return e.length&&e[0]===t[0]?ni(e):[]}),_a=Ei(function(t){var e=xa(t),n=Qe(t,qi);return e===xa(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ni(n,Bo(e,2)):[]}),wa=Ei(function(t){var e=xa(t),n=Qe(t,qi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ni(n,o,e):[]});function xa(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Ea=Ei(Sa);function Sa(t,e){return t&&t.length&&e&&e.length?bi(t,e):t}var Ta=Ao(function(t,e){var n=null==t?0:t.length,r=Lr(t,e);return _i(t,Qe(e,function(t){return Go(t,n)?+t:t}).sort(Qi)),r});function ka(t){return null==t?t:$n.call(t)}var Oa=Ei(function(t){return Ii(qr(t,1,bs,!0))}),Ca=Ei(function(t){var e=xa(t);return bs(e)&&(e=o),Ii(qr(t,1,bs,!0),Bo(e,2))}),Ma=Ei(function(t){var e=xa(t);return e="function"==typeof e?e:o,Ii(qr(t,1,bs,!0),o,e)});function Aa(t){if(!t||!t.length)return[];var e=0;return t=$e(t,function(t){if(bs(t))return e=Hn(t.length,e),!0}),vn(e,function(e){return Qe(t,hn(e))})}function Pa(t,e){if(!t||!t.length)return[];var n=Aa(t);return null==e?n:Qe(n,function(t){return He(e,o,t)})}var ja=Ei(function(t,e){return bs(t)?Fr(t,e):[]}),La=Ei(function(t){return Wi($e(t,bs))}),Da=Ei(function(t){var e=xa(t);return bs(e)&&(e=o),Wi($e(t,bs),Bo(e,2))}),Na=Ei(function(t){var e=xa(t);return e="function"==typeof e?e:o,Wi($e(t,bs),o,e)}),Ba=Ei(Aa);var Ia=Ei(function(t){var e=t.length,n=e>1?t[e-1]:o;return Pa(t,n="function"==typeof n?(t.pop(),n):o)});function Fa(t){var e=pr(t);return e.__chain__=!0,e}function Ra(t,e){return e(t)}var za=Ao(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Lr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof yr&&Go(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ra,args:[i],thisArg:o}),new vr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Va=io(function(t,e,n){le.call(t,n)?++t[n]:jr(t,n,1)});var Wa=fo(ma),Ua=fo(va);function qa(t,e){return(vs(t)?Ze:Rr)(t,Bo(e,3))}function Ha(t,e){return(vs(t)?Ke:zr)(t,Bo(e,3))}var Ga=io(function(t,e,n){le.call(t,n)?t[n].push(e):jr(t,n,[e])});var Za=Ei(function(t,e,r){var i=-1,o="function"==typeof e,a=gs(t)?n(t.length):[];return Rr(t,function(t){a[++i]=o?He(e,t,r):ri(t,e,r)}),a}),Ka=io(function(t,e,n){jr(t,n,e)});function Ya(t,e){return(vs(t)?Qe:hi)(t,Bo(e,3))}var $a=io(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Xa=Ei(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Zo(t,e[0],e[1])?e=[]:n>2&&Zo(e[0],e[1],e[2])&&(e=[e[0]]),yi(t,qr(e,1),[])}),Ja=Bn||function(){return Le.Date.now()};function Qa(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,To(t,S,o,o,o,o,e)}function ts(t,e){var n;if("function"!=typeof e)throw new re(u);return t=zs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var es=Ei(function(t,e,n){var r=y;if(n.length){var i=Cn(n,No(es));r|=x}return To(t,r,e,n,i)}),ns=Ei(function(t,e,n){var r=y|g;if(n.length){var i=Cn(n,No(ns));r|=x}return To(e,r,t,n,i)});function rs(t,e,n){var r,i,a,s,l,c,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new re(u);function m(e){var n=r,a=i;return r=i=o,f=e,s=t.apply(a,n)}function v(t){var n=t-c;return c===o||n>=e||n<0||p&&t-f>=a}function y(){var t=Ja();if(v(t))return g(t);l=ra(y,function(t){var n=e-(t-c);return p?Gn(n,a-(t-f)):n}(t))}function g(t){return l=o,d&&r?m(t):(r=i=o,s)}function b(){var t=Ja(),n=v(t);if(r=arguments,i=this,c=t,n){if(l===o)return function(t){return f=t,l=ra(y,e),h?m(t):s}(c);if(p)return l=ra(y,e),m(c)}return l===o&&(l=ra(y,e)),s}return e=Ws(e)||0,ks(n)&&(h=!!n.leading,a=(p="maxWait"in n)?Hn(Ws(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){l!==o&&Yi(l),f=0,r=c=i=l=o},b.flush=function(){return l===o?s:g(Ja())},b}var is=Ei(function(t,e){return Ir(t,1,e)}),os=Ei(function(t,e,n){return Ir(t,Ws(e)||0,n)});function as(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(u);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(as.Cache||_r),n}function ss(t){if("function"!=typeof t)throw new re(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}as.Cache=_r;var us=Zi(function(t,e){var n=(e=1==e.length&&vs(e[0])?Qe(e[0],yn(Bo())):Qe(qr(e,1),yn(Bo()))).length;return Ei(function(r){for(var i=-1,o=Gn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return He(t,this,r)})}),ls=Ei(function(t,e){var n=Cn(e,No(ls));return To(t,x,o,e,n)}),cs=Ei(function(t,e){var n=Cn(e,No(cs));return To(t,E,o,e,n)}),fs=Ao(function(t,e){return To(t,T,o,o,o,e)});function hs(t,e){return t===e||t!=t&&e!=e}var ps=_o(Qr),ds=_o(function(t,e){return t>=e}),ms=ii(function(){return arguments}())?ii:function(t){return Os(t)&&le.call(t,"callee")&&!je.call(t,"callee")},vs=n.isArray,ys=Re?yn(Re):function(t){return Os(t)&&Jr(t)==ut};function gs(t){return null!=t&&Ts(t.length)&&!Es(t)}function bs(t){return Os(t)&&gs(t)}var _s=Vn||Wu,ws=ze?yn(ze):function(t){return Os(t)&&Jr(t)==H};function xs(t){if(!Os(t))return!1;var e=Jr(t);return e==Z||e==G||"string"==typeof t.message&&"string"==typeof t.name&&!As(t)}function Es(t){if(!ks(t))return!1;var e=Jr(t);return e==K||e==Y||e==U||e==tt}function Ss(t){return"number"==typeof t&&t==zs(t)}function Ts(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=D}function ks(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Os(t){return null!=t&&"object"==typeof t}var Cs=Ve?yn(Ve):function(t){return Os(t)&&Wo(t)==$};function Ms(t){return"number"==typeof t||Os(t)&&Jr(t)==X}function As(t){if(!Os(t)||Jr(t)!=Q)return!1;var e=Ce(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==pe}var Ps=We?yn(We):function(t){return Os(t)&&Jr(t)==et};var js=Ue?yn(Ue):function(t){return Os(t)&&Wo(t)==nt};function Ls(t){return"string"==typeof t||!vs(t)&&Os(t)&&Jr(t)==rt}function Ds(t){return"symbol"==typeof t||Os(t)&&Jr(t)==it}var Ns=qe?yn(qe):function(t){return Os(t)&&Ts(t.length)&&!!ke[Jr(t)]};var Bs=_o(fi),Is=_o(function(t,e){return t<=e});function Fs(t){if(!t)return[];if(gs(t))return Ls(t)?Ln(t):no(t);if(Ie&&t[Ie])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ie]());var e=Wo(t);return(e==$?kn:e==nt?An:hu)(t)}function Rs(t){return t?(t=Ws(t))===L||t===-L?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}function zs(t){var e=Rs(t),n=e%1;return e==e?n?e-n:e:0}function Vs(t){return t?Dr(zs(t),0,I):0}function Ws(t){if("number"==typeof t)return t;if(Ds(t))return B;if(ks(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ks(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Dt,"");var n=Ht.test(t);return n||Zt.test(t)?Ae(t.slice(2),n?2:8):qt.test(t)?B:+t}function Us(t){return ro(t,iu(t))}function qs(t){return null==t?"":Bi(t)}var Hs=oo(function(t,e){if(Xo(e)||gs(e))ro(e,ru(e),t);else for(var n in e)le.call(e,n)&&Cr(t,n,e[n])}),Gs=oo(function(t,e){ro(e,iu(e),t)}),Zs=oo(function(t,e,n,r){ro(e,iu(e),t,r)}),Ks=oo(function(t,e,n,r){ro(e,ru(e),t,r)}),Ys=Ao(Lr);var $s=Ei(function(t,e){t=te(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Zo(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=iu(a),u=-1,l=s.length;++u<l;){var c=s[u],f=t[c];(f===o||hs(f,ae[c])&&!le.call(t,c))&&(t[c]=a[c])}return t}),Xs=Ei(function(t){return t.push(o,Oo),He(au,o,t)});function Js(t,e,n){var r=null==t?o:$r(t,e);return r===o?n:r}function Qs(t,e){return null!=t&&Uo(t,e,ei)}var tu=mo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),t[e]=n},ku(Mu)),eu=mo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]},Bo),nu=Ei(ri);function ru(t){return gs(t)?Er(t):li(t)}function iu(t){return gs(t)?Er(t,!0):ci(t)}var ou=oo(function(t,e,n){mi(t,e,n)}),au=oo(function(t,e,n,r){mi(t,e,n,r)}),su=Ao(function(t,e){var n={};if(null==t)return n;var r=!1;e=Qe(e,function(e){return e=Gi(e,t),r||(r=e.length>1),e}),ro(t,jo(t),n),r&&(n=Nr(n,h|p|d,Co));for(var i=e.length;i--;)Fi(n,e[i]);return n});var uu=Ao(function(t,e){return null==t?{}:function(t,e){return gi(t,e,function(e,n){return Qs(t,n)})}(t,e)});function lu(t,e){if(null==t)return{};var n=Qe(jo(t),function(t){return[t]});return e=Bo(e),gi(t,n,function(t,n){return e(t,n[0])})}var cu=So(ru),fu=So(iu);function hu(t){return null==t?[]:gn(t,ru(t))}var pu=lo(function(t,e,n){return e=e.toLowerCase(),t+(n?du(e):e)});function du(t){return xu(qs(t).toLowerCase())}function mu(t){return(t=qs(t))&&t.replace(Yt,xn).replace(be,"")}var vu=lo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yu=lo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),gu=uo("toLowerCase");var bu=lo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var _u=lo(function(t,e,n){return t+(n?" ":"")+xu(e)});var wu=lo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),xu=uo("toUpperCase");function Eu(t,e,n){return t=qs(t),(e=n?o:e)===o?function(t){return Ee.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(zt)||[]}(t):t.match(e)||[]}var Su=Ei(function(t,e){try{return He(t,o,e)}catch(t){return xs(t)?t:new i(t)}}),Tu=Ao(function(t,e){return Ze(e,function(e){e=la(e),jr(t,e,es(t[e],t))}),t});function ku(t){return function(){return t}}var Ou=ho(),Cu=ho(!0);function Mu(t){return t}function Au(t){return ui("function"==typeof t?t:Nr(t,h))}var Pu=Ei(function(t,e){return function(n){return ri(n,t,e)}}),ju=Ei(function(t,e){return function(n){return ri(t,n,e)}});function Lu(t,e,n){var r=ru(e),i=Yr(e,r);null!=n||ks(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Yr(e,ru(e)));var o=!(ks(n)&&"chain"in n&&!n.chain),a=Es(t);return Ze(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Du(){}var Nu=yo(Qe),Bu=yo(Ye),Iu=yo(rn);function Fu(t){return Ko(t)?hn(la(t)):function(t){return function(e){return $r(e,t)}}(t)}var Ru=bo(),zu=bo(!0);function Vu(){return[]}function Wu(){return!1}var Uu=vo(function(t,e){return t+e},0),qu=xo("ceil"),Hu=vo(function(t,e){return t/e},1),Gu=xo("floor");var Zu=vo(function(t,e){return t*e},1),Ku=xo("round"),Yu=vo(function(t,e){return t-e},0);return pr.after=function(t,e){if("function"!=typeof e)throw new re(u);return t=zs(t),function(){if(--t<1)return e.apply(this,arguments)}},pr.ary=Qa,pr.assign=Hs,pr.assignIn=Gs,pr.assignInWith=Zs,pr.assignWith=Ks,pr.at=Ys,pr.before=ts,pr.bind=es,pr.bindAll=Tu,pr.bindKey=ns,pr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return vs(t)?t:[t]},pr.chain=Fa,pr.chunk=function(t,e,r){e=(r?Zo(t,e,r):e===o)?1:Hn(zs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=n(Fn(i/e));a<i;)u[s++]=Ai(t,a,a+=e);return u},pr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},pr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(vs(r)?no(r):[r],qr(e,1))},pr.cond=function(t){var e=null==t?0:t.length,n=Bo();return t=e?Qe(t,function(t){if("function"!=typeof t[1])throw new re(u);return[n(t[0]),t[1]]}):[],Ei(function(n){for(var r=-1;++r<e;){var i=t[r];if(He(i[0],this,n))return He(i[1],this,n)}})},pr.conforms=function(t){return function(t){var e=ru(t);return function(n){return Br(n,t,e)}}(Nr(t,h))},pr.constant=ku,pr.countBy=Va,pr.create=function(t,e){var n=dr(t);return null==e?n:Pr(n,e)},pr.curry=function t(e,n,r){var i=To(e,_,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},pr.curryRight=function t(e,n,r){var i=To(e,w,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},pr.debounce=rs,pr.defaults=$s,pr.defaultsDeep=Xs,pr.defer=is,pr.delay=os,pr.difference=ha,pr.differenceBy=pa,pr.differenceWith=da,pr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ai(t,(e=n||e===o?1:zs(e))<0?0:e,r):[]},pr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ai(t,0,(e=r-(e=n||e===o?1:zs(e)))<0?0:e):[]},pr.dropRightWhile=function(t,e){return t&&t.length?zi(t,Bo(e,3),!0,!0):[]},pr.dropWhile=function(t,e){return t&&t.length?zi(t,Bo(e,3),!0):[]},pr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Zo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=zs(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:zs(r))<0&&(r+=i),r=n>r?0:Vs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},pr.filter=function(t,e){return(vs(t)?$e:Ur)(t,Bo(e,3))},pr.flatMap=function(t,e){return qr(Ya(t,e),1)},pr.flatMapDeep=function(t,e){return qr(Ya(t,e),L)},pr.flatMapDepth=function(t,e,n){return n=n===o?1:zs(n),qr(Ya(t,e),n)},pr.flatten=ya,pr.flattenDeep=function(t){return null!=t&&t.length?qr(t,L):[]},pr.flattenDepth=function(t,e){return null!=t&&t.length?qr(t,e=e===o?1:zs(e)):[]},pr.flip=function(t){return To(t,k)},pr.flow=Ou,pr.flowRight=Cu,pr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},pr.functions=function(t){return null==t?[]:Yr(t,ru(t))},pr.functionsIn=function(t){return null==t?[]:Yr(t,iu(t))},pr.groupBy=Ga,pr.initial=function(t){return null!=t&&t.length?Ai(t,0,-1):[]},pr.intersection=ba,pr.intersectionBy=_a,pr.intersectionWith=wa,pr.invert=tu,pr.invertBy=eu,pr.invokeMap=Za,pr.iteratee=Au,pr.keyBy=Ka,pr.keys=ru,pr.keysIn=iu,pr.map=Ya,pr.mapKeys=function(t,e){var n={};return e=Bo(e,3),Zr(t,function(t,r,i){jr(n,e(t,r,i),t)}),n},pr.mapValues=function(t,e){var n={};return e=Bo(e,3),Zr(t,function(t,r,i){jr(n,r,e(t,r,i))}),n},pr.matches=function(t){return pi(Nr(t,h))},pr.matchesProperty=function(t,e){return di(t,Nr(e,h))},pr.memoize=as,pr.merge=ou,pr.mergeWith=au,pr.method=Pu,pr.methodOf=ju,pr.mixin=Lu,pr.negate=ss,pr.nthArg=function(t){return t=zs(t),Ei(function(e){return vi(e,t)})},pr.omit=su,pr.omitBy=function(t,e){return lu(t,ss(Bo(e)))},pr.once=function(t){return ts(2,t)},pr.orderBy=function(t,e,n,r){return null==t?[]:(vs(e)||(e=null==e?[]:[e]),vs(n=r?o:n)||(n=null==n?[]:[n]),yi(t,e,n))},pr.over=Nu,pr.overArgs=us,pr.overEvery=Bu,pr.overSome=Iu,pr.partial=ls,pr.partialRight=cs,pr.partition=$a,pr.pick=uu,pr.pickBy=lu,pr.property=Fu,pr.propertyOf=function(t){return function(e){return null==t?o:$r(t,e)}},pr.pull=Ea,pr.pullAll=Sa,pr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,Bo(n,2)):t},pr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,o,n):t},pr.pullAt=Ta,pr.range=Ru,pr.rangeRight=zu,pr.rearg=fs,pr.reject=function(t,e){return(vs(t)?$e:Ur)(t,ss(Bo(e,3)))},pr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Bo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return _i(t,i),n},pr.rest=function(t,e){if("function"!=typeof t)throw new re(u);return Ei(t,e=e===o?e:zs(e))},pr.reverse=ka,pr.sampleSize=function(t,e,n){return e=(n?Zo(t,e,n):e===o)?1:zs(e),(vs(t)?Tr:Ti)(t,e)},pr.set=function(t,e,n){return null==t?t:ki(t,e,n)},pr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:ki(t,e,n,r)},pr.shuffle=function(t){return(vs(t)?kr:Mi)(t)},pr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Zo(t,e,n)?(e=0,n=r):(e=null==e?0:zs(e),n=n===o?r:zs(n)),Ai(t,e,n)):[]},pr.sortBy=Xa,pr.sortedUniq=function(t){return t&&t.length?Di(t):[]},pr.sortedUniqBy=function(t,e){return t&&t.length?Di(t,Bo(e,2)):[]},pr.split=function(t,e,n){return n&&"number"!=typeof n&&Zo(t,e,n)&&(e=n=o),(n=n===o?I:n>>>0)?(t=qs(t))&&("string"==typeof e||null!=e&&!Ps(e))&&!(e=Bi(e))&&Tn(t)?Ki(Ln(t),0,n):t.split(e,n):[]},pr.spread=function(t,e){if("function"!=typeof t)throw new re(u);return e=null==e?0:Hn(zs(e),0),Ei(function(n){var r=n[e],i=Ki(n,0,e);return r&&tn(i,r),He(t,this,i)})},pr.tail=function(t){var e=null==t?0:t.length;return e?Ai(t,1,e):[]},pr.take=function(t,e,n){return t&&t.length?Ai(t,0,(e=n||e===o?1:zs(e))<0?0:e):[]},pr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ai(t,(e=r-(e=n||e===o?1:zs(e)))<0?0:e,r):[]},pr.takeRightWhile=function(t,e){return t&&t.length?zi(t,Bo(e,3),!1,!0):[]},pr.takeWhile=function(t,e){return t&&t.length?zi(t,Bo(e,3)):[]},pr.tap=function(t,e){return e(t),t},pr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new re(u);return ks(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rs(t,e,{leading:r,maxWait:e,trailing:i})},pr.thru=Ra,pr.toArray=Fs,pr.toPairs=cu,pr.toPairsIn=fu,pr.toPath=function(t){return vs(t)?Qe(t,la):Ds(t)?[t]:no(ua(qs(t)))},pr.toPlainObject=Us,pr.transform=function(t,e,n){var r=vs(t),i=r||_s(t)||Ns(t);if(e=Bo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ks(t)&&Es(o)?dr(Ce(t)):{}}return(i?Ze:Zr)(t,function(t,r,i){return e(n,t,r,i)}),n},pr.unary=function(t){return Qa(t,1)},pr.union=Oa,pr.unionBy=Ca,pr.unionWith=Ma,pr.uniq=function(t){return t&&t.length?Ii(t):[]},pr.uniqBy=function(t,e){return t&&t.length?Ii(t,Bo(e,2)):[]},pr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Ii(t,o,e):[]},pr.unset=function(t,e){return null==t||Fi(t,e)},pr.unzip=Aa,pr.unzipWith=Pa,pr.update=function(t,e,n){return null==t?t:Ri(t,e,Hi(n))},pr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Ri(t,e,Hi(n),r)},pr.values=hu,pr.valuesIn=function(t){return null==t?[]:gn(t,iu(t))},pr.without=ja,pr.words=Eu,pr.wrap=function(t,e){return ls(Hi(e),t)},pr.xor=La,pr.xorBy=Da,pr.xorWith=Na,pr.zip=Ba,pr.zipObject=function(t,e){return Ui(t||[],e||[],Cr)},pr.zipObjectDeep=function(t,e){return Ui(t||[],e||[],ki)},pr.zipWith=Ia,pr.entries=cu,pr.entriesIn=fu,pr.extend=Gs,pr.extendWith=Zs,Lu(pr,pr),pr.add=Uu,pr.attempt=Su,pr.camelCase=pu,pr.capitalize=du,pr.ceil=qu,pr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Ws(n))==n?n:0),e!==o&&(e=(e=Ws(e))==e?e:0),Dr(Ws(t),e,n)},pr.clone=function(t){return Nr(t,d)},pr.cloneDeep=function(t){return Nr(t,h|d)},pr.cloneDeepWith=function(t,e){return Nr(t,h|d,e="function"==typeof e?e:o)},pr.cloneWith=function(t,e){return Nr(t,d,e="function"==typeof e?e:o)},pr.conformsTo=function(t,e){return null==e||Br(t,e,ru(e))},pr.deburr=mu,pr.defaultTo=function(t,e){return null==t||t!=t?e:t},pr.divide=Hu,pr.endsWith=function(t,e,n){t=qs(t),e=Bi(e);var r=t.length,i=n=n===o?r:Dr(zs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},pr.eq=hs,pr.escape=function(t){return(t=qs(t))&&Tt.test(t)?t.replace(Et,En):t},pr.escapeRegExp=function(t){return(t=qs(t))&&Lt.test(t)?t.replace(jt,"\\$&"):t},pr.every=function(t,e,n){var r=vs(t)?Ye:Vr;return n&&Zo(t,e,n)&&(e=o),r(t,Bo(e,3))},pr.find=Wa,pr.findIndex=ma,pr.findKey=function(t,e){return an(t,Bo(e,3),Zr)},pr.findLast=Ua,pr.findLastIndex=va,pr.findLastKey=function(t,e){return an(t,Bo(e,3),Kr)},pr.floor=Gu,pr.forEach=qa,pr.forEachRight=Ha,pr.forIn=function(t,e){return null==t?t:Hr(t,Bo(e,3),iu)},pr.forInRight=function(t,e){return null==t?t:Gr(t,Bo(e,3),iu)},pr.forOwn=function(t,e){return t&&Zr(t,Bo(e,3))},pr.forOwnRight=function(t,e){return t&&Kr(t,Bo(e,3))},pr.get=Js,pr.gt=ps,pr.gte=ds,pr.has=function(t,e){return null!=t&&Uo(t,e,ti)},pr.hasIn=Qs,pr.head=ga,pr.identity=Mu,pr.includes=function(t,e,n,r){t=gs(t)?t:hu(t),n=n&&!r?zs(n):0;var i=t.length;return n<0&&(n=Hn(i+n,0)),Ls(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},pr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:zs(n);return i<0&&(i=Hn(r+i,0)),un(t,e,i)},pr.inRange=function(t,e,n){return e=Rs(e),n===o?(n=e,e=0):n=Rs(n),function(t,e,n){return t>=Gn(e,n)&&t<Hn(e,n)}(t=Ws(t),e,n)},pr.invoke=nu,pr.isArguments=ms,pr.isArray=vs,pr.isArrayBuffer=ys,pr.isArrayLike=gs,pr.isArrayLikeObject=bs,pr.isBoolean=function(t){return!0===t||!1===t||Os(t)&&Jr(t)==q},pr.isBuffer=_s,pr.isDate=ws,pr.isElement=function(t){return Os(t)&&1===t.nodeType&&!As(t)},pr.isEmpty=function(t){if(null==t)return!0;if(gs(t)&&(vs(t)||"string"==typeof t||"function"==typeof t.splice||_s(t)||Ns(t)||ms(t)))return!t.length;var e=Wo(t);if(e==$||e==nt)return!t.size;if(Xo(t))return!li(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},pr.isEqual=function(t,e){return oi(t,e)},pr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?oi(t,e,o,n):!!r},pr.isError=xs,pr.isFinite=function(t){return"number"==typeof t&&Wn(t)},pr.isFunction=Es,pr.isInteger=Ss,pr.isLength=Ts,pr.isMap=Cs,pr.isMatch=function(t,e){return t===e||ai(t,e,Fo(e))},pr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,ai(t,e,Fo(e),n)},pr.isNaN=function(t){return Ms(t)&&t!=+t},pr.isNative=function(t){if($o(t))throw new i(s);return si(t)},pr.isNil=function(t){return null==t},pr.isNull=function(t){return null===t},pr.isNumber=Ms,pr.isObject=ks,pr.isObjectLike=Os,pr.isPlainObject=As,pr.isRegExp=Ps,pr.isSafeInteger=function(t){return Ss(t)&&t>=-D&&t<=D},pr.isSet=js,pr.isString=Ls,pr.isSymbol=Ds,pr.isTypedArray=Ns,pr.isUndefined=function(t){return t===o},pr.isWeakMap=function(t){return Os(t)&&Wo(t)==at},pr.isWeakSet=function(t){return Os(t)&&Jr(t)==st},pr.join=function(t,e){return null==t?"":Un.call(t,e)},pr.kebabCase=vu,pr.last=xa,pr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=zs(n))<0?Hn(r+i,0):Gn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):sn(t,cn,i,!0)},pr.lowerCase=yu,pr.lowerFirst=gu,pr.lt=Bs,pr.lte=Is,pr.max=function(t){return t&&t.length?Wr(t,Mu,Qr):o},pr.maxBy=function(t,e){return t&&t.length?Wr(t,Bo(e,2),Qr):o},pr.mean=function(t){return fn(t,Mu)},pr.meanBy=function(t,e){return fn(t,Bo(e,2))},pr.min=function(t){return t&&t.length?Wr(t,Mu,fi):o},pr.minBy=function(t,e){return t&&t.length?Wr(t,Bo(e,2),fi):o},pr.stubArray=Vu,pr.stubFalse=Wu,pr.stubObject=function(){return{}},pr.stubString=function(){return""},pr.stubTrue=function(){return!0},pr.multiply=Zu,pr.nth=function(t,e){return t&&t.length?vi(t,zs(e)):o},pr.noConflict=function(){return Le._===this&&(Le._=de),this},pr.noop=Du,pr.now=Ja,pr.pad=function(t,e,n){t=qs(t);var r=(e=zs(e))?jn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return go(Rn(i),n)+t+go(Fn(i),n)},pr.padEnd=function(t,e,n){t=qs(t);var r=(e=zs(e))?jn(t):0;return e&&r<e?t+go(e-r,n):t},pr.padStart=function(t,e,n){t=qs(t);var r=(e=zs(e))?jn(t):0;return e&&r<e?go(e-r,n)+t:t},pr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Kn(qs(t).replace(Nt,""),e||0)},pr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Zo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Rs(t),e===o?(e=t,t=0):e=Rs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Yn();return Gn(t+i*(e-t+Me("1e-"+((i+"").length-1))),e)}return wi(t,e)},pr.reduce=function(t,e,n){var r=vs(t)?en:dn,i=arguments.length<3;return r(t,Bo(e,4),n,i,Rr)},pr.reduceRight=function(t,e,n){var r=vs(t)?nn:dn,i=arguments.length<3;return r(t,Bo(e,4),n,i,zr)},pr.repeat=function(t,e,n){return e=(n?Zo(t,e,n):e===o)?1:zs(e),xi(qs(t),e)},pr.replace=function(){var t=arguments,e=qs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pr.result=function(t,e,n){var r=-1,i=(e=Gi(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[la(e[r])];a===o&&(r=i,a=n),t=Es(a)?a.call(t):a}return t},pr.round=Ku,pr.runInContext=t,pr.sample=function(t){return(vs(t)?Sr:Si)(t)},pr.size=function(t){if(null==t)return 0;if(gs(t))return Ls(t)?jn(t):t.length;var e=Wo(t);return e==$||e==nt?t.size:li(t).length},pr.snakeCase=bu,pr.some=function(t,e,n){var r=vs(t)?rn:Pi;return n&&Zo(t,e,n)&&(e=o),r(t,Bo(e,3))},pr.sortedIndex=function(t,e){return ji(t,e)},pr.sortedIndexBy=function(t,e,n){return Li(t,e,Bo(n,2))},pr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ji(t,e);if(r<n&&hs(t[r],e))return r}return-1},pr.sortedLastIndex=function(t,e){return ji(t,e,!0)},pr.sortedLastIndexBy=function(t,e,n){return Li(t,e,Bo(n,2),!0)},pr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ji(t,e,!0)-1;if(hs(t[n],e))return n}return-1},pr.startCase=_u,pr.startsWith=function(t,e,n){return t=qs(t),n=null==n?0:Dr(zs(n),0,t.length),e=Bi(e),t.slice(n,n+e.length)==e},pr.subtract=Yu,pr.sum=function(t){return t&&t.length?mn(t,Mu):0},pr.sumBy=function(t,e){return t&&t.length?mn(t,Bo(e,2)):0},pr.template=function(t,e,n){var r=pr.templateSettings;n&&Zo(t,e,n)&&(e=o),t=qs(t),e=Zs({},e,r,ko);var i,a,s=Zs({},e.imports,r.imports,ko),u=ru(s),l=gn(s,u),c=0,f=e.interpolate||$t,h="__p += '",p=ee((e.escape||$t).source+"|"+f.source+"|"+(f===Ct?Wt:$t).source+"|"+(e.evaluate||$t).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Te+"]")+"\n";t.replace(p,function(e,n,r,o,s,u){return r||(r=o),h+=t.slice(c,u).replace(Xt,Sn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),h+="';\n";var m=e.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(bt,""):h).replace(_t,"$1").replace(wt,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Su(function(){return Jt(u,d+"return "+h).apply(o,l)});if(v.source=h,xs(v))throw v;return v},pr.times=function(t,e){if((t=zs(t))<1||t>D)return[];var n=I,r=Gn(t,I);e=Bo(e),t-=I;for(var i=vn(r,e);++n<t;)e(n);return i},pr.toFinite=Rs,pr.toInteger=zs,pr.toLength=Vs,pr.toLower=function(t){return qs(t).toLowerCase()},pr.toNumber=Ws,pr.toSafeInteger=function(t){return t?Dr(zs(t),-D,D):0===t?t:0},pr.toString=qs,pr.toUpper=function(t){return qs(t).toUpperCase()},pr.trim=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(Dt,"");if(!t||!(e=Bi(e)))return t;var r=Ln(t),i=Ln(e);return Ki(r,_n(r,i),wn(r,i)+1).join("")},pr.trimEnd=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(Bt,"");if(!t||!(e=Bi(e)))return t;var r=Ln(t);return Ki(r,0,wn(r,Ln(e))+1).join("")},pr.trimStart=function(t,e,n){if((t=qs(t))&&(n||e===o))return t.replace(Nt,"");if(!t||!(e=Bi(e)))return t;var r=Ln(t);return Ki(r,_n(r,Ln(e))).join("")},pr.truncate=function(t,e){var n=O,r=C;if(ks(e)){var i="separator"in e?e.separator:i;n="length"in e?zs(e.length):n,r="omission"in e?Bi(e.omission):r}var a=(t=qs(t)).length;if(Tn(t)){var s=Ln(t);a=s.length}if(n>=a)return t;var u=n-jn(r);if(u<1)return r;var l=s?Ki(s,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),Ps(i)){if(t.slice(u).search(i)){var c,f=l;for(i.global||(i=ee(i.source,qs(Ut.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var h=c.index;l=l.slice(0,h===o?u:h)}}else if(t.indexOf(Bi(i),u)!=u){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r},pr.unescape=function(t){return(t=qs(t))&&St.test(t)?t.replace(xt,Dn):t},pr.uniqueId=function(t){var e=++ce;return qs(t)+e},pr.upperCase=wu,pr.upperFirst=xu,pr.each=qa,pr.eachRight=Ha,pr.first=ga,Lu(pr,function(){var t={};return Zr(pr,function(e,n){le.call(pr.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),pr.VERSION="4.17.10",Ze(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pr[t].placeholder=pr}),Ze(["drop","take"],function(t,e){yr.prototype[t]=function(n){n=n===o?1:Hn(zs(n),0);var r=this.__filtered__&&!e?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Gn(n,r.__takeCount__):r.__views__.push({size:Gn(n,I),type:t+(r.__dir__<0?"Right":"")}),r},yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ze(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==P||3==n;yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Bo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Ze(["head","last"],function(t,e){var n="take"+(e?"Right":"");yr.prototype[t]=function(){return this[n](1).value()[0]}}),Ze(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[n](1)}}),yr.prototype.compact=function(){return this.filter(Mu)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=Ei(function(t,e){return"function"==typeof t?new yr(this):this.map(function(n){return ri(n,t,e)})}),yr.prototype.reject=function(t){return this.filter(ss(Bo(t)))},yr.prototype.slice=function(t,e){t=zs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new yr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=zs(e))<0?n.dropRight(-e):n.take(e-t)),n)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(I)},Zr(yr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=pr[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(pr.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof yr,l=s[0],c=u||vs(e),f=function(t){var e=i.apply(pr,tn([t],s));return r&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,m=u&&!p;if(!a&&c){e=m?e:new yr(this);var v=t.apply(e,s);return v.__actions__.push({func:Ra,args:[f],thisArg:o}),new vr(v,h)}return d&&m?t.apply(this,s):(v=this.thru(f),d?r?v.value()[0]:v.value():v)})}),Ze(["pop","push","shift","sort","splice","unshift"],function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);pr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(vs(i)?i:[],t)}return this[n](function(n){return e.apply(vs(n)?n:[],t)})}}),Zr(yr.prototype,function(t,e){var n=pr[e];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:e,func:n})}}),ir[po(o,g).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=vs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Gn(e,t+a);break;case"takeRight":t=Hn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,p=Gn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return Vi(t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var m=-1,v=t[l+=e];++m<f;){var y=c[m],g=y.iteratee,b=y.type,_=g(v);if(b==j)v=_;else if(!_){if(b==P)continue t;break t}}d[h++]=v}return d},pr.prototype.at=za,pr.prototype.chain=function(){return Fa(this)},pr.prototype.commit=function(){return new vr(this.value(),this.__chain__)},pr.prototype.next=function(){this.__values__===o&&(this.__values__=Fs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},pr.prototype.plant=function(t){for(var e,n=this;n instanceof mr;){var r=fa(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},pr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var e=t;return this.__actions__.length&&(e=new yr(this)),(e=e.reverse()).__actions__.push({func:Ra,args:[ka],thisArg:o}),new vr(e,this.__chain__)}return this.thru(ka)},pr.prototype.toJSON=pr.prototype.valueOf=pr.prototype.value=function(){return Vi(this.__wrapped__,this.__actions__)},pr.prototype.first=pr.prototype.head,Ie&&(pr.prototype[Ie]=function(){return this}),pr}();Le._=Nn,(i=function(){return Nn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(65),n(167)(t))},function(t,e,n){var r=n(51);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return s});var r=function t(e){if(e.terminal)e.leafCount=1;else{e.leafCount=0;for(var n=0;n<e.children.length;n++)t(e.children[n]),e.leafCount+=e.children[n].leafCount}},i=function t(e,n){if(n(e),!e.terminal&&void 0!==e.children)for(var r=0;r<e.children.length;r++)t(e.children[r],n)},o=function(t){var e=0;return t.forEach(function(t){if(t.parent=t.n.parent.shell,t.terminal)t.yRange=[t.n.yvalue,t.n.yvalue],t.children=null,e++;else{t.yRange=[t.n.children[0].yvalue,t.n.children[t.n.children.length-1].yvalue],t.children=[];for(var n=0;n<t.n.children.length;n++)t.children.push(t.n.children[n].shell)}}),e},a=function t(e,n){if(!e.children)return e.n.yvalue=++n,e.yRange=[n,n],n;for(var r=e.children.length-1;r>=0;r--)n=t(e.children[r],n);return e.n.yvalue=e.children.reduce(function(t,e){return t+e.n.yvalue},0)/e.children.length,e.yRange=[e.n.children[0].yvalue,e.n.children[e.n.children.length-1].yvalue],n},s=function(t){return a(t[0],0)}},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return l});var r=n(1),i=n(3),o=function(t){return function(e,n){var o=n().notifications.counter+1;e(Object.assign({},t,{type:r.b,id:o})),"error"!==t.notificationType&&window.setTimeout(function(){return e({type:r.H,id:o})},i.D)}},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,n=void 0===e?"Info":e,r=t.details;return o({notificationType:"info",message:n,details:void 0===r?"":r})},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,n=void 0===e?"Error":e,r=t.details;return o({notificationType:"error",message:n,details:void 0===r?"":r})},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,n=void 0===e?"Success!":e,r=t.details;return o({notificationType:"success",message:n,details:void 0===r?"":r})},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,n=void 0===e?"Warning":e,r=t.details;return o({notificationType:"warning",message:n,details:void 0===r?"":r})}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return l});var r=n(3),i=n(45),o=function(t,e){return t.filter(function(t,n){return e[n]===r.b&&!t.hasChildren}).reduce(function(t,e){return e.attr.num_date<t[0]?[e.attr.num_date,t[1]]:e.attr.num_date>t[1]?[t[0],e.attr.num_date]:t},[1e5,-1e5])},a=function(t,e){var n;for(n=0;n<t.length;n++)if(t[n].strain===e)return n;return console.error("strainNameToIdx couldn't find strain"),0},s=function(t,e){var n;for(n=0;n<t.length;n++)if(void 0!==t[n].attr.labels&&void 0!==t[n].attr.labels.clade&&t[n].attr.labels.clade===e)return n;return console.error("cladeNameToIdx couldn't find clade"),0},u=function t(e,n){0===n.arrayIdx||e[n.parent.arrayIdx]||(e[n.parent.arrayIdx]=!0,t(e,n.parent))},l=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.idxOfInViewRootNode,s=void 0===a?0:a,l=o.tipSelectedIdx,c=void 0===l?0:l,f=c?function(t,e){var n=new Array(t.length).fill(!1);return n[e]=!0,u(n,t[e]),n.map(function(t){return t?2:0})}(t.nodes,c):function(t,e,n){if(t.nodes){var i,o;try{i=t.nodes.map(function(t){return t.shell.inView})}catch(e){i=t.nodes.map(function(t){return void 0===t.inView||t.inView})}var a=[];if(Object.keys(e.filters).forEach(function(t){e.filters[t].length&&a.push([t,e.filters[t]])}),a.length)for(var s=(o=t.nodes.map(function(t,e){return!t.hasChildren&&i[e]&&a.every(function(e){return e[1].indexOf(t.attr[e[0]])>-1})})).reduce(function(t,e,n){return e&&t.push(n),t},[]),l=0;l<s.length;l++)u(o,t.nodes[s[l]]);return t.nodes.map(function(t,a){if(i[a]&&(!o||o[a])){var s=t.attr.num_date;if("divOnly"===e.branchLengthsToDisplay&&void 0===t.attr.num_date)return r.b;if(s>=n.dateMinNumeric&&s<=n.dateMaxNumeric)return r.b;if(!(s<n.dateMinNumeric||t.parent.attr.num_date>n.dateMaxNumeric))return r.c}return r.a})}return console.error("calcVisibility ran without tree.nodes"),r.b}(t,e,n);return Object(i.a)(t.nodes[0],f),{visibility:f,visibilityVersion:t.visibilityVersion+1,branchThickness:function(t,e,n){var i=t[n].tipCount;return i||(i=1),t.map(function(t,n){return 2===e[n]?Object(r.t)((t.tipCount+5)/(i+5)):.5})}(t.nodes,f,s),branchThicknessVersion:t.branchThicknessVersion+1}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u});var r=n(63),i=n(1);n(104);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(t){var e=t.toLowerCase().replace(/^\/+/,"").replace(/\/+$/,"").split("/");return!e.length||1===e.length&&""===e[0]||1===e.length&&"local"===e[0]||1===e.length&&"staging"===e[0]||1===e.length&&"community"===e[0]||1===e.length&&"narratives"===e[0]||2===e.length&&"local"===e[0]&&"narratives"===e[1]?"splash":"status"===e[0]?"status":"datasetLoader"},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.path,n=void 0===e?void 0:e,a=t.query,s=void 0===a?void 0:a,u=t.queryToDisplay,l=void 0===u?void 0:u,c=t.push,f=void 0===c||c,h=t.dontChangeDataset,p=void 0!==h&&h;return function(t,e){var a=e();n||(n=window.location.pathname),s||(s=window.location.search),l||(l=s);var u=a.general.pathname!==n;if(!p||u){t({type:i.G,path:n,displayComponent:"datasetLoader",pushState:f,query:s})}else{var c=Object(r.b)({oldState:a,query:s});t(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}({type:i.T},c,{pushState:f,query:l}))}}},u=function(t){return{type:i.G,path:"/",displayComponent:"splash",errorMessage:t,pushState:!0}}},function(t,e,n){"use strict";
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/react-select
*/Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=i(n(0)),s=i(n(62)),u=i(n(5)),l=i(n(133)),c=i(n(522)),f=i(n(124)),h=i(n(523)),p=i(n(219)),d=i(n(221)),m=i(n(524)),v=i(n(525)),y=i(n(526)),g=i(n(527)),b=i(n(528)),_=i(n(529));function w(t){var e=typeof t;return"string"===e?t:"object"===e?JSON.stringify(t):"number"===e||"boolean"===e?String(t):""}var x=u.default.oneOfType([u.default.string,u.default.node]),E=1,S=(0,s.default)({displayName:"Select",propTypes:{addLabelText:u.default.string,"aria-describedby":u.default.string,"aria-label":u.default.string,"aria-labelledby":u.default.string,arrowRenderer:u.default.func,autoBlur:u.default.bool,autofocus:u.default.bool,autosize:u.default.bool,backspaceRemoves:u.default.bool,backspaceToRemoveMessage:u.default.string,className:u.default.string,clearAllText:x,clearRenderer:u.default.func,clearValueText:x,clearable:u.default.bool,deleteRemoves:u.default.bool,delimiter:u.default.string,disabled:u.default.bool,escapeClearsValue:u.default.bool,filterOption:u.default.func,filterOptions:u.default.any,ignoreAccents:u.default.bool,ignoreCase:u.default.bool,inputProps:u.default.object,inputRenderer:u.default.func,instanceId:u.default.string,isLoading:u.default.bool,joinValues:u.default.bool,labelKey:u.default.string,matchPos:u.default.string,matchProp:u.default.string,menuBuffer:u.default.number,menuContainerStyle:u.default.object,menuRenderer:u.default.func,menuStyle:u.default.object,multi:u.default.bool,name:u.default.string,noResultsText:x,onBlur:u.default.func,onBlurResetsInput:u.default.bool,onChange:u.default.func,onClose:u.default.func,onCloseResetsInput:u.default.bool,onFocus:u.default.func,onInputChange:u.default.func,onInputKeyDown:u.default.func,onMenuScrollToBottom:u.default.func,onOpen:u.default.func,onValueClick:u.default.func,openAfterFocus:u.default.bool,openOnFocus:u.default.bool,optionClassName:u.default.string,optionComponent:u.default.func,optionRenderer:u.default.func,options:u.default.array,pageSize:u.default.number,placeholder:x,required:u.default.bool,resetValue:u.default.any,scrollMenuIntoView:u.default.bool,searchable:u.default.bool,simpleValue:u.default.bool,style:u.default.object,tabIndex:u.default.string,tabSelectsValue:u.default.bool,value:u.default.any,valueComponent:u.default.func,valueKey:u.default.string,valueRenderer:u.default.func,wrapperStyle:u.default.object},statics:{Async:v.default,AsyncCreatable:y.default,Creatable:g.default},getDefaultProps:function(){return{addLabelText:'Add "{label}"?',arrowRenderer:h.default,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:m.default,clearValueText:"Clear value",deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:p.default,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:d.default,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,optionComponent:b.default,pageSize:5,placeholder:"Select...",required:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,valueComponent:_.default,valueKey:"value"}},getInitialState:function(){return{inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1}},componentWillMount:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++E)+"-";var t=this.getValueArray(this.props.value);this.props.required&&this.setState({required:this.handleRequired(t[0],this.props.multi)})},componentDidMount:function(){this.props.autofocus&&this.focus()},componentWillReceiveProps:function(t){var e=this.getValueArray(t.value,t);t.required&&this.setState({required:this.handleRequired(e[0],t.multi)})},componentWillUpdate:function(t,e){if(e.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(e.isOpen);var n=e.isOpen?t.onOpen:t.onClose;n&&n()}},componentDidUpdate:function(t,e){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=l.default.findDOMNode(this.focused);l.default.findDOMNode(this.menu).scrollTop=n.offsetTop,this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var r=l.default.findDOMNode(this.focused),i=l.default.findDOMNode(this.menu),o=r.getBoundingClientRect(),a=i.getBoundingClientRect();(o.bottom>a.bottom||o.top<a.top)&&(i.scrollTop=r.offsetTop+r.clientHeight-i.offsetHeight)}if(this.props.scrollMenuIntoView&&this.menuContainer){var s=this.menuContainer.getBoundingClientRect();window.innerHeight<s.bottom+this.props.menuBuffer&&window.scrollBy(0,s.bottom+this.props.menuBuffer-window.innerHeight)}t.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu())},componentWillUnmount:function(){!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)},toggleTouchOutsideEvent:function(t){t?!document.addEventListener&&document.attachEvent?document.attachEvent("ontouchstart",this.handleTouchOutside):document.addEventListener("touchstart",this.handleTouchOutside):!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)},handleTouchOutside:function(t){this.wrapper&&!this.wrapper.contains(t.target)&&this.closeMenu()},focus:function(){this.input&&this.input.focus()},blurInput:function(){this.input&&this.input.blur()},handleTouchMove:function(t){this.dragging=!0},handleTouchStart:function(t){this.dragging=!1},handleTouchEnd:function(t){this.dragging||this.handleMouseDown(t)},handleTouchEndClearValue:function(t){this.dragging||this.clearValue(t)},handleMouseDown:function(t){if(!(this.props.disabled||"mousedown"===t.type&&0!==t.button)&&"INPUT"!==t.target.tagName){if(t.stopPropagation(),t.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen});if(this.state.isFocused){this.focus();var e=this.input;"function"==typeof e.getInput&&(e=e.getInput()),e.value="",this.setState({isOpen:!0,isPseudoFocused:!1})}else this._openAfterFocus=!0,this.focus()}},handleMouseDownOnArrow:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||this.state.isOpen&&(t.stopPropagation(),t.preventDefault(),this.closeMenu())},handleMouseDownOnMenu:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this._openAfterFocus=!0,this.focus())},closeMenu:function(){this.props.onCloseResetsInput?this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:""}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi,inputValue:this.state.inputValue}),this.hasScrolledToOption=!1},handleInputFocus:function(t){if(!this.props.disabled){var e=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;this.props.onFocus&&this.props.onFocus(t),this.setState({isFocused:!0,isOpen:e}),this._openAfterFocus=!1}},handleInputBlur:function(t){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(t);var e={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(e.inputValue=""),this.setState(e)}else this.focus()},handleInputChange:function(t){var e=t.target.value;if(this.state.inputValue!==t.target.value&&this.props.onInputChange){var n=this.props.onInputChange(e);null!=n&&"object"!=typeof n&&(e=""+n)}this.setState({isOpen:!0,isPseudoFocused:!1,inputValue:e})},handleKeyDown:function(t){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(t),t.defaultPrevented))){switch(t.keyCode){case 8:return void(!this.state.inputValue&&this.props.backspaceRemoves&&(t.preventDefault(),this.popValue()));case 9:if(t.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)return;return void this.selectFocusedOption();case 13:if(!this.state.isOpen)return;t.stopPropagation(),this.selectFocusedOption();break;case 27:this.state.isOpen?(this.closeMenu(),t.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(t),t.stopPropagation());break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;case 33:this.focusPageUpOption();break;case 34:this.focusPageDownOption();break;case 35:if(t.shiftKey)return;this.focusEndOption();break;case 36:if(t.shiftKey)return;this.focusStartOption();break;case 46:return void(!this.state.inputValue&&this.props.deleteRemoves&&(t.preventDefault(),this.popValue()));default:return}t.preventDefault()}},handleValueClick:function(t,e){this.props.onValueClick&&this.props.onValueClick(t,e)},handleMenuScroll:function(t){if(this.props.onMenuScrollToBottom){var e=t.target;e.scrollHeight>e.offsetHeight&&!(e.scrollHeight-e.offsetHeight-e.scrollTop)&&this.props.onMenuScrollToBottom()}},handleRequired:function(t,e){return!t||(e?0===t.length:0===Object.keys(t).length)},getOptionLabel:function(t){return t[this.props.labelKey]},getValueArray:function(t,e){var n=this,r="object"==typeof e?e:this.props;if(r.multi){if("string"==typeof t&&(t=t.split(r.delimiter)),!Array.isArray(t)){if(null===t||void 0===t)return[];t=[t]}return t.map(function(t){return n.expandValue(t,r)}).filter(function(t){return t})}var i=this.expandValue(t,r);return i?[i]:[]},expandValue:function(t,e){var n=typeof t;if("string"!==n&&"number"!==n&&"boolean"!==n)return t;var r=e.options,i=e.valueKey;if(r)for(var o=0;o<r.length;o++)if(r[o][i]===t)return r[o]},setValue:function(t){var e=this;if(this.props.autoBlur&&this.blurInput(),this.props.onChange){if(this.props.required){var n=this.handleRequired(t,this.props.multi);this.setState({required:n})}this.props.simpleValue&&t&&(t=this.props.multi?t.map(function(t){return t[e.props.valueKey]}).join(this.props.delimiter):t[this.props.valueKey]),this.props.onChange(t)}},selectValue:function(t){var e=this;this.hasScrolledToOption=!1,this.props.multi?this.setState({inputValue:"",focusedIndex:null},function(){e.addValue(t)}):this.setState({isOpen:!1,inputValue:"",isPseudoFocused:this.state.isFocused},function(){e.setValue(t)})},addValue:function(t){var e=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(t){return!t.disabled}),r=n.indexOf(t);this.setValue(e.concat(t)),n.length-1===r?this.focusOption(n[r-1]):n.length>r&&this.focusOption(n[r+1])},popValue:function(){var t=this.getValueArray(this.props.value);t.length&&!1!==t[t.length-1].clearableValue&&this.setValue(t.slice(0,t.length-1))},removeValue:function(t){var e=this.getValueArray(this.props.value);this.setValue(e.filter(function(e){return e!==t})),this.focus()},clearValue:function(t){t&&"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this.setValue(this.getResetValue()),this.setState({isOpen:!1,inputValue:""},this.focus))},getResetValue:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null},focusOption:function(t){this.setState({focusedOption:t})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusPageUpOption:function(){this.focusAdjacentOption("page_up")},focusPageDownOption:function(){this.focusAdjacentOption("page_down")},focusStartOption:function(){this.focusAdjacentOption("start")},focusEndOption:function(){this.focusAdjacentOption("end")},focusAdjacentOption:function(t){var e=this._visibleOptions.map(function(t,e){return{option:t,index:e}}).filter(function(t){return!t.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,this.state.isOpen){if(e.length){for(var n=-1,r=0;r<e.length;r++)if(this._focusedOption===e[r].option){n=r;break}if("next"===t&&-1!==n)n=(n+1)%e.length;else if("previous"===t)n>0?n-=1:n=e.length-1;else if("start"===t)n=0;else if("end"===t)n=e.length-1;else if("page_up"===t){n=(i=n-this.props.pageSize)<0?0:i}else if("page_down"===t){var i;n=(i=n+this.props.pageSize)>e.length-1?e.length-1:i}-1===n&&(n=0),this.setState({focusedIndex:e[n].index,focusedOption:e[n].option})}}else this.setState({isOpen:!0,inputValue:"",focusedOption:this._focusedOption||(e.length?e["next"===t?0:e.length-1].option:null)})},getFocusedOption:function(){return this._focusedOption},getInputValue:function(){return this.state.inputValue},selectFocusedOption:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)},renderLoading:function(){if(this.props.isLoading)return a.default.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},a.default.createElement("span",{className:"Select-loading"}))},renderValue:function(t,e){var n=this,r=this.props.valueRenderer||this.getOptionLabel,i=this.props.valueComponent;if(!t.length)return this.state.inputValue?null:a.default.createElement("div",{className:"Select-placeholder"},this.props.placeholder);var o=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?t.map(function(t,e){return a.default.createElement(i,{id:n._instancePrefix+"-value-"+e,instancePrefix:n._instancePrefix,disabled:n.props.disabled||!1===t.clearableValue,key:"value-"+e+"-"+t[n.props.valueKey],onClick:o,onRemove:n.removeValue,value:t},r(t,e),a.default.createElement("span",{className:"Select-aria-only"}," "))}):this.state.inputValue?void 0:(e&&(o=null),a.default.createElement(i,{id:this._instancePrefix+"-value-item",disabled:this.props.disabled,instancePrefix:this._instancePrefix,onClick:o,value:t[0]},r(t[0])))},renderInput:function(t,e){var n,i=this,s=(0,f.default)("Select-input",this.props.inputProps.className),u=!!this.state.isOpen,l=(0,f.default)((o(n={},this._instancePrefix+"-list",u),o(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),h=r({},this.props.inputProps,{role:"combobox","aria-expanded":""+u,"aria-owns":l,"aria-haspopup":""+u,"aria-activedescendant":u?this._instancePrefix+"-option-"+e:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],"aria-label":this.props["aria-label"],className:s,tabIndex:this.props.tabIndex,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(t){return i.input=t},required:this.state.required,value:this.state.inputValue});if(this.props.inputRenderer)return this.props.inputRenderer(h);if(this.props.disabled||!this.props.searchable){var p=this.props.inputProps,d=(p.inputClassName,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(p,["inputClassName"])),m=(0,f.default)(o({},this._instancePrefix+"-list",u));return a.default.createElement("div",r({},d,{role:"combobox","aria-expanded":u,"aria-owns":m,"aria-activedescendant":u?this._instancePrefix+"-option-"+e:this._instancePrefix+"-value",className:s,tabIndex:this.props.tabIndex||0,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(t){return i.input=t},"aria-readonly":""+!!this.props.disabled,style:{border:0,width:1,display:"inline-block"}}))}return this.props.autosize?a.default.createElement(c.default,r({},h,{minWidth:"5"})):a.default.createElement("div",{className:s},a.default.createElement("input",h))},renderClear:function(){if(!(!this.props.clearable||void 0===this.props.value||null===this.props.value||this.props.multi&&!this.props.value.length||this.props.disabled||this.props.isLoading)){var t=this.props.clearRenderer();return a.default.createElement("span",{className:"Select-clear-zone",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEndClearValue},t)}},renderArrow:function(){var t=this.handleMouseDownOnArrow,e=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:t,isOpen:e});return a.default.createElement("span",{className:"Select-arrow-zone",onMouseDown:t},n)},filterOptions:function(t){var e=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var r="function"==typeof this.props.filterOptions?this.props.filterOptions:p.default;return r(n,e,t,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,valueKey:this.props.valueKey})}return n},onOptionRef:function(t,e){e&&(this.focused=t)},renderMenu:function(t,e,n){return t&&t.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:t,selectValue:this.selectValue,valueArray:e,valueKey:this.props.valueKey,onOptionRef:this.onOptionRef}):this.props.noResultsText?a.default.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null},renderHiddenField:function(t){var e=this;if(this.props.name){if(this.props.joinValues){var n=t.map(function(t){return w(t[e.props.valueKey])}).join(this.props.delimiter);return a.default.createElement("input",{type:"hidden",ref:function(t){return e.value=t},name:this.props.name,value:n,disabled:this.props.disabled})}return t.map(function(t,n){return a.default.createElement("input",{key:"hidden."+n,type:"hidden",ref:"value"+n,name:e.props.name,value:w(t[e.props.valueKey]),disabled:e.props.disabled})})}},getFocusableOptionIndex:function(t){var e=this._visibleOptions;if(!e.length)return null;var n=this.props.valueKey,r=this.state.focusedOption||t;if(r&&!r.disabled){var i=-1;if(e.some(function(t,e){var o=t[n]===r[n];return o&&(i=e),o}),-1!==i)return i}for(var o=0;o<e.length;o++)if(!e[o].disabled)return o;return null},renderOuter:function(t,e,n){var r=this,i=this.renderMenu(t,e,n);return i?a.default.createElement("div",{ref:function(t){return r.menuContainer=t},className:"Select-menu-outer",style:this.props.menuContainerStyle},a.default.createElement("div",{ref:function(t){return r.menu=t},role:"listbox",className:"Select-menu",id:this._instancePrefix+"-list",style:this.props.menuStyle,onScroll:this.handleMenuScroll,onMouseDown:this.handleMouseDownOnMenu},i)):null},render:function(){var t=this,e=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi?this.getValueArray(this.props.value):null),r=this.state.isOpen;this.props.multi&&!n.length&&e.length&&!this.state.inputValue&&(r=!1);var i=this.getFocusableOptionIndex(e[0]),o=null;o=this._focusedOption=null!==i?n[i]:null;var s=(0,f.default)("Select",this.props.className,{"Select--multi":this.props.multi,"Select--single":!this.props.multi,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"has-value":e.length}),u=null;return this.props.multi&&!this.props.disabled&&e.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(u=a.default.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",e[e.length-1][this.props.labelKey]))),a.default.createElement("div",{ref:function(e){return t.wrapper=e},className:s,style:this.props.wrapperStyle},this.renderHiddenField(e),a.default.createElement("div",{ref:function(e){return t.control=e},className:"Select-control",style:this.props.style,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},a.default.createElement("span",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(e,r),this.renderInput(e,i)),u,this.renderLoading(),this.renderClear(),this.renderArrow()),r?this.renderOuter(n,this.props.multi?null:e,o):null)}});e.default=S,t.exports=e.default},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(21),i=n(70);t.exports=n(20)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(12),i=n(32),o=n(31),a=n(71)("src"),s=Function.toString,u=(""+s).split("toString");n(49).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(4),i=n(14),o=n(51),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){"use strict";var r=n(498),i=n(99);function o(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t,e){var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e&&void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=i({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),o=e.length>0?e.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(i),o,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(n):t[e]=n,t},Object.create(null))):r},e.stringify=function(t,e){var n=function(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[o(e,t),"[",r,"]"].join(""):[o(e,t),"[",o(r,t),"]=",o(n,t)].join("")};case"bracket":return function(e,n){return null===n?o(e,t):[o(e,t),"[]=",o(n,t)].join("")};default:return function(e,n){return null===n?o(e,t):[o(e,t),"=",o(n,t)].join("")}}}(e=i({encode:!0,strict:!0,arrayFormat:"none"},e));return t?Object.keys(t).sort().map(function(r){var i=t[r];if(void 0===i)return"";if(null===i)return o(r,e);if(Array.isArray(i)){var a=[];return i.slice().forEach(function(t){void 0!==t&&a.push(n(r,t,a.length))}),a.join("&")}return o(r,e)+"="+o(i,e)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e,n){var r=n(96),i=n(51);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(97),i=n(70),o=n(36),a=n(50),s=n(31),u=n(179),l=Object.getOwnPropertyDescriptor;e.f=n(20)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(31),i=n(24),o=n(142)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return c});var r=n(23),i=n(135),o=n(1);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=Object(r.debounce)(function(t,e){var n=e(),r=n.entropy,s=n.controls,u=n.tree;if(u.nodes&&u.visibility&&r.geneMap&&"Play"===s.animationPlayPauseButton){var l=a(Object(i.a)(u.nodes,u.visibility,s.mutType,r.geneMap,r.showCounts),2),c=l[0],f=l[1];t({type:o.y,data:c,maxYVal:f})}},500,{leading:!0,trailing:!0}),u=function(t){return function(e,n){e({type:o.J,data:t}),s(e,n)}},l=function(t){return function(e,n){e({type:o.x,showCounts:t}),s(e,n)}},c=function(t){return function(e,n){e({type:o.t,zoomc:t}),s(e,n)}}},function(t,e,n){t.exports=n(495)()},function(t,e,n){var r=n(28);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n(3),i=function(t,e,n,i){var o={};return e.forEach(function(t){o[t]={}}),t.forEach(function(t){e.forEach(function(e){var a=t.attr[e];a&&"undefined"!==a&&"?"!==a&&(i&&t.hasChildren||n&&n[t.arrayIdx]!==r.b||(o[e][a]?o[e][a]+=1:o[e][a]=1))})}),o},o=function t(e,n){if(e.tipCount=0,void 0!==e.children)for(var i=0;i<e.children.length;i++)t(e.children[i],n),e.tipCount+=e.children[i].tipCount;else e.tipCount=n[e.arrayIdx]===r.b?1:0}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=function(){var t="string"==typeof{entryPage:"datasetLoader",hardcodedDataPaths:{tmpPathPrefix:"..",mainJSON:"auspice/custom.json"}}?JSON.parse({entryPage:"datasetLoader",hardcodedDataPaths:{tmpPathPrefix:"..",mainJSON:"auspice/custom.json"}}):{entryPage:"datasetLoader",hardcodedDataPaths:{tmpPathPrefix:"..",mainJSON:"auspice/custom.json"}};return Object.keys(t).forEach(function(e){e.endsWith("Component")&&(console.log("loading component",e),t[e]=n(499)("./".concat(t[e])).default)}),console.log("extensions",t),t}(),i=function(t){return r[t]?r[t]:(console.error("Requested non-existing extension",t),!1)},o=function(t){return Object.keys(r).includes(t)}},function(t,e,n){"use strict";var r=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},i=function(t){return(t=r(Math.abs(t)))?t[1]:NaN},o=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(t){return new s(t)}function s(t){if(!(e=o.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}a.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var u,l,c,f,h=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},p=function(t,e){var n=r(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},d={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return p(100*t,e)},r:p,s:function(t,e){var n=r(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(u=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},m=function(t){return t},v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],y=function(t){var e=t.grouping&&t.thousands?function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}(t.grouping,t.thousands):m,n=t.currency,r=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):m,s=t.percent||"%";function l(t){var i=(t=a(t)).fill,l=t.align,c=t.sign,f=t.symbol,p=t.zero,m=t.width,y=t.comma,g=t.precision,b=t.trim,_=t.type;"n"===_?(y=!0,_="g"):d[_]||(null==g&&(g=12),b=!0,_="g"),(p||"0"===i&&"="===l)&&(p=!0,i="0",l="=");var w="$"===f?n[0]:"#"===f&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",x="$"===f?n[1]:/[%p]/.test(_)?s:"",E=d[_],S=/[defgprs%]/.test(_);function T(t){var n,a,s,f=w,d=x;if("c"===_)d=E(t)+d,t="";else{var T=(t=+t)<0;if(t=E(Math.abs(t),g),b&&(t=h(t)),T&&0==+t&&(T=!1),f=(T?"("===c?c:"-":"-"===c||"("===c?"":c)+f,d=("s"===_?v[8+u/3]:"")+d+(T&&"("===c?")":""),S)for(n=-1,a=t.length;++n<a;)if(48>(s=t.charCodeAt(n))||s>57){d=(46===s?r+t.slice(n+1):t.slice(n))+d,t=t.slice(0,n);break}}y&&!p&&(t=e(t,1/0));var k=f.length+t.length+d.length,O=k<m?new Array(m-k+1).join(i):"";switch(y&&p&&(t=e(O+t,O.length?m-d.length:1/0),O=""),l){case"<":t=f+t+d+O;break;case"=":t=f+O+t+d;break;case"^":t=O.slice(0,k=O.length>>1)+f+t+d+O.slice(k);break;default:t=O+f+t+d}return o(t)}return g=null==g?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),T.toString=function(){return t+""},T}return{format:l,formatPrefix:function(t,e){var n=l(((t=a(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(i(e)/3))),o=Math.pow(10,-r),s=v[8+r/3];return function(t){return n(o*t)+s}}}};!function(t){l=y(t),c=l.format,f=l.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var g=function(t){return Math.max(0,-i(Math.abs(t)))},b=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(e)/3)))-i(Math.abs(t)))},_=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,i(e)-i(t))+1};n.d(e,"a",function(){return c}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return g}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return _})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(3),i=n(17),o=function(t){var e=t.tipSelectedIdx,n=void 0!==e&&e,o=t.selectedLegendItem,a=void 0!==o&&o,s=t.colorScale,u=t.tree;if(!1!==a&&u&&u.nodes)return u.nodes.map(function(t){return function(t,e,n){var r=Object(i.g)(e,n);return n.continuous?r<=n.legendBounds[t][1]&&r>=n.legendBounds[t][0]:r===t}(a,t,s)?r.G:r.F});if(n){var l=u.nodes.map(function(){return r.F});return l[n]=r.G+3,l}return u&&u.nodes?u.nodes.map(function(){return r.F}):null}},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(4),i=n(49),o=n(14);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(42),i=n(96),o=n(24),a=n(22),s=n(159);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,d){for(var m,v,y=o(e),g=i(y),b=r(s,d,3),_=a(g.length),w=0,x=n?p(e,_):u?p(e,0):void 0;_>w;w++)if((h||w in g)&&(v=b(m=g[w],w,y),t))if(n)x[w]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(c)return!1;return f?-1:l||c?c:x}}},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e){var n={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},i=r(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),o=r(function(){return document.head||document.getElementsByTagName("head")[0]}),a=null,s=0,u=[];function l(t,e){for(var r=0;r<t.length;r++){var i=t[r],o=n[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(d(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(d(i.parts[a],e));n[i.id]={id:i.id,refs:1,parts:s}}}}function c(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[o]?n[o].parts.push(a):e.push(n[o]={id:o,parts:[a]})}return e}function f(t,e){var n=o(),r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function h(t){t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function p(t){var e=document.createElement("style");return e.type="text/css",f(t,e),e}function d(t,e){var n,r,i;if(e.singleton){var o=s++;n=a||(a=p(e)),r=v.bind(null,n,o,!1),i=v.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return e.rel="stylesheet",f(t,e),e}(e),r=function(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}.bind(null,n),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){h(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(e=e||{}).singleton&&(e.singleton=i()),void 0===e.insertAt&&(e.insertAt="bottom");var r=c(t);return l(r,e),function(t){for(var i=[],o=0;o<r.length;o++){var a=r[o];(s=n[a.id]).refs--,i.push(s)}t&&l(c(t),e);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete n[s.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function v(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){var r=n(217),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(5),a=n.n(o);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,c(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i.a.Component),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(e,[{key:"getStyles",value:function(){return{base:{display:"flex",flexDirection:this.props.direction,flexWrap:this.props.wrap,justifyContent:this.props.justifyContent,alignItems:this.props.alignItems,alignContent:this.props.alignContent,order:this.props.order,flexGrow:this.props.grow,flexShrink:this.props.shrink,flexBasis:this.props.basis,alignSelf:this.props.alignSelf},style:this.props.style}}},{key:"render",value:function(){var t=this.getStyles();return i.a.createElement("div",{id:this.props.id,onClick:this.props.clickHandler,style:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){h(t,e,n[e])})}return t}({},t.base,t.style)},this.props.children)}}]),e}();h(p,"propTypes",{direction:a.a.oneOf(["row","rowReverse","column","columnReverse"]),wrap:a.a.oneOf(["nowrap","wrap","wrap-reverse"]),justifyContent:a.a.oneOf(["flex-start","flex-end","center","space-between","space-around"]),alignItems:a.a.oneOf(["flex-start","flex-end","center","baseline","stretch"]),alignContent:a.a.oneOf(["flex-start","flex-end","center","space-between","space-around","stretch"]),grow:a.a.number,shrink:a.a.number,basis:a.a.string,order:a.a.number,alignSelf:a.a.oneOf(["auto","flex-start","flex-end","center","baseline","stretch"]),styleOverrides:a.a.object,children:a.a.node,clickHandler:a.a.func}),h(p,"defaultProps",{direction:"row",wrap:"nowrap",justifyContent:"center",alignItems:"center",alignContent:"stretch",grow:0,shrink:1,basis:"auto",alignSelf:"auto",order:0,style:{}}),e.a=p},function(t,e,n){"use strict";if(n(20)){var r=n(72),i=n(12),o=n(14),a=n(4),s=n(119),u=n(165),l=n(42),c=n(78),f=n(70),h=n(32),p=n(80),d=n(52),m=n(22),v=n(205),y=n(74),g=n(50),b=n(31),_=n(98),w=n(16),x=n(24),E=n(156),S=n(75),T=n(38),k=n(76).f,O=n(158),C=n(71),M=n(18),A=n(54),P=n(110),j=n(117),L=n(161),D=n(90),N=n(114),B=n(77),I=n(160),F=n(195),R=n(21),z=n(37),V=R.f,W=z.f,U=i.RangeError,q=i.TypeError,H=i.Uint8Array,G=Array.prototype,Z=u.ArrayBuffer,K=u.DataView,Y=A(0),$=A(2),X=A(3),J=A(4),Q=A(5),tt=A(6),et=P(!0),nt=P(!1),rt=L.values,it=L.keys,ot=L.entries,at=G.lastIndexOf,st=G.reduce,ut=G.reduceRight,lt=G.join,ct=G.sort,ft=G.slice,ht=G.toString,pt=G.toLocaleString,dt=M("iterator"),mt=M("toStringTag"),vt=C("typed_constructor"),yt=C("def_constructor"),gt=s.CONSTR,bt=s.TYPED,_t=s.VIEW,wt=A(1,function(t,e){return kt(j(t,t[yt]),e)}),xt=o(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),Et=!!H&&!!H.prototype.set&&o(function(){new H(1).set({})}),St=function(t,e){var n=d(t);if(n<0||n%e)throw U("Wrong offset!");return n},Tt=function(t){if(w(t)&&bt in t)return t;throw q(t+" is not a typed array!")},kt=function(t,e){if(!(w(t)&&vt in t))throw q("It is not a typed array constructor!");return new t(e)},Ot=function(t,e){return Ct(j(t,t[yt]),e)},Ct=function(t,e){for(var n=0,r=e.length,i=kt(t,r);r>n;)i[n]=e[n++];return i},Mt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},At=function(t){var e,n,r,i,o,a,s=x(t),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,h=O(s);if(void 0!=h&&!E(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),e=0,n=m(s.length),i=kt(this,n);n>e;e++)i[e]=f?c(s[e],e):s[e];return i},Pt=function(){for(var t=0,e=arguments.length,n=kt(this,e);e>t;)n[t]=arguments[t++];return n},jt=!!H&&o(function(){pt.call(new H(1))}),Lt=function(){return pt.apply(jt?ft.call(Tt(this)):Tt(this),arguments)},Dt={copyWithin:function(t,e){return F.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return I.apply(Tt(this),arguments)},filter:function(t){return Ot(this,$(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Tt(this),arguments)},lastIndexOf:function(t){return at.apply(Tt(this),arguments)},map:function(t){return wt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Tt(this),arguments)},reduceRight:function(t){return ut.apply(Tt(this),arguments)},reverse:function(){for(var t,e=Tt(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return X(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,i=y(t,r);return new(j(n,n[yt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===e?r:y(e,r))-i))}},Nt=function(t,e){return Ot(this,ft.call(Tt(this),t,e))},Bt=function(t){Tt(this);var e=St(arguments[1],1),n=this.length,r=x(t),i=m(r.length),o=0;if(i+e>n)throw U("Wrong length!");for(;o<i;)this[e+o]=r[o++]},It={entries:function(){return ot.call(Tt(this))},keys:function(){return it.call(Tt(this))},values:function(){return rt.call(Tt(this))}},Ft=function(t,e){return w(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Rt=function(t,e){return Ft(t,e=g(e,!0))?f(2,t[e]):W(t,e)},zt=function(t,e,n){return!(Ft(t,e=g(e,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};gt||(z.f=Rt,R.f=zt),a(a.S+a.F*!gt,"Object",{getOwnPropertyDescriptor:Rt,defineProperty:zt}),o(function(){ht.call({})})&&(ht=pt=function(){return lt.call(this)});var Vt=p({},Dt);p(Vt,It),h(Vt,dt,It.values),p(Vt,{slice:Nt,set:Bt,constructor:function(){},toString:ht,toLocaleString:Lt}),Mt(Vt,"buffer","b"),Mt(Vt,"byteOffset","o"),Mt(Vt,"byteLength","l"),Mt(Vt,"length","e"),V(Vt,mt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,u){var l=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,p="set"+t,d=i[l],y=d||{},g=d&&T(d),b=!d||!s.ABV,x={},E=d&&d.prototype,O=function(t,n){V(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,xt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,xt)}(this,n,t)},enumerable:!0})};b?(d=n(function(t,n,r,i){c(t,d,l,"_d");var o,a,s,u,f=0,p=0;if(w(n)){if(!(n instanceof Z||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return bt in n?Ct(d,n):At.call(d,n);o=n,p=St(r,e);var y=n.byteLength;if(void 0===i){if(y%e)throw U("Wrong length!");if((a=y-p)<0)throw U("Wrong length!")}else if((a=m(i)*e)+p>y)throw U("Wrong length!");s=a/e}else s=v(n),o=new Z(a=s*e);for(h(t,"_d",{b:o,o:p,l:a,e:s,v:new K(o)});f<s;)O(t,f++)}),E=d.prototype=S(Vt),h(E,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&N(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){var o;return c(t,d,l),w(n)?n instanceof Z||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new y(n,St(r,e),i):void 0!==r?new y(n,St(r,e)):new y(n):bt in n?Ct(d,n):At.call(d,n):new y(v(n))}),Y(g!==Function.prototype?k(y).concat(k(g)):k(y),function(t){t in d||h(d,t,y[t])}),d.prototype=E,r||(E.constructor=d));var C=E[dt],M=!!C&&("values"==C.name||void 0==C.name),A=It.values;h(d,vt,!0),h(E,bt,l),h(E,_t,!0),h(E,yt,d),(u?new d(1)[mt]==l:mt in E)||V(E,mt,{get:function(){return l}}),x[l]=d,a(a.G+a.W+a.F*(d!=y),x),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){y.of.call(d,1)}),l,{from:At,of:Pt}),"BYTES_PER_ELEMENT"in E||h(E,"BYTES_PER_ELEMENT",e),a(a.P,l,Dt),B(l),a(a.P+a.F*Et,l,{set:Bt}),a(a.P+a.F*!M,l,It),r||E.toString==ht||(E.toString=ht),a(a.P+a.F*o(function(){new d(1).slice()}),l,{slice:Nt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){E.toLocaleString.call([1,2])})),l,{toLocaleString:Lt}),D[l]=M?C:A,r||M||h(E,dt,A)}}else t.exports=function(){}},function(t,e,n){var r=n(200),i=n(4),o=n(109)("metadata"),a=o.store||(o.store=new(n(203))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:a,map:s,has:function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){s(n,r,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e,n){"use strict"},function(t,e,n){"use strict";var r=n(0),i=n(488);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;t.exports=i(r.Component,r.isValidElement,o)},function(t,e,n){"use strict";var r=n(35),i=n.n(r),o=n(7),a=n(3),s=n(93),u=n(27),l=n(94),c=n(48),f=n(134),h=n(45),p=n(135),d=n(69);function m(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v=function(t,e,n){e[t.clade]||(e[t.clade]=!0,n.push(t))},y=function(t,e){!function(t){t.parent=t;var e=[];for(e.push(t);0!==e.length;){var n=e.pop();if(n.children)for(var r=n.children.length-1;r>=0;r-=1)n.children[r].parent=n,e.push(n.children[r])}}(t);var n=function(t){var e=[],n=[],r={};for(e.push(t);0!==e.length;){var i=e.pop();if(v(i,r,n),i.children)for(var o=i.children.length-1;o>=0;o-=1)e.push(i.children[o])}return n}(t),r=function(t){return function t(e){if(e.fullTipCount=0,void 0!==e.children)for(var n=0;n<e.children.length;n++)t(e.children[n]),e.fullTipCount+=e.children[n].fullTipCount;else e.fullTipCount=1}(t[0]),t.forEach(function(t,e){void 0===t.attr&&(t.attr={}),t.arrayIdx=e,t.hasChildren=void 0!==t.children,t.yvalue=void 0}),t}(n),i=e?function(t,e){if(!e)return!1;var n=Object.keys(e),r=t.filter(function(t){return-1!==n.indexOf(t.strain)});return r.forEach(function(t){t.vaccineDate=e[t.strain],t.vaccineDateNumeric=Object(o.a)(e[t.strain])}),r}(r,e):[],a=function(t){var e=new Set;return t.forEach(function(t){var n=[];t.attr.clade_name&&(n[0]=t.attr.clade_name,delete t.attr.clade_name),t.attr.clade_annotation&&(n[0]=t.attr.clade_annotation,delete t.attr.clade_annotation);var r=[];if(t.aa_muts)for(var i in t.aa_muts)t.aa_muts[i].length&&r.push("".concat(i,": ").concat(t.aa_muts[i].join(", ")));r.length&&(n[1]=r.join("; ")),n.length&&(t.attr.labels={},n[0]&&(t.attr.labels.clade=n[0],e.add("clade")),n[1]&&(t.attr.labels.aa=n[1],e.add("aa")))}),["none"].concat(m(e))}(n),s=Object(d.b)(r);return Object.assign({},Object(d.c)(),{nodes:r,vaccines:i,availableBranchLabels:a,attrs:s,loaded:!0})},g=function(t){if(t.annotations){var e=function(t){for(var e=[],n=[],r=0,i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];"nuc"!==s?(r++,e.push({prot:s,start:t[s].start,end:t[s].end,readingFrame:t[s].strand,fill:a.v[r%10]})):n.push({start:t[s].start,end:t[s].end})}return[e,n]}(t.annotations),n=e[0];return{showCounts:!1,loaded:!0,annotations:n,lengthSequence:e[1][0].end,geneMap:function(t){var e={};t.forEach(function(t){e[t.prot]=t});for(var n=Object.keys(e).sort(function(t,n){return e[t].start<e[n].start?-1:e[t].start>e[n].start?1:0}),r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];e[o].idx=n.indexOf(o)}return e}(n)}}return{showCounts:!1,loaded:!1,annotations:[],geneMap:{}}},b=n(17),_=n(106),w=n(64),x=n(10);function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){S(t,e,n[e])})}return t}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",function(){return C}),n.d(e,"b",function(){return B}),n.d(e,"c",function(){return I});var C=function(t,e){return"num_date"!==e&&t.indexOf(e+"_confidence")>-1},M=function(t,e){var n=t[0].attr.num_date?t[0].attr.num_date-.01:e.dateMaxNumeric-a.o;return Object(o.d)(n)},A=function(t){var e=a.E;return t.forEach(function(t){t.attr&&t.attr.num_date&&t.attr.num_date>e&&(e=t.attr.num_date)}),e+=.01,Object(o.d)(e)},P=function(t,e){if(e.l&&(t.layout=e.l),e.gmin&&(t.zoomMin=parseInt(e.gmin,10)),e.gmax&&(t.zoomMax=parseInt(e.gmax,10)),e.m&&"divAndDate"===t.branchLengthsToDisplay&&(t.distanceMeasure=e.m),e.c&&(t.colorBy=e.c),e.r&&(t.geoResolution=e.r),e.p&&t.canTogglePanelLayout&&("full"===e.p||"grid"===e.p)&&(t.panelLayout=e.p),e.d){var n=e.d.split(",");t.panelsToDisplay=t.panelsAvailable.filter(function(t){return-1!==n.indexOf(t)}),-1!==t.panelsToDisplay.indexOf("map")&&-1!==t.panelsToDisplay.indexOf("tree")||(t.panelLayout="full")}e.dmin&&(t.dateMin=e.dmin,t.dateMinNumeric=Object(o.a)(e.dmin)),e.dmax&&(t.dateMax=e.dmax,t.dateMaxNumeric=Object(o.a)(e.dmax));var r=!0,i=!1,a=void 0;try{for(var s,u=Object.keys(e).filter(function(t){return t.startsWith("f_")})[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;t.filters[l.replace("f_","")]=e[l].split(",")}}catch(t){i=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}if(e.animate){var c=e.animate.split(",");window.NEXTSTRAIN.animationStartPoint=Object(o.a)(c[0]),window.NEXTSTRAIN.animationEndPoint=Object(o.a)(c[1]),t.dateMin=c[0],t.dateMax=c[1],t.dateMinNumeric=Object(o.a)(c[0]),t.dateMaxNumeric=Object(o.a)(c[1]),t.mapAnimationShouldLoop="1"===c[2],t.mapAnimationCumulative="1"===c[3],t.mapAnimationDurationInMilliseconds=parseInt(c[4],10),t.animationPlayPauseButton="Pause"}else t.animationPlayPauseButton="Play";return t},j=function(t,e,n){if(t.dateMin=M(e.nodes,t),t.dateMax=A(e.nodes),t.dateMinNumeric=Object(o.a)(t.dateMin),t.dateMaxNumeric=Object(o.a)(t.dateMax),n){var r=M(n.nodes,t),i=A(n.nodes),a=Object(o.a)(r),s=Object(o.a)(i);a<t.dateMinNumeric&&(t.dateMinNumeric=a,t.dateMin=r),s>t.dateMaxNumeric&&(t.dateMaxNumeric=s,t.dateMax=i)}return t.absoluteDateMin=t.dateMin,t.absoluteDateMax=t.dateMax,t.absoluteDateMinNumeric=Object(o.a)(t.absoluteDateMin),t.absoluteDateMaxNumeric=Object(o.a)(t.absoluteDateMax),t.attrs=n?k(new Set(k(Object.keys(e.nodes[0].attr)).concat(k(Object.keys(n.nodes[0].attr))))):Object.keys(e.nodes[0].attr),t.branchLengthsToDisplay=-1===Object.keys(e.nodes[0].attr).indexOf("num_date")?"divOnly":-1===Object.keys(e.nodes[0].attr).indexOf("div")?"dateOnly":"divAndDate",t.distanceMeasure="divOnly"===t.branchLengthsToDisplay?"div":"dateOnly"===t.branchLengthsToDisplay?"num_date":t.distanceMeasure,t.selectedBranchLabel=-1!==e.availableBranchLabels.indexOf("clade")?"clade":"none",t.temporalConfidence=Object.keys(e.nodes[0].attr).indexOf("num_date_confidence")>-1?{exists:!0,display:!0,on:!1}:{exists:!1,display:!1,on:!1},t},L=function(t,e,n,r){var i=0,o=t.idxOfInViewRootNode;if(e&&(i=Object(u.d)(t.nodes,e),t.selectedStrain=e),n){var a="root"===n?0:Object(u.b)(t.nodes,n);t.selectedClade=n,o=Object(x.b)(a,t)}var s=Object(u.a)(t,r,{dateMinNumeric:r.dateMinNumeric,dateMaxNumeric:r.dateMaxNumeric},{tipSelectedIdx:i,validIdxRoot:o}),l=Object.assign({},t,s);return l.stateCountAttrs=Object.keys(r.filters),l.idxOfInViewRootNode=o,l.visibleStateCounts=Object(h.b)(l.nodes,l.stateCountAttrs,l.visibility,!0),l.totalStateCounts=Object(h.b)(l.nodes,l.stateCountAttrs,!1,!0),i&&(l.tipRadii=Object(c.a)({tipSelectedIdx:i,colorScale:r.colorScale,tree:l}),l.tipRadiiVersion=1),l},D=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},N=function(t,e){return t.showTreeToo=e,t.showTangle=!0,t.layout="rect",t.panelsToDisplay=t.panelsToDisplay.slice(),D(t.panelsToDisplay,"map"),D(t.panelsToDisplay,"entropy"),D(t.panelsToDisplay,"frequencies"),t.canTogglePanelLayout=!1,t.panelLayout="full",t},B=function(t){var e,n,r,u,c,d,m,v=t.json,x=void 0!==v&&v,S=t.oldState,k=void 0!==S&&S,M=t.narrativeBlocks,A=void 0!==M&&M,D=t.query;if(x?(void 0===(c=x.meta)&&(c={}),Object.prototype.hasOwnProperty.call(c,"loaded")&&console.error('Metadata JSON must not contain the key "loaded". Ignoring.'),c.colorOptions=c.color_options,delete c.color_options,c.loaded=!0,r=g(c),(e=y(x.tree,c.vaccine_choices)).debug="LEFT",x.treeTwo&&((n=y(x.treeTwo,c.vaccine_choices)).debug="RIGHT",n.name=x._treeTwoName),u=Object(f.b)(),(u=function(t,e){if(e.date_range&&(e.date_range.date_min&&(t.dateMin=e.date_range.date_min,t.dateMinNumeric=Object(o.a)(t.dateMin),t.absoluteDateMin=e.date_range.date_min,t.absoluteDateMinNumeric=Object(o.a)(t.absoluteDateMin),t.mapAnimationStartDate=e.date_range.date_min),e.date_range.date_max&&(t.dateMax=e.date_range.date_max,t.dateMaxNumeric=Object(o.a)(t.dateMax),t.absoluteDateMax=e.date_range.date_max,t.absoluteDateMaxNumeric=Object(o.a)(t.absoluteDateMax))),e.analysisSlider&&(t.analysisSlider={key:e.analysisSlider,valid:!1}),e.author_info||console.warn("the meta.json did not include author_info"),e.filters?e.filters.forEach(function(e){t.filters[e]=[],t.defaults.filters[e]=[]}):console.warn("the meta.json did not include any filters"),e.defaults){for(var n=["geoResolution","colorBy","distanceMeasure","layout"],r=["string","string","string","string"],i=0;i<n.length;i+=1)e.defaults[n[i]]&&(O(e.defaults[n[i]])===r[i]?(t[n[i]]=e.defaults[n[i]],t.defaults[n[i]]=e.defaults[n[i]]):console.error("Skipping (meta.json) default for ",n[i],"as it is not of type ",r[i]));e.defaults.mapTriplicate&&(t.mapTriplicate="false"!==e.defaults.mapTriplicate&&"False"!==e.defaults.mapTriplicate)}if(e.panels?(t.panelsAvailable=e.panels.slice(),t.panelsToDisplay=e.panels.slice()):(t.panelsAvailable=["tree"],t.panelsToDisplay=["tree"]),e.geo||(t.panelsAvailable=t.panelsAvailable.filter(function(t){return"map"!==t}),t.panelsToDisplay=t.panelsToDisplay.filter(function(t){return"map"!==t})),e.annotations||(t.panelsAvailable=t.panelsAvailable.filter(function(t){return"entropy"!==t}),t.panelsToDisplay=t.panelsToDisplay.filter(function(t){return"entropy"!==t})),-1!==t.panelsAvailable.indexOf("map")&&-1!==t.panelsAvailable.indexOf("tree")||(t.panelLayout="full",t.canTogglePanelLayout=!1),e.annotations)for(var a=Object.keys(e.annotations),s=0;s<a.length;s++){var u=a[s];t.geneLength[u]=e.annotations[u].end-e.annotations[u].start,"nuc"!==u&&(t.geneLength[u]/=3)}else console.warn("The meta.json did not include annotations.");return t}(u=j(u,e,n),c)).absoluteZoomMin=0,u.absoluteZoomMax=r.lengthSequence,u.available=x._available,u.source=x._source,u.datasetFields=x._datasetFields):k&&(u=E({},k.controls),r=E({},k.entropy),e=E({},k.tree),n=E({},k.treeToo),c=E({},k.metadata),m=E({},k.frequencies),u=function(t){for(var e=Object.keys(t.defaults),n=0;n<e.length;n++){var r=e[n];switch(O(t.defaults[r])){case"string":t[r]=t.defaults[r];break;case"object":t[r]=JSON.parse(JSON.stringify(t.defaults[r]));break;default:console.error("unknown typeof for default state of ",r)}}return t.dateMin=t.absoluteDateMin,t.dateMax=t.absoluteDateMax,t.dateMinNumeric=t.absoluteDateMinNumeric,t.dateMaxNumeric=t.absoluteDateMaxNumeric,t.zoomMax=void 0,t.zoomMin=void 0,t.panelLayout=Object(s.a)().width>a.I?"grid":"full",t.panelsToDisplay=t.panelsAvailable.slice(),t}(u)),A){d=A;var B=parseInt(D.n,10)||0;u=P(u,i.a.parse(d[B].query)),D={n:B},console.log("redux state changed to relfect n of",B)}else u=P(u,D);if(u=function(t,e,n,r){e.colorOptions||(e.colorOptions={});var i=function(){var r=Object.keys(e.colorOptions);r.indexOf("gt")>-1&&r.splice(r.indexOf("gt"),1),e.defaults&&e.defaults.colorBy&&-1!==r.indexOf(e.defaults.colorBy)?(console.warn("colorBy falling back to",e.defaults.colorBy),t.colorBy=e.defaults.colorBy,t.defaults.colorBy=e.defaults.colorBy):r.length?-1!==r.indexOf(a.n)?(t.colorBy=a.n,t.defaults.colorBy=a.n):(console.error("Error detected trying to set colorBy to",t.colorBy,"falling back to",r[0]),t.colorBy=r[0],t.defaults.colorBy=r[0]):(console.error("Error detected trying to set colorBy to",t.colorBy," as there are no color options defined in the JSONs!"),t.colorBy="none",t.defaults.colorBy="none"),delete n.c};if(t.colorBy.startsWith("gt-"))if(e.annotations){var o=T(t.colorBy.split("-")[1].split("_"),2),s=o[0],u=o[1];s in e.annotations?"nuc"===s?e.annotations[s].end-e.annotations[s].start<u&&i():(e.annotations[s].end-e.annotations[s].start)/3<u&&i():i()}else i();else-1===Object.keys(e.colorOptions).indexOf(t.colorBy)&&i();if(t.zoomMax>t.absoluteZoomMax&&(t.zoomMax=t.absoluteZoomMax),t.zoomMin<t.absoluteZoomMin&&(t.zoomMin=t.absoluteZoomMin),t.zoomMin>t.zoomMax){var l=t.zoomMin;t.zoomMin=t.zoomMax,t.zoomMax=l}if(t.colorByConfidence=C(t.attrs,t.colorBy),-1===["div","num_date"].indexOf(t.distanceMeasure)&&(t.distanceMeasure="num_date",console.error("Error detected. Setting distanceMeasure to ",t.distanceMeasure)),e.geo){var c=Object.keys(e.geo);-1===c.indexOf(t.geoResolution)&&(e.defaults&&e.defaults.geoResolution&&-1!==c.indexOf(e.defaults.geoResolution)?t.geoResolution=e.defaults.geoResolution:-1!==c.indexOf(a.q)?t.geoResolution=a.q:t.geoResolution=c[0],console.error("Error detected. Setting geoResolution to ",t.geoResolution),delete n.r)}else console.warn("The meta.json did not include geo info.");if(t.temporalConfidence.exists&&("rect"!==t.layout?(t.temporalConfidence.display=!1,t.temporalConfidence.on=!1):"div"===t.distanceMeasure&&(t.temporalConfidence.display=!1,t.temporalConfidence.on=!1)),t.colorBy){var f=Object(b.e)(t.colorBy);f&&(t.mutType=f)}var p=Object.keys(t.filters).filter(function(t){return t.length}),d=Object(h.b)(r.nodes,p,!1,!0),m=!0,v=!1,y=void 0;try{for(var g,_=function(){var e=g.value,r=t.filters[e].filter(function(t){return t in d[e]});t.filters[e]=r,r.length?n["f_".concat(e)]=r.join(","):delete n["f_".concat(e)]},w=p[Symbol.iterator]();!(m=(g=w.next()).done);m=!0)_()}catch(t){v=!0,y=t}finally{try{m||null==w.return||w.return()}finally{if(v)throw y}}return n.m&&"divAndDate"!==t.branchLengthsToDisplay&&delete n.m,t}(u,c,D,e),x||u.colorBy!==k.colorBy){var I=Object(_.a)(u.colorBy,u,e,n,c),F=Object(b.d)(e,I);u.colorScale=I,u.colorByConfidence=C(u.attrs,u.colorBy),e.nodeColorsVersion=I.version,e.nodeColors=F}if(e=D.clade?L(e,void 0,D.clade,u):L(e,void 0,"root",u),e=L(e,D.s,void 0,u),n&&n.loaded&&(n.nodeColorsVersion=e.nodeColorsVersion,n.nodeColors=Object(b.d)(n,u.colorScale),n=L(n,D.s,void 0,u),u=N(u,n.name),n.tangleTipLookup=Object(l.a)(e.nodes,n.nodes,e.visibility,n.visibility)),r.loaded){var R=T(Object(p.a)(e.nodes,e.visibility,u.mutType,r.geneMap,r.showCounts),2),z=R[0],V=R[1];r.bars=z,r.maxYVal=V,r.zoomMax=u.zoomMax,r.zoomMin=u.zoomMin,r.zoomCoordinates=[u.zoomMin,u.zoomMax]}return m&&m.loaded&&(m.version++,m.matrix=Object(w.a)(m.data,m.pivots,e.nodes,e.visibility,u.colorScale,u.colorBy)),x._treeName&&(e.name=x._treeName),{tree:e,treeToo:n,metadata:c,entropy:r,controls:u,narrative:d,frequencies:m,query:D,url:x._url}},I=function(t){var e=t.treeTooJSON,n=t.oldState,r=t.segment,i=n.controls,o=Object.assign({},n.tree),a=y(e);a.debug="RIGHT",i=j(i,o,a),i=N(i,r),a=L(a,o.selectedStrain,void 0,i);var s=Object(_.a)(i.colorBy,i,o,a,n.metadata),u=Object(b.d)(a,s);return o.nodeColors=Object(b.d)(o,s),o.nodeColorsVersion++,i.colorScale=s,i.colorByConfidence=C(i.attrs,i.colorBy),a.nodeColorsVersion=s.version,a.nodeColors=u,a.tangleTipLookup=Object(l.a)(o.nodes,a.nodes,o.visibility,a.visibility),{tree:o,treeToo:a,controls:i}}},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n(3),i="unassigned",o=function(t,e,n,o,a,s){var u=a.legendValues.filter(function(t){return void 0!==t});u.push(i);var l="gt-"===s.slice(0,3),c={},f=e.length;u.forEach(function(t){c[t]=new Array(f).fill(0)});var h=new Array(f).fill(0);return t.forEach(function(t){if(o[t.idx]===r.b)for(var e=function(t,e,n,r,o){if(o)return n.currentGt;var a=n.attr[r];if(!a||"unknown"===a)return i;if(!t.continuous)return a;for(var s=0;s<e.length;s++){var u=e[s];if(u===i)return i;var l=t.legendBounds[u][0];if(a<=t.legendBounds[u][1]&&a>l)return u}return console.error("Could not assign",a,"to a category"),i}(a,u,n[t.idx],s,l)||i,p=0;p<f;p++)c[e][p]+=t.values[p],h[p]+=t.values[p]}),0===c[i].reduce(function(t,e){return t+e},0)&&delete c[i],c},a=function(t,e,n){for(var r=t.pivots.map(function(t){return Math.round(100*parseFloat(t))/100}),i=[r[0]],a=(r[r.length-1]-r[0])/6*10/10;i[i.length-1]<r[r.length-1];)i.push(10*(i[i.length-1]+a)/10);if(!e.loaded)throw new Error("tree not loaded");var s=[];e.nodes.filter(function(t){return!t.hasChildren}).forEach(function(e){t[e.strain]?s.push({idx:e.arrayIdx,values:t[e.strain].frequencies,weight:t[e.strain].weight}):console.warn("No tip frequency information for ".concat(e.strain))});var u=o(s,r,e.nodes,e.visibility,n.colorScale,n.colorBy);return{data:s,pivots:r,ticks:i,matrix:u}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(71)("meta"),i=n(16),o=n(31),a=n(21).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(14)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&u(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){var r=n(18)("unscopables"),i=Array.prototype;void 0==i[r]&&n(32)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d}),n.d(e,"d",function(){return p});var r=n(176),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function s(t,e,n){var i;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var u=t,l=e,c=[],f=c,h=!1;function p(){f===c&&(f=c.slice())}function d(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return p(),f.push(t),function(){if(e){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,p();var n=f.indexOf(t);f.splice(n,1)}}}function v(t){if(!a(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,l=u(l,t)}finally{h=!1}for(var e=c=f,n=0;n<e.length;n++){(0,e[n])()}return t}return v({type:o.INIT}),(i={dispatch:v,subscribe:m,getState:d,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");u=t,v({type:o.REPLACE})}})[r.a]=function(){var t,e=m;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t},i}function u(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"==typeof t[i]&&(n[i]=t[i])}var a,s=Object.keys(n);try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){a=t}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var l=s[o],c=n[l],f=t[l],h=c(f,e);if(void 0===h){var p=u(l,e);throw new Error(p)}i[l]=h,r=r||h!==f}return r?i:t}}function c(t,e){return function(){return e(t.apply(this,arguments))}}function f(t,e){if("function"==typeof t)return c(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"==typeof a&&(r[o]=c(a,e))}return r}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map(function(t){return t(i)});return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){h(t,e,n[e])})}return t}({},n,{dispatch:r=p.apply(void 0,o)(n.dispatch)})}}}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=n(45),i=n(1),o=function(){return{loaded:!1,nodes:null,name:void 0,visibility:null,visibilityVersion:0,nodeColors:null,nodeColorsVersion:0,tipRadii:null,tipRadiiVersion:0,branchThickness:null,branchThicknessVersion:0,vaccines:!1,version:0,idxOfInViewRootNode:0,visibleStateCounts:{},totalStateCounts:{},availableBranchLabels:[],selectedStrain:void 0,selectedClade:void 0}},a=function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(!a.hasChildren)return Object.keys(a.attr).filter(function(t){return"strain"!==t.toLowerCase()})}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}console.error("Parsed tree without terminal nodes.")};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.T:case i.u:return e.tree;case i.v:return Object.assign({},t,{loaded:!1});case i.n:case i.S:var n={visibility:e.visibility,visibilityVersion:e.visibilityVersion,branchThickness:e.branchThickness,branchThicknessVersion:e.branchThicknessVersion,idxOfInViewRootNode:e.idxOfInViewRootNode,cladeName:e.cladeName,selectedClade:e.cladeName,visibleStateCounts:Object(r.b)(t.nodes,e.stateCountAttrs,e.visibility,!0),selectedStrain:e.selectedStrain};return Object.assign({},t,n);case i.R:return Object.assign({},t,{tipRadii:e.data,tipRadiiVersion:e.version});case i.D:return Object.assign({},t,{nodeColors:e.nodeColors,nodeColorsVersion:e.version});case i.O:return e.tree;case i.a:var s=!0,u=!1,l=void 0;try{for(var c,f=function(){var t=c.value;-1!==e.taxa.indexOf(t.strain)&&e.newColorBys.forEach(function(n,r){t.attr[n]=e.data[t.strain][r]})},h=t.nodes[Symbol.iterator]();!(s=(c=h.next()).done);s=!0)f()}catch(t){u=!0,l=t}finally{try{s||null==h.return||h.return()}finally{if(u)throw l}}return Object.assign({},t,{attrs:a(t.nodes)});default:return t}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(181),i=n(143);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(52),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(11),i=n(182),o=n(143),a=n(142)("IE_PROTO"),s=function(){},u=function(){var t,e=n(140)("iframe"),r=o.length;for(e.style.display="none",n(144).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(181),i=n(143).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(12),i=n(21),o=n(20),a=n(18)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(42),i=n(193),o=n(156),a=n(11),s=n(22),u=n(158),l={},c={};(e=t.exports=function(t,e,n,f,h){var p,d,m,v,y=h?function(){return t}:u(t),g=r(n,f,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=s(t.length);p>b;b++)if((v=e?g(a(d=t[b])[0],d[1]):g(t[b]))===l||v===c)return v}else for(m=y.call(t);!(d=m.next()).done;)if((v=i(m,g,d.value,e))===l||v===c)return v}).BREAK=l,e.RETURN=c},function(t,e,n){var r=n(33);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(530),i=n(533);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return fetch(t).then(function(t){if(200!==t.status)throw new Error(t.statusText);return t}).then(function(t){return t.json()})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){var n=t.slice(3).split("-").map(function(t){var n=t.split("_")[0];if(!e[n])return!1;var r=t.split("_")[1].split(",").map(function(t){return parseInt(t,10)}).filter(function(t){return t>0&&t<e[n]});return!!r.length&&{aa:"nuc"!==n,prot:"nuc"!==n&&n,positions:r}}).filter(function(t){return!1!==t});return-1!==t.indexOf("nuc")&&1!==n.length&&console.error("Can't specify both nuc & aa genotypes."),n}},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(23),i=n(1),o=(n(61),n(64));function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t){return function(e,n){var r=n(),s=r.tree,u=r.controls;e({type:i.A,frequencies:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}({loaded:!0,version:1},Object(o.b)(t,s,u))})}},u=Object(r.debounce)(function(t,e){var n=e(),r=n.frequencies,a=n.tree,s=n.controls;if(s.colorScale)if(r.data){var u=Object(o.a)(r.data,r.pivots,a.nodes,a.visibility,s.colorScale,s.colorBy);t({type:i.z,matrix:u})}else console.error("Race condition in updateFrequencyData. Frequencies data not in state. Matrix can't be calculated.");else console.error("Race condition in updateFrequencyData. ColourScale not Set. Frequency Matrix can't be calculated.")},500,{leading:!1,trailing:!0})},function(t,e,n){"use strict";var r=n(15);function i(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var s,u,l,c,f,h={"-":"",_:" ",0:"0"},p=/^\s*\d+/,d=/^%/,m=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function v(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function y(t){return t.replace(m,"\\$&")}function g(t){return new RegExp("^(?:"+t.map(y).join("|")+")","i")}function b(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function _(t,e,n){var r=p.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function w(t,e,n){var r=p.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function x(t,e,n){var r=p.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function E(t,e,n){var r=p.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function S(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function T(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function k(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function O(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function C(t,e,n){var r=p.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function M(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function A(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function P(t,e,n){var r=p.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function j(t,e,n){var r=p.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function L(t,e,n){var r=d.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function D(t,e){return v(t.getDate(),e,2)}function N(t,e){return v(t.getHours(),e,2)}function B(t,e){return v(t.getHours()%12||12,e,2)}function I(t,e){return v(1+r.a.count(Object(r.j)(t),t),e,3)}function F(t,e){return v(t.getMilliseconds(),e,3)}function R(t,e){return v(t.getMonth()+1,e,2)}function z(t,e){return v(t.getMinutes(),e,2)}function V(t,e){return v(t.getSeconds(),e,2)}function W(t,e){return v(r.h.count(Object(r.j)(t),t),e,2)}function U(t){return t.getDay()}function q(t,e){return v(r.e.count(Object(r.j)(t),t),e,2)}function H(t,e){return v(t.getFullYear()%100,e,2)}function G(t,e){return v(t.getFullYear()%1e4,e,4)}function Z(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+v(e/60|0,"0",2)+v(e%60,"0",2)}function K(t,e){return v(t.getUTCDate(),e,2)}function Y(t,e){return v(t.getUTCHours(),e,2)}function $(t,e){return v(t.getUTCHours()%12||12,e,2)}function X(t,e){return v(1+r.k.count(Object(r.t)(t),t),e,3)}function J(t,e){return v(t.getUTCMilliseconds(),e,3)}function Q(t,e){return v(t.getUTCMonth()+1,e,2)}function tt(t,e){return v(t.getUTCMinutes(),e,2)}function et(t,e){return v(t.getUTCSeconds(),e,2)}function nt(t,e){return v(r.r.count(Object(r.t)(t),t),e,2)}function rt(t){return t.getUTCDay()}function it(t,e){return v(r.o.count(Object(r.t)(t),t),e,2)}function ot(t,e){return v(t.getUTCFullYear()%100,e,2)}function at(t,e){return v(t.getUTCFullYear()%1e4,e,4)}function st(){return"+0000"}function ut(){return"%"}!function(t){s=function(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,u=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,p=g(s),d=b(s),m=g(u),v=b(u),y=g(l),lt=b(l),ct=g(c),ft=b(c),ht=g(f),pt=b(f),dt={a:function(t){return l[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:D,e:D,H:N,I:B,j:I,L:F,m:R,M:z,p:function(t){return s[+(t.getHours()>=12)]},S:V,U:W,w:U,W:q,x:null,X:null,y:H,Y:G,Z:Z,"%":ut},mt={a:function(t){return l[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:K,e:K,H:Y,I:$,j:X,L:J,m:Q,M:tt,p:function(t){return s[+(t.getUTCHours()>=12)]},S:et,U:nt,w:rt,W:it,x:null,X:null,y:ot,Y:at,Z:st,"%":ut},vt={a:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.w=lt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.w=v[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=ht.exec(e.slice(n));return r?(t.m=pt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=ct.exec(e.slice(n));return r?(t.m=ft[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return bt(t,e,n,r)},d:O,e:O,H:M,I:M,j:C,L:j,m:k,M:A,p:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.p=d[r[0].toLowerCase()],n+r[0].length):-1},S:P,U:w,w:_,W:x,x:function(t,e,r){return bt(t,n,e,r)},X:function(t,e,n){return bt(t,r,e,n)},y:S,Y:E,Z:T,"%":L};function yt(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=h[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function gt(t,e){return function(n){var r=a(1900);if(bt(r,t,n+="",0)!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var i="Z"in r?o(a(r.y)).getUTCDay():e(a(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(i+5)%7:r.w+7*r.U-(i+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,o(r)):e(r)}}function bt(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=vt[i in h?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return dt.x=yt(n,dt),dt.X=yt(r,dt),dt.c=yt(e,dt),mt.x=yt(n,mt),mt.X=yt(r,mt),mt.c=yt(e,mt),{format:function(t){var e=yt(t+="",dt);return e.toString=function(){return t},e},parse:function(t){var e=gt(t+="",i);return e.toString=function(){return t},e},utcFormat:function(t){var e=yt(t+="",mt);return e.toString=function(){return t},e},utcParse:function(t){var e=gt(t,o);return e.toString=function(){return t},e}}}(t),u=s.format,l=s.parse,c=s.utcFormat,f=s.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||c("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||f("%Y-%m-%dT%H:%M:%S.%LZ");n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return c})},function(t,e,n){var r=n(482),i=n(485),o=n(213),a=n(214),s=n(486),u=!1,l=!0,c=function(t){return r(t,l)},f={initialize:function(t,e){t?(e&&(e.debug&&!0===e.debug&&(u=!0),!1===e.titleCase&&(l=!1)),function(t,e,n,r,i,o,a){t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=e.createElement(n),a=e.getElementsByTagName(n)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(o,a)}(window,document,"script",0,"ga"),e&&e.gaOptions?ga("create",t,e.gaOptions):ga("create",t,"auto")):a("gaTrackingID is required in initialize()")},ga:function(){return arguments.length>0?(ga.apply(this,arguments),void(u&&(s("called ga('arguments');"),s("with arguments: "+JSON.stringify([].slice.apply(arguments)))))):ga},set:function(t){if("function"==typeof ga){if(!t)return void a("`fieldsObject` is required in .set()");if("object"!=typeof t)return void a("Expected `fieldsObject` arg to be an Object");0===Object.keys(t).length&&a("empty `fieldsObject` given to .set()"),ga("set",t),u&&(s("called ga('set', fieldsObject);"),s("with fieldsObject: "+JSON.stringify(t)))}},send:function(t){"function"==typeof ga&&(ga("send",t),u&&(s("called ga('send', fieldObject);"),s("with fieldObject: "+JSON.stringify(t))))},pageview:function(t){t?""!==(t=o(t))?"function"==typeof ga&&(ga("send","pageview",t),u&&(s("called ga('send', 'pageview', path);"),s("with path: "+t))):a("path cannot be an empty string in .pageview()"):a("path is required in .pageview()")},modalview:function(t){if(t)if(t=o(t),""!==(t=i(t))){if("function"==typeof ga){var e="/modal/"+(t=o(t));ga("send","pageview",e),u&&(s("called ga('send', 'pageview', path);"),s("with path: "+e))}}else a("modalName cannot be an empty string or a single / in .modalview()");else a("modalName is required in .modalview(modalName)")},timing:function(t){if("function"==typeof ga){if(!(t&&t.category&&t.variable&&t.value&&"number"==typeof t.value))return void a("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number");var e={hitType:"timing",timingCategory:c(t.category),timingVar:c(t.variable),timingValue:t.value};t.label&&(e.timingLabel=c(t.label)),this.send(e)}},event:function(t){if("function"==typeof ga){if(!t||!t.category||!t.action)return void a("args.category AND args.action are required in event()");var e={hitType:"event",eventCategory:c(t.category),eventAction:c(t.action)};t.label&&(e.eventLabel=c(t.label)),t.hasOwnProperty("value")&&("number"!=typeof t.value?a("Expected `args.value` arg to be a Number."):e.eventValue=t.value),t.nonInteraction&&("boolean"!=typeof t.nonInteraction?a("`args.nonInteraction` must be a boolean."):e.nonInteraction=t.nonInteraction),t.transport&&("string"!=typeof t.transport?a("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(t.transport)&&a("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),e.transport=t.transport)),this.send(e)}},exception:function(t){if("function"==typeof ga){var e={hitType:"exception"};t.description&&(e.exDescription=c(t.description)),void 0!==t.fatal&&("boolean"!=typeof t.fatal?a("`args.fatal` must be a boolean."):e.exFatal=t.fatal),this.send(e)}},plugin:{require:function(t,e){if("function"==typeof ga)return t?""===(t=o(t))?void a("`name` cannot be an empty string in .require()"):e?"object"!=typeof e?void a("Expected `options` arg to be an Object"):(0===Object.keys(e).length&&a("Empty `options` given to .require()"),ga("require",t,e),void(u&&s("called ga('require', '"+t+"', "+JSON.stringify(e)+");"))):(ga("require",t),void(u&&s("called ga('require', '"+t+"');"))):void a("`name` is required in .require()")},execute:function(){var t,e,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1];if(3===n.length?t=n[2]:(e=n[2],t=n[3]),"function"==typeof ga)if("string"!=typeof r)a("Expected `pluginName` arg to be a String.");else if("string"!=typeof i)a("Expected `action` arg to be a String.");else{var o=r+":"+i;t=t||null,e&&t?(ga(o,e,t),u&&(s("called ga('"+o+"');"),s('actionType: "'+e+'" with payload: '+JSON.stringify(t)))):t?(ga(o,t),u&&(s("called ga('"+o+"');"),s("with payload: "+JSON.stringify(t)))):(ga(o),u&&s("called ga('"+o+"');"))}}},outboundLink:function(t,e){if("function"==typeof e)if("function"==typeof ga){if(!t||!t.label)return void a("args.label is required in outboundLink()");var n={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:c(t.label)},r=!1,i=setTimeout(function(){r=!0,e()},250);n.hitCallback=function(){clearTimeout(i),r||e()},this.send(n)}else setTimeout(e,0);else a("hitCallback function is required")}},h=n(487);h.origTrackLink=h.trackLink,h.trackLink=f.outboundLink.bind(f),f.OutboundLink=h,t.exports=f},function(t,e,n){var r=n(21).f,i=n(31),o=n(18)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(4),i=n(51),o=n(14),a=n(146),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t,e,n){var i={},s=o(function(){return!!a[t]()||"​"!="​"[t]()}),u=i[t]=s?e(f):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=c.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e){t.exports={}},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1),i=function(){return{width:window.innerWidth,height:window.innerHeight,docHeight:window.document.body.clientHeight}};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{browserDimensions:i()},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.f:return Object.assign({},t,{browserDimensions:e.data});default:return t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3),i=function(t,e,n,i){for(var o={},a=0;a<e.length;a++)e[a].hasChildren||(o[e[a].strain]=a);for(var s=[],u=0;u<t.length;u++){var l=o[t[u].strain];!t[u].hasChildren&&l&&n[u]===r.b&&i[l]===r.b&&s.push([u,o[t[u].strain]])}return s}},function(t,e,n){var r=n(624)();t.exports=r},function(t,e,n){var r=n(43);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(43),i=n(18)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,n){var r=n(101),i=n(102),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(123),i=n(520),o=n(521),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(225),i=n(168);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return g}),n.d(e,"b",function(){return b});var r=n(35),i=n.n(r),o=n(1),a=n(3),s=n(29),u=n(63),l=n(85),c=(n(83),n(26)),f=n(46);function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=Object(f.b)("serverAddress")?Object(f.a)("serverAddress"):a.g,m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,r=e.narrative,i=void 0!==r&&r,o="".concat(d,"/").concat(i?"getNarrative":"getDataset");return o+="?prefix=".concat(t),n&&(o+="&type=".concat(n)),fetch(o).then(function(t){if(200!==t.status)throw new Error(t.statusText);return t}).then(function(t){return t.json()})},v=Object(f.b)("hardcodedDataPaths")?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,r=void 0===n?"mainJSON":n,i=(e.narrative,Object(f.a)("hardcodedDataPaths"));return console.log("FETCHING",i[r]),fetch(i[r]).then(function(t){if(200!==t.status)throw new Error(t.statusText);return t}).then(function(t){return t.json()})}:m,y=function(t,e,n,r){var i=!1,a="";n.tt&&(i={message:'Specifing a second tree via "tt='.concat(n.tt,'" is deprecated.'),details:"The URL has been updated to reflect the new syntax 🙂"},a+="&deprecatedSecondTree=".concat(n.tt)),v("".concat(e).concat(a)).then(function(e){return t(h({type:o.u},Object(u.b)({json:e,query:n,narrativeBlocks:r}))),{frequencies:e.meta.panels&&-1!==e.meta.panels.indexOf("frequencies"),datasetFields:e._datasetFields,source:e._source}}).then(function(n){return!0===n.frequencies&&v(e,{type:"tip-frequencies"}).then(function(e){return t(Object(l.a)(e))}).catch(function(t){return console.error("Frequencies failed to fetch",t.message)}),!1}).catch(function(n){console.warn(n,n.message),t(Object(s.c)("Couldn't load JSONs for ".concat(e)))}),i&&t(Object(c.d)(i))},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,n=void 0===e?window.location.pathname:e,r=t.search,a=void 0===r?window.location.search:r;return function(t,e){e().tree.loaded&&t({type:o.v});var r=i.a.parse(a);-1!==n.indexOf("narratives")?m(n,{narrative:!0}).then(function(e){var n=e[0].dataset,o=i.a.parse(e[0].query);r.n&&(o.n=r.n),y(t,n,o,e)}).catch(function(e){console.error("Error obtaining narratives",e.message),t(Object(s.c)("Couldn't load narrative for ".concat(n)))}):y(t,n,r)}},b=function(t,e){return function(n,r){var i=r();v(e.join("/"),{type:"tree"}).then(function(e){var r=Object(u.c)({treeTooJSON:e.tree,oldState:i,segment:t});n(h({type:o.O,segment:t},r))}).catch(function(t){return console.error("Failed to fetch additional tree",t.message)})}}},function(t,e,n){var r;!function(i,o,a){if(i){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)u[111+h]="f"+h;for(h=0;h<=9;++h)u[h+96]=h.toString();b.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},b.prototype.unbind=function(t,e){return this.bind.call(this,t,function(){},e)},b.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},b.prototype.reset=function(){return this._callbacks={},this._directMap={},this},b.prototype.stopCallback=function(t,e){return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!function t(e,n){return null!==e&&e!==o&&(e===n||t(e.parentNode,n))}(e,this.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},b.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},b.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(u[e]=t[e]);s=null},b.init=function(){var t=b(o);for(var e in t)"_"!==e.charAt(0)&&(b[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},b.init(),i.Mousetrap=b,t.exports&&(t.exports=b),void 0===(r=function(){return b}.call(e,n,e,t))||(t.exports=r)}function p(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function d(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return u[t.which]?u[t.which]:l[t.which]?l[t.which]:String.fromCharCode(t.which).toLowerCase()}function m(t,e){return t.sort().join(",")===e.sort().join(",")}function v(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function y(t,e,n){return n||(n=function(){if(!s)for(var t in s={},u)t>95&&t<112||u.hasOwnProperty(t)&&(s[u[t]]=t);return s}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function g(t,e){var n,r,i,o=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),i=0;i<n.length;++i)r=n[i],f[r]&&(r=f[r]),e&&"keypress"!=e&&c[r]&&(r=c[r],o.push("shift")),v(r)&&o.push(r);return{key:r,modifiers:o,action:e=y(r,o,e)}}function b(t){var e=this;if(t=t||o,!(e instanceof b))return new b(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},i=!1,a=!1,s=!1;function u(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(s=!1)}function l(t,n,i,o,a,s){var u,l,c=[],f=i.type;if(!e._callbacks[t])return[];for("keyup"==f&&v(t)&&(n=[t]),u=0;u<e._callbacks[t].length;++u)if(l=e._callbacks[t][u],(o||!l.seq||r[l.seq]==l.level)&&f==l.action&&("keypress"==f&&!i.metaKey&&!i.ctrlKey||m(n,l.modifiers))){var h=!o&&l.combo==a,p=o&&l.seq==o&&l.level==s;(h||p)&&e._callbacks[t].splice(u,1),c.push(l)}return c}function c(t,n,r,i){e.stopCallback(n,n.target||n.srcElement,r,i)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function f(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=d(t);n&&("keyup"!=t.type||i!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):i=!1)}function h(t,e,o,a){function l(e){return function(){s=e,++r[t],clearTimeout(n),n=setTimeout(u,1e3)}}function f(e){c(o,e,t),"keyup"!==a&&(i=d(e)),setTimeout(u,10)}r[t]=0;for(var h=0;h<e.length;++h){var p=h+1===e.length?f:l(a||g(e[h+1]).action);y(e[h],p,a,t,h)}}function y(t,n,r,i,o){e._directMap[t+":"+r]=n;var a,s=(t=t.replace(/\s+/g," ")).split(" ");s.length>1?h(t,s,n,r):(a=g(t,r),e._callbacks[a.key]=e._callbacks[a.key]||[],l(a.key,a.modifiers,{type:a.action},i,t,o),e._callbacks[a.key][i?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:t}))}e._handleKey=function(t,e,n){var r,i=l(t,e,n),o={},f=0,h=!1;for(r=0;r<i.length;++r)i[r].seq&&(f=Math.max(f,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=f)continue;h=!0,o[i[r].seq]=1,c(i[r].callback,n,i[r].combo,i[r].seq)}else h||c(i[r].callback,n,i[r].combo);var p="keypress"==n.type&&a;n.type!=s||v(t)||p||u(o),a=h&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)y(t[r],e,n)},p(t,"keypress",f),p(t,"keydown",f),p(t,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){"use strict";var r=n(19),i=n(9),o=n(8),a=n(13),s=n(3),u=n(45),l=n(17),c=n(84);function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return m});var p="#AAAAAA",d=function(t){var e=function(t,e){return t+.5*(e-t)},n=t.length,r={};r[t[0]]=[0,e(t[0],t[1])];for(var i=1;i<n-1;i++)r[t[i]]=[e(t[i-1],t[i]),e(t[i],t[i+1])];return r[t[n-1]]=[e(t[n-2],t[n-1]),1e4],r},m=function(t,e,n,m,v){if("none"===t){console.warn("ColorScale fallthrough for colorBy set to none");var y=["unknown"],g=d(y);return{scale:function(){return p},continuous:!1,colorBy:t,version:void 0===e.colorScale?1:e.colorScale.version+1,legendValues:y,legendBounds:g,genotype:null}}var b;"gt-"===t.slice(0,3)&&e.geneLength&&((b=Object(c.a)(t,e.geneLength)).length>1&&console.warn("Cannot deal with multiple proteins yet - using first only."),function(t,e,n){var r=n.length,i=n.map(function(){}),o=n.map(function(){return[]});!function t(a,s){var u,l=s;if("nuc"===e&&a.muts&&a.muts.length?u=a.muts:a.aa_muts&&a.aa_muts[e]&&(u=a.aa_muts[e]),u&&u.length)for(var c=0;c<u.length;c++)for(var h=u[c],p=parseInt(h.slice(1,h.length-1),10),d=0;d<r;d++)n[d]===p&&(i[d]||(i[d]=h.slice(0,1)),l[d]=h.slice(h.length-1,h.length));a.currentGt=f(l);for(var m=0;m<r;m++)l[m]||o[m].push(a);if(a.hasChildren){var v=!0,y=!1,g=void 0;try{for(var b,_=a.children[Symbol.iterator]();!(v=(b=_.next()).done);v=!0)t(b.value,f(l))}catch(t){y=!0,g=t}finally{try{v||null==_.return||_.return()}finally{if(y)throw g}}}}(t[0],n.map(function(){}));for(var a=0;a<r;a++){var s=!0,u=!1,l=void 0;try{for(var c,h=o[a][Symbol.iterator]();!(s=(c=h.next()).done);s=!0)c.value.currentGt[a]=i[a]}catch(t){u=!0,l=t}finally{try{s||null==h.return||h.return()}finally{if(u)throw l}}}t.forEach(function(t){t.currentGt=t.currentGt.join(" / ")})}(n.nodes,b[0].prot||"nuc",b[0].positions));var _,w,x,E=v.colorOptions,S=m?m.nodes:void 0,T=!1,k=!1;if(n.nodes)if(b)w=function(t){var e={};t.forEach(function(t){(!e[t.currentGt]||t.attr.num_date<e[t.currentGt])&&(e[t.currentGt]=t.attr.num_date)});var n=Object.keys(e);return n.sort(function(t,n){return e[t]<e[n]?-1:1}),n}(n.nodes),_=Object(r.b)().domain([void 0].concat(h(w))).range([p].concat(h(s.v)));else if(E&&E[t])if(E[t].color_map){k=!1;var O=E[t].color_map.map(function(t){return t[0]}),C=E[t].color_map.map(function(t){return t[1]}),M=Object(l.f)(n.nodes,S,t,E[t].color_map);if(M.length){O=O.concat(M);var A=[Object(o.f)(192,192,192),Object(o.f)(32,32,32)];C=C.concat(function(t,e){var n=Object(r.a)().domain([0,t]).interpolate(a.c).range(e);return Object(i.h)(0,t).map(n)}(M.length,A))}_=Object(r.b)().domain(O).range(C),w=O}else if(E&&"discrete"===E[t].type)k=!1,_=function(t){for(var e=t.length<=s.j.length?s.j[t.length].slice():s.j[s.j.length-1].slice(),n=["unknown","undefined","unassigned","NA","NaN"],i=0;i<n.length;i++){var o=n[i];-1!==t.indexOf(o)&&(e[t.indexOf(o)]=p)}var a=Object(r.b)().domain(t).range(e);return function(t){return void 0===t||!1===t?p:a(t)}}(w=function(t,e,n){var r=Object(u.b)(t,[n],!1,!1)[n];if(e){var i=Object(u.b)(e,[n],!1,!1)[n];for(var o in i)r[o]?r[o]+=i[o]:r[o]=i[o]}var a=Object.keys(r);return"clade_membership"===n?a.sort():a.sort(function(t,e){return r[t]>r[e]?-1:1}),a}(n.nodes,S,t));else if(E&&"continuous"===E[t].type){var P,j,L;switch(k=!0,t){case"lbi":P=[0,.7];break;case"num_date":break;default:P=function(t,e,n){var r=(e?t.concat(e):t.slice()).map(function(t){return t.attr[n]});return r.filter(function(t){return void 0!==t}).filter(function(t,e,n){return n.indexOf(t)===e}),[Object(i.f)(r),Object(i.d)(r)]}(n.nodes,S,t,E[t])}switch(t){case"num_date":var D=n.nodes[0].attr.num_date,N=n.nodes.filter(function(t){return!t.hasChildren}).map(function(t){return t.attr.num_date});S&&(S[0].attr.num_date<D&&(D=S[0].attr.num_date),N.concat(S.filter(function(t){return!t.hasChildren}).map(function(t){return t.attr.num_date}))),N=N.sort(),j=[D];for(var B=parseInt(N.length/9,10),I=0;I<9;I++)j.push(N[B*I]);j.push(N[N.length-1]),j=h(new Set(j)),L=s.j[j.length];break;default:L=s.j[9],j=s.u.map(function(t){return P[0]+t*(P[1]-P[0])})}var F=Object(r.a)().domain(j).range(L);switch(_=function(t){return void 0===t||!1===t?p:F(t)},t){case"lbi":w=[0,.1,.2,.3,.4,.5,.6,.7];break;case"num_date":w=j.slice(1);break;default:var R=P[1]-P[0],z=R>5?2:3;w=s.u.map(function(t){return parseFloat((P[0]+t*R).toFixed(z))})}-0===w[0]&&(w[0]=0),x=d(w)}else console.error("ColorBy",t,"invalid type --",E[t].type),T=!0;else T=!0;else console.error("calcColorScale called before tree is ready."),T=!0;return T&&(console.error("ColorScale fallthrough for ",t),k=!1,w=["unknown"],_=function(){return p}),{scale:_,continuous:k,colorBy:t,version:void 0===e.colorScale?1:e.colorScale.version+1,legendValues:w,legendBounds:x,genotype:b}}},function(t,e,n){var r=n(170),i=n(233),o=n(92);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e,n){var r=n(170),i=n(556),o=n(92);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e,n){var r=n(12),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(36),i=n(22),o=n(74);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(43);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(16),i=n(43),o=n(18)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(18)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(11);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(32),i=n(33),o=n(14),a=n(51),s=n(18);t.exports=function(t,e,n){var u=s(t),l=n(a,u,""[t]),c=l[0],f=l[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,c),r(RegExp.prototype,u,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},function(t,e,n){var r=n(11),i=n(28),o=n(18)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(12),i=n(4),o=n(33),a=n(80),s=n(66),u=n(79),l=n(78),c=n(16),f=n(14),h=n(114),p=n(88),d=n(147);t.exports=function(t,e,n,m,v,y){var g=r[t],b=g,_=v?"set":"add",w=b&&b.prototype,x={},E=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(y||w.forEach&&!f(function(){(new b).entries().next()}))){var S=new b,T=S[_](y?{}:-0,1)!=S,k=f(function(){S.has(1)}),O=h(function(t){new b(t)}),C=!y&&f(function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)});O||((b=e(function(e,n){l(e,b,t);var r=d(new g,e,b);return void 0!=n&&u(n,v,r[_],r),r})).prototype=w,w.constructor=b),(k||C)&&(E("delete"),E("has"),v&&E("get")),(C||T)&&E(_),y&&w.clear&&delete w.clear}else b=m.getConstructor(e,t,v,_),a(b.prototype,n),s.NEED=!0;return p(b,t),x[t]=b,i(i.G+i.W+i.F*(b!=g),x),y||m.setStrong(b,t,v),b}},function(t,e,n){for(var r,i=n(12),o=n(32),a=n(71),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[h[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,n){"use strict";t.exports=n(72)||!n(14)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(12)[t]})},function(t,e,n){"use strict";var r=n(4);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(4),i=n(28),o=n(42),a=n(79);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var r=n(57).Symbol;t.exports=r},function(t,e,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r))t.push(i.apply(null,r));else if("object"===o)for(var a in r)n.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}t.exports?t.exports=i:void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(543),i=n(550),o=n(103);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(558),i=n(605),o=n(92),a=n(39),s=n(615);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(560),i=n(561),o=n(562),a=n(563),s=n(564);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(125);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(82)(Object,"create");t.exports=r},function(t,e,n){var r=n(578);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(100),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(479)},function(t,e,n){"use strict";n.d(e,"b",function(){return u});var r=n(7),i=n(3),o=n(1),a=n(93),s=n(63),u=function(){var t={distanceMeasure:i.p,layout:i.r,geoResolution:i.q,filters:{},colorBy:i.n},e=Object(r.d)(Object(r.c)()-i.o),n=Object(r.b)(),o=Object(r.a)(e),s=Object(r.a)(n);return{defaults:t,available:void 0,datasetFields:void 0,source:void 0,canTogglePanelLayout:!0,selectedBranch:null,selectedNode:null,region:null,search:null,strain:null,geneLength:{},mutType:i.A,temporalConfidence:{exists:!1,display:!1,on:!1},layout:t.layout,distanceMeasure:t.distanceMeasure,dateMin:e,dateMinNumeric:o,dateMax:n,dateMaxNumeric:s,absoluteDateMin:e,absoluteDateMinNumeric:o,absoluteDateMax:n,absoluteDateMaxNumeric:s,colorBy:t.colorBy,colorByConfidence:{display:!1,on:!1},colorScale:void 0,selectedBranchLabel:!1,analysisSlider:!1,geoResolution:t.geoResolution,filters:{},showDownload:!1,quickdraw:!1,mapAnimationDurationInMilliseconds:3e4,mapAnimationStartDate:null,mapAnimationCumulative:!1,mapAnimationShouldLoop:!1,animationPlayPauseButton:"Play",panelsAvailable:[],panelsToDisplay:[],panelLayout:Object(a.a)().width>i.I?"grid":"full",showTreeToo:void 0,showTangle:!1,zoomMin:void 0,zoomMax:void 0,branchLengthsToDisplay:"divAndDate"}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o.T:case o.u:return e.controls;case o.d:return Object.assign({},t,{selectedBranch:e.data});case o.e:return Object.assign({},t,{selectedBranch:null});case o.E:return Object.assign({},t,{selectedNode:e.data});case o.F:return Object.assign({},t,{selectedNode:null});case o.m:return Object.assign({},t,{selectedBranchLabel:e.value});case o.q:var n=e.data,i={exists:t.temporalConfidence.exists,display:t.temporalConfidence.exists&&"rect"===n,on:!1};return Object.assign({},t,{layout:n,temporalConfidence:i});case o.o:if(t.temporalConfidence.exists){if(t.temporalConfidence.display&&"div"===e.data)return Object.assign({},t,{distanceMeasure:e.data,branchLengthsToDisplay:t.branchLengthsToDisplay,temporalConfidence:Object.assign({},t.temporalConfidence,{display:!1,on:!1})});if("rect"===t.layout&&"num_date"===e.data)return Object.assign({},t,{distanceMeasure:e.data,branchLengthsToDisplay:t.branchLengthsToDisplay,temporalConfidence:Object.assign({},t.temporalConfidence,{display:!0})})}return Object.assign({},t,{distanceMeasure:e.data,branchLengthsToDisplay:t.branchLengthsToDisplay});case o.n:var a={quickdraw:e.quickdraw};return e.dateMin&&(a.dateMin=e.dateMin,a.dateMinNumeric=e.dateMinNumeric),e.dateMax&&(a.dateMax=e.dateMax,a.dateMaxNumeric=e.dateMaxNumeric),Object.assign({},t,a);case o.h:return Object.assign({},t,{absoluteDateMin:e.data,absoluteDateMinNumeric:Object(r.a)(e.data)});case o.g:return Object.assign({},t,{absoluteDateMax:e.data,absoluteDateMaxNumeric:Object(r.a)(e.data)});case o.l:return Object.assign({},t,{mapAnimationDurationInMilliseconds:e.data});case o.i:return Object.assign({},t,{mapAnimationCumulative:e.data});case o.j:return Object.assign({},t,{mapAnimationShouldLoop:e.data});case o.B:return Object.assign({},t,{quickdraw:"Play"!==e.data,animationPlayPauseButton:e.data});case o.k:return Object.assign({},t,{mapAnimationStartDate:e.data});case o.r:return Object.assign({},t,{panelLayout:e.data});case o.O:return e.controls;case o.L:return Object.assign({},t,{panelsToDisplay:e.panelsToDisplay,panelLayout:e.panelLayout,canTogglePanelLayout:-1!==e.panelsToDisplay.indexOf("tree")&&-1!==e.panelsToDisplay.indexOf("map")});case o.D:var l=Object.assign({},t,{colorBy:e.colorBy,colorScale:e.colorScale,colorByConfidence:Object(s.a)(t.attrs,e.colorBy)});return e.newMutType&&(l.mutType=e.newMutType),l;case o.p:return Object.assign({},t,{geoResolution:e.data});case o.c:var c=Object.assign({},t.filters,{});return c[e.fields]=e.values,Object.assign({},t,{filters:c});case o.J:return Object.assign({},t,{mutType:e.data});case o.N:return Object.assign({},t,{temporalConfidence:Object.assign({},t.temporalConfidence,{on:!t.temporalConfidence.on})});case o.P:return Object.assign({},t,{showDownload:!0});case o.w:return Object.assign({},t,{showDownload:!1});case o.I:return Object.assign({},t,{showTreeToo:void 0,showTangle:!1,canTogglePanelLayout:-1!==t.panelsAvailable.indexOf("map"),panelsToDisplay:t.panelsAvailable.slice()});case o.M:return t.showTreeToo?Object.assign({},t,{showTangle:!t.showTangle}):t;default:return t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(3),i=function(t,e){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(e>=t[i].start&&e<=t[i].end)return i}return!1},o=function(t,e,n,o,a){return a?function(t,e,n,o){var a=o?{}:[];o&&Object.keys(n).forEach(function(t){a[t]={}}),t.forEach(function(t){if(e[t.arrayIdx]===r.b)if(o){if(t.aa_muts){var n=function(e){t.aa_muts[e].forEach(function(t){var n=parseInt(t.slice(1,t.length-1),10);a[e][n]?a[e][n]++:a[e][n]=1})};for(var i in t.aa_muts)n(i)}}else t.muts&&t.muts.forEach(function(t){var e=parseInt(t.slice(1,t.length-1),10),n=t.slice(0,1),r=t.slice(-1);"N"!==n&&"-"!==n&&"N"!==r&&"-"!==r&&(a[e]?a[e]++:a[e]=1)})});var s=[],u=0,l=0;if(o)for(var c=Object.keys(a),f=0;f<c.length;f++)for(var h in a[c[f]]){var p=parseInt(h,10);a[c[f]][p]>l&&(l=a[c[f]][p]),s[u]={x:n[c[f]].start+3*p-1,y:a[c[f]][p],codon:p,fill:r.v[f%10],prot:c[f]},u++}else{for(var d=0;d<a.length;d++)a[d]&&(a[d]>l&&(l=a[d]),s[u]={x:d,y:a[d]},u++);for(var m=0;m<s.length;m++){var v=s[m];v.prot=i(n,v.x)}}return[s,l]}(t,e,o,"aa"===n):function(t,e,n,o){var a=o?Object.keys(n):["nuc"],s={},u={},l={};a.forEach(function(t){s[t]={},l[t]={},u[t]={}});var c=0,f=function(t){var e=this[0],n=this[1],r=parseInt(t.slice(1,t.length-1),10),i=t.slice(0,1),a=t.slice(t.length-1,t.length);if(o){if("X"===i||"-"===i||"X"===a||"-"===a)return}else if("N"===i||"-"===i||"N"===a||"-"===a)return;u[e][r]||(u[e][r]=i),n[e][r]=a};!function t(n,i){if(o){if(n.aa_muts)for(var s in n.aa_muts)a.includes(s)&&n.aa_muts[s].forEach(f,[s,i])}else n.muts&&n.muts.length&&n.muts.forEach(f,["nuc",i]);if(n.hasChildren){var u=!0,h=!1,p=void 0;try{for(var d,m=function(){var e=d.value,n={};a.forEach(function(t){n[t]=Object.assign({},i[t])}),t(e,n)},v=n.children[Symbol.iterator]();!(u=(d=v.next()).done);u=!0)m()}catch(t){h=!0,p=t}finally{try{u||null==v.return||v.return()}finally{if(h)throw p}}}else if(e[n.arrayIdx]===r.b){c++;var y=!0,g=!1,b=void 0;try{for(var _,w=a[Symbol.iterator]();!(y=(_=w.next()).done);y=!0)for(var x=_.value,E=Object.keys(i[x]),S=0;S<E.length;S++){var T=E[S];l[x][T]?l[x][T][i[x][T]]?l[x][T][i[x][T]]++:l[x][T][i[x][T]]=1:(l[x][T]={},l[x][T][i[x][T]]=1)}}catch(t){g=!0,b=t}finally{try{y||null==w.return||w.return()}finally{if(g)throw b}}}}(t[0],s);var h=0,p=0,d=[],m=!0,v=!1,y=void 0;try{for(var g,b=a[Symbol.iterator]();!(m=(g=b.next()).done);m=!0)for(var _=g.value,w=Object.keys(l[_]),x=0;x<w.length;x++){for(var E=w[x],S=0,T=Object.keys(l[_][E]),k=0;k<T.length;k++){var O=T[k];S+=l[_][E][O]}var C=c-S;C>0&&(l[_][E][u[_][E]]?l[_][E][u[_][E]]+=C:l[_][E][u[_][E]]=C);for(var M=0,A=Object.keys(l[_][E]),P=0;P<A.length;P++){var j=A[P],L=l[_][E][j]/c;M+=-1*L*Math.log(L)}M>h&&(h=M),d[p]=o?{x:n[_].start+3*E-1,y:M.toFixed(3),codon:parseInt(E,10),fill:r.v[p%10],prot:_}:{x:parseInt(E,10),y:M.toFixed(3),prot:i(n,E)},p++}}catch(t){v=!0,y=t}finally{try{m||null==b.return||b.return()}finally{if(v)throw y}}return[d,h]}(t,e,o,"aa"===n)}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(3),a=n(2);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t){var e=t.mobileDisplay,n=t.handler,r=t.extraStyles,o=void 0===r?{}:r,a={visibility:e?"hidden":"visible",width:e?0:12,height:16,backgroundColor:"inherit",boxShadow:"none",cursor:"pointer",marginTop:2,borderRadius:"0px",fontSize:12,color:"#444",textAlign:"center",verticalAlign:"middle"};return i.a.createElement("div",{style:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}({},a,o),onClick:n},i.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"}))},l=n(174),c=function(t,e,n){return i.a.createElement("a",{key:t,style:n,href:e},t)};e.a=function(t){var e=t.minified,n=t.mobileDisplay,r=t.toggleHandler,s=t.narrativeTitle,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.minified,n=void 0===e||e,r=t.narrative,i=void 0!==r&&r,s=t.width;return{mainContainer:{maxWidth:960,marginTop:"auto",marginRight:"auto",marginBottom:"auto",marginLeft:"auto",height:i?o.B:o.C,justifyContent:"space-between",alignItems:"center",overflow:"hidden",left:0,zIndex:100,transition:"left .3s ease-out"},flexColumns:{display:"flex",flexDirection:"row",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center"},flexRows:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},title:{padding:"0px",color:"#000",textDecoration:"none",fontSize:20,fontWeight:400,cursor:"pointer"},link:{padding:n?"6px 12px":"20px 20px",textDecoration:"none",whiteSpace:"nowrap",cursor:"pointer",fontSize:n?12:16,fontWeight:400,textTransform:"uppercase",color:n?"#000":a.b},logo:{padding:"5px 5px",width:"50px",cursor:"pointer"},narrativeTitle:{whiteSpace:"nowrap",fontSize:16,marginLeft:"auto",padding:"0px 12px",float:"right",maxWidth:"".concat(s-90,"px"),overflow:"hidden",textOverflow:"ellipsis"}}}({minified:e,narrative:!!s,width:t.width});return i.a.createElement("div",{id:"NavBarContainer",style:f.mainContainer},i.a.createElement("div",{style:f.flexColumns},i.a.createElement("a",{id:"Logo",style:f.logo,href:"/"},i.a.createElement("img",{alt:"splashPage",width:"40px",src:l})),e?null:function(t){return i.a.createElement("a",{id:"RainbowNextstrain",style:t,href:"/"},"Nextstrain".split("").map(function(t,e){return i.a.createElement("span",{key:e,style:{color:o.H[e]}},t)}))}(f.title),i.a.createElement("div",{style:{flex:5}}),i.a.createElement("div",{style:f.flexRows},i.a.createElement("div",{style:f.flexColumns},i.a.createElement("div",{style:{flex:5}}),c("About","/about",f.link),c("Docs","/docs",f.link),c("Blog","/blog",f.link)),s?function(t,e){return i.a.createElement("div",{style:e},"Narrative: ".concat(t))}(s,f.narrativeTitle):null),e&&!s?i.a.createElement(u,{mobileDisplay:n,handler:r}):i.a.createElement("div",{id:"spacer",style:{flex:1}})))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){var r=n(245),i=n(620);t.exports=function(t,e){return t&&r(t,i(e))}},function(t,e,n){"use strict";(function(t){if(n(270),n(467),n(468),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function r(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&r(Array,t,Function.call.bind([][t]))})}).call(this,n(65))},function(t,e,n){var r=n(16),i=n(12).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(12),i=n(49),o=n(72),a=n(180),s=n(21).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(109)("keys"),i=n(71);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(12).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(16),i=n(11),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(42)(Function.call,n(37).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(16),i=n(145).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(52),i=n(51);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(52),i=n(51);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(72),i=n(4),o=n(33),a=n(32),s=n(31),u=n(90),l=n(153),c=n(88),f=n(38),h=n(18)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,m,v,y,g){l(n,e,m);var b,_,w,x=function(t){if(!p&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",S="values"==v,T=!1,k=t.prototype,O=k[h]||k["@@iterator"]||v&&k[v],C=!p&&O||x(v),M=v?S?x("entries"):C:void 0,A="Array"==e&&k.entries||O;if(A&&(w=f(A.call(new t)))!==Object.prototype&&w.next&&(c(w,E,!0),r||s(w,h)||a(w,h,d)),S&&O&&"values"!==O.name&&(T=!0,C=function(){return O.call(this)}),r&&!g||!p&&!T&&k[h]||a(k,h,C),u[e]=C,u[E]=d,v)if(b={values:S?C:x("values"),keys:y?C:x("keys"),entries:M},g)for(_ in b)_ in k||o(k,_,b[_]);else i(i.P+i.F*(p||T),e,b);return b}},function(t,e,n){"use strict";var r=n(75),i=n(70),o=n(88),a={};n(32)(a,n(18)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(113),i=n(51);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(18)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(90),i=n(18)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(21),i=n(70);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(98),i=n(18)("iterator"),o=n(90);t.exports=n(49).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(361);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(24),i=n(74),o=n(22);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(67),i=n(196),o=n(90),a=n(36);t.exports=n(152)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r,i,o,a=n(42),s=n(186),u=n(144),l=n(140),c=n(12),f=c.process,h=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,m=c.Dispatch,v=0,y={},g=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){g.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},p=function(t){delete y[t]},"process"==n(43)(f)?r=function(t){f.nextTick(a(g,t,1))}:m&&m.now?r=function(t){m.now(a(g,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){var r=n(12),i=n(162).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(43)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(28);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){"use strict";var r=n(12),i=n(20),o=n(72),a=n(119),s=n(32),u=n(80),l=n(14),c=n(78),f=n(52),h=n(22),p=n(205),d=n(76).f,m=n(21).f,v=n(160),y=n(88),g="prototype",b="Wrong index!",_=r.ArrayBuffer,w=r.DataView,x=r.Math,E=r.RangeError,S=r.Infinity,T=_,k=x.abs,O=x.pow,C=x.floor,M=x.log,A=x.LN2,P=i?"_b":"buffer",j=i?"_l":"byteLength",L=i?"_o":"byteOffset";function D(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?O(2,-24)-O(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for((t=k(t))!=t||t===S?(i=t!=t?1:0,r=u):(r=C(M(t)/A),t*(o=O(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?c/o:c*O(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*O(2,e),r+=l):(i=t*O(2,l-1)*O(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a}function N(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-S:S;r+=O(2,e),c-=a}return(l?-1:1)*r*O(2,c-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function I(t){return[255&t]}function F(t){return[255&t,t>>8&255]}function R(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return D(t,52,8)}function V(t){return D(t,23,4)}function W(t,e,n){m(t[g],e,{get:function(){return this[n]}})}function U(t,e,n,r){var i=p(+n);if(i+e>t[j])throw E(b);var o=t[P]._b,a=i+t[L],s=o.slice(a,a+e);return r?s:s.reverse()}function q(t,e,n,r,i,o){var a=p(+n);if(a+e>t[j])throw E(b);for(var s=t[P]._b,u=a+t[L],l=r(+i),c=0;c<e;c++)s[u+c]=l[o?c:e-c-1]}if(a.ABV){if(!l(function(){_(1)})||!l(function(){new _(-1)})||l(function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name})){for(var H,G=(_=function(t){return c(this,_),new T(p(t))})[g]=T[g],Z=d(T),K=0;Z.length>K;)(H=Z[K++])in _||s(_,H,T[H]);o||(G.constructor=_)}var Y=new w(new _(2)),$=w[g].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||u(w[g],{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},!0)}else _=function(t){c(this,_,"ArrayBuffer");var e=p(t);this._b=v.call(new Array(e),0),this[j]=e},w=function(t,e,n){c(this,w,"DataView"),c(t,_,"DataView");var r=t[j],i=f(e);if(i<0||i>r)throw E("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw E("Wrong length!");this[P]=t,this[L]=i,this[j]=n},i&&(W(_,"byteLength","_l"),W(w,"buffer","_b"),W(w,"byteLength","_l"),W(w,"byteOffset","_o")),u(w[g],{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return B(U(this,4,t,arguments[1]))},getUint32:function(t){return B(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return N(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return N(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){q(this,1,t,I,e)},setUint8:function(t,e){q(this,1,t,I,e)},setInt16:function(t,e){q(this,2,t,F,e,arguments[2])},setUint16:function(t,e){q(this,2,t,F,e,arguments[2])},setInt32:function(t,e){q(this,4,t,R,e,arguments[2])},setUint32:function(t,e){q(this,4,t,R,e,arguments[2])},setFloat32:function(t,e){q(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){q(this,8,t,z,e,arguments[2])}});y(_,"ArrayBuffer"),y(w,"DataView"),s(w[g],a.VIEW,!0),e.ArrayBuffer=_,e.DataView=w},function(t,e,n){var r=n(12).navigator;t.exports=r&&r.userAgent||""},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(100);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===u?s==s&&!r(s):n(s,u)))var u=s,l=a}return l}},function(t,e,n){var r=n(82)(n(57),"Map");t.exports=r},function(t,e,n){var r=n(570),i=n(577),o=n(579),a=n(580),s=n(581);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(39),i=n(100),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){t.exports=n.p+"ea8c3e13e8c17436264760d638ab970e.png"},function(t,e,n){"use strict";t.exports=n(497)},function(t,e,n){"use strict";(function(t,r){var i,o=n(249);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(65),n(215)(t))},function(t,e,n){var r=n(222),i=n(534),o=n(535),a=n(103),s=n(228),u=n(126),l=Object.prototype.hasOwnProperty,c=o(function(t,e){if(s(e)||a(e))i(e,u(e),t);else for(var n in e)l.call(e,n)&&r(t,n,e[n])});t.exports=c},function(t,e,n){"use strict";var r,i=n(0),o=n.n(i),a=n(6),s=n(3),u=n(2);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=Object(a.b)(function(t){return{browserDimensions:t.browserDimensions.browserDimensions}})(r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,p(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o.a.Component),function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(e,[{key:"getStyles",value:function(){var t=106;return this.props.browserDimensions.width<500&&(t=84),this.props.browserDimensions.width<450&&(t=78),this.props.browserDimensions.width<400&&(t=72),this.props.browserDimensions.width<350&&(t=66),{title:{fontFamily:u.s,fontSize:t,marginTop:0,marginBottom:0,fontWeight:300,color:u.k,letterSpacing:"-1px"}}}},{key:"createTitle",value:function(){return"nextstrain".split("").map(function(t,e){return o.a.createElement("span",{key:e,style:{color:s.H[e]}},t)})}},{key:"render",value:function(){var t=this.getStyles();return o.a.createElement("span",{style:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}return t}({},t.title,this.props.style)},this.createTitle())}}]),e}())||r,v=n(136),y=n(58),g=[o.a.createElement("a",{key:1,href:"http://www.fredhutch.org/",target:"_blank",rel:"noreferrer noopener"},o.a.createElement("img",{alt:"logo",width:"75",src:n(628)})),o.a.createElement("a",{key:2,href:"http://www.eb.tuebingen.mpg.de/",target:"_blank",rel:"noreferrer noopener"},o.a.createElement("img",{alt:"logo",width:"65",src:n(629)})),o.a.createElement("a",{key:3,href:"https://www.nih.gov/",target:"_blank",rel:"noreferrer noopener"},o.a.createElement("img",{alt:"logo",width:"52",src:n(630)})),o.a.createElement("a",{key:4,href:"https://erc.europa.eu/",target:"_blank",rel:"noreferrer noopener"},o.a.createElement("img",{alt:"logo",width:"60",src:n(631)})),o.a.createElement("a",{key:5,href:"https://www.openscienceprize.org/",target:"_blank",rel:"noreferrer noopener"},o.a.createElement("img",{alt:"logo",width:"82",src:n(632)})),o.a.createElement("a",{key:6,href:"http://biozentrum.org/",target:"_blank",rel:"noreferrer noopener"},o.a.createElement("img",{alt:"logo",width:"85",src:n(633)}))],b=function(t){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-1"}),o.a.createElement("div",{className:"col-md-10"},o.a.createElement("div",{className:"line"}),o.a.createElement(y.a,{wrap:"wrap",style:{marginTop:20,justifyContent:"space-around"}},t.children)),o.a.createElement("div",{className:"col-md-1"}))},_=function(t,e,n,r){var i=e.join("/");return"live"!==t&&(i=t+"/"+i),o.a.createElement("li",{key:i},o.a.createElement("div",{style:{color:"#5097BA",textDecoration:"none",cursor:"pointer",fontWeight:"400",fontSize:"94%"},onClick:function(){return n(r({path:i,push:!0}))}},i))},w=function(t){var e=t.isMobile,n=t.source,r=t.available,i=t.narratives,a=t.browserDimensions,s=t.dispatch,u=t.errorMessage,l=t.changePage;return o.a.createElement("div",null,o.a.createElement(v.a,{minified:e}),o.a.createElement("div",{className:"static container"},o.a.createElement(y.a,{justifyContent:"center"},o.a.createElement(m,null)),o.a.createElement("div",{className:"row"},o.a.createElement("h1",{style:{textAlign:"center",marginTop:"-10px",fontSize:"29px"}}," Real-time tracking of virus evolution ")),u?o.a.createElement(b,null,o.a.createElement("div",null,o.a.createElement("p",{style:{color:"rgb(222, 60, 38)",fontWeight:600,fontSize:"24px"}},"😱 404, or an error has occured 😱"),o.a.createElement("p",{style:{color:"rgb(222, 60, 38)",fontWeight:400,fontSize:"18px"}},"Details: ".concat(u)),o.a.createElement("p",{style:{fontSize:"16px"}},"If this keeps happening, or you believe this is a bug, please ",o.a.createElement("a",{href:"mailto:hello@nextstrain.org"},"get in contact with us.")))):o.a.createElement("p",{style:{maxWidth:600,marginTop:0,marginRight:"auto",marginBottom:20,marginLeft:"auto",textAlign:"center",fontSize:16,fontWeight:300,lineHeight:1.42857143}},"Nextstrain is an open-source project to harness the scientific and public health potential of pathogen genome data. We provide a continually-updated view of publicly available data with powerful analytics and visualizations showing pathogen evolution and epidemic spread. Our goal is to aid epidemiological understanding and improve outbreak response."),function(t,e,n,r,i,a){if(!t)return null;if(!e)return"live"===t||"staging"===t?o.a.createElement(b,null,o.a.createElement("div",{style:{fontSize:"18px"}},"No available ".concat(t,' datasets. Try "/local/" for local datasets.'))):null;var s;if(r.width>1e3){var u=Math.ceil(e.length/2);s=o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},o.a.createElement("div",{style:{flex:"1 50%",minWidth:"0"}},o.a.createElement("ul",null,e.slice(0,u).map(function(e){return _(t,e,i,a)}))),o.a.createElement("div",{style:{flex:"1 50%",minWidth:"0"}},o.a.createElement("ul",null,e.slice(u).map(function(e){return _(t,e,i,a)}))))}else s=o.a.createElement("ul",{style:{marginLeft:"-22px"}},e.map(function(e){return _(t,e,i)}));return o.a.createElement(b,null,o.a.createElement("div",null,o.a.createElement("div",{style:{fontSize:"26px"}},"Available ".concat(n?"Narratives":"Datasets"," for source ").concat(t)),s))}(n,r,i,a,s,l),o.a.createElement(b,null,g)))},x=n(46);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C,M=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=T(this,k(e).call(this,t))).state={hasError:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,o.a.Component),function(t,e,n){e&&S(t.prototype,e),n&&S(t,n)}(e,[{key:"componentDidCatch",value:function(t,e){console.error(t),console.error(e)}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),e}(),A=n(83),P=n(29);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=Object(x.b)("splashComponent")?Object(x.a)("splashComponent"):w,F=Object(a.b)(function(t){return{errorMessage:t.general.errorMessage,browserDimensions:t.browserDimensions.browserDimensions,reduxPathname:t.general.pathname}})(C=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=D(this,N(e).call(this,t))).state={source:void 0,narratives:!1,available:void 0,errorMessage:void 0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,o.a.Component),function(t,e,n){e&&L(t.prototype,e),n&&L(t,n)}(e,[{key:"componentDidMount",value:function(){var t=this;Object(A.a)("".concat(s.g,"/getAvailable?prefix=").concat(this.props.reduxPathname)).then(function(e){t.setState(e)}).catch(function(e){t.setState({errorMessage:"Error in getting available datasets"}),console.warn(e.message)})}},{key:"render",value:function(){return o.a.createElement(M,null,o.a.createElement(I,{isMobile:this.props.browserDimensions.width<s.k,source:this.state.source,available:this.state.datasets,narratives:this.state.narratives,browserDimensions:this.props.browserDimensions,dispatch:this.props.dispatch,errorMessage:this.props.errorMessage||this.state.errorMessage,changePage:P.a}))}}]),e}())||C;e.a=F},function(t,e,n){t.exports=!n(20)&&!n(14)(function(){return 7!=Object.defineProperty(n(140)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(18)},function(t,e,n){var r=n(31),i=n(36),o=n(110)(!1),a=n(142)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(21),i=n(11),o=n(73);t.exports=n(20)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(36),i=n(76).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(73),i=n(111),o=n(97),a=n(24),s=n(96),u=Object.assign;t.exports=!u||n(14)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var h,p=s(arguments[l++]),d=c?r(p).concat(c(p)):r(p),m=d.length,v=0;m>v;)f.call(p,h=d[v++])&&(n[h]=p[h]);return n}:u},function(t,e,n){"use strict";var r=n(28),i=n(16),o=n(186),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(12).parseInt,i=n(89).trim,o=n(146),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(12).parseFloat,i=n(89).trim;t.exports=1/r(n(146)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(43);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(16),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(149),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*function(t){return t+1/o-1/o}(i/u/a)*u*a:(n=(e=(1+a/o)*i)-(e-i))>s||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(11);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(28),i=n(24),o=n(96),a=n(22);t.exports=function(t,e,n,s,u){r(e);var l=i(t),c=o(l),f=a(l.length),h=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(h in c){s=c[h],h+=p;break}if(h+=p,u?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:f>h;h+=p)h in c&&(s=e(s,c[h],h,l));return s}},function(t,e,n){"use strict";var r=n(24),i=n(74),o=n(22);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(20)&&"g"!=/./g.flags&&n(21).f(RegExp.prototype,"flags",{configurable:!0,get:n(115)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(11),i=n(16),o=n(164);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(201),i=n(91);t.exports=n(118)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(21).f,i=n(75),o=n(80),a=n(42),s=n(78),u=n(79),l=n(152),c=n(196),f=n(77),h=n(20),p=n(66).fastKey,d=n(91),m=h?"_s":"size",v=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=d(this,e),r=v(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(d(this,e),t)}}),h&&r(c.prototype,"size",{get:function(){return d(this,e)[m]}}),c},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(201),i=n(91);t.exports=n(118)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(54)(0),o=n(33),a=n(66),s=n(184),u=n(204),l=n(16),c=n(14),f=n(91),h=a.getWeak,p=Object.isExtensible,d=u.ufstore,m={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(l(t)){var e=h(t);return!0===e?d(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(f(this,"WeakMap"),t,e)}},g=t.exports=n(118)("WeakMap",v,y,u,!0,!0);c(function(){return 7!=(new g).set((Object.freeze||Object)(m),7).get(m)})&&(s((r=u.getConstructor(v,"WeakMap")).prototype,y),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=g.prototype,n=e[t];o(e,t,function(e,i){if(l(e)&&!p(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(80),i=n(66).getWeak,o=n(11),a=n(16),s=n(78),u=n(79),l=n(54),c=n(31),f=n(91),h=l(5),p=l(6),d=0,m=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},y=function(t,e){return h(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(l.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(f(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(f(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?m(t).set(e,n):r[t._i]=n,t},ufstore:m}},function(t,e,n){var r=n(52),i=n(22);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(76),i=n(111),o=n(11),a=n(12).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var r=n(112),i=n(16),o=n(22),a=n(42),s=n(18)("isConcatSpreadable");t.exports=function t(e,n,u,l,c,f,h,p){for(var d,m,v=c,y=0,g=!!h&&a(h,p,3);y<l;){if(y in u){if(d=g?g(u[y],y,n):u[y],m=!1,i(d)&&(m=void 0!==(m=d[s])?!!m:r(d)),m&&f>0)v=t(e,n,d,o(d.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=d}v++}y++}return v}},function(t,e,n){var r=n(22),i=n(148),o=n(51);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,l=void 0===n?" ":String(n),c=r(e);if(c<=u||""==l)return s;var f=c-u,h=i.call(l,Math.ceil(f/l.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(t,e,n){var r=n(73),i=n(36),o=n(97).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var r=n(98),i=n(211);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(79);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},function(t,e){t.exports=function(t){return t.replace(/^\s+|\s+$/g,"")}},function(t,e){t.exports=function(t){console.warn("[react-ga]",t)}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t){t.exports={entryPage:"datasetLoader",hardcodedDataPaths:{tmpPathPrefix:"..",mainJSON:"auspice/custom.json"}}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(65))},function(t,e,n){var r=n(81),i=n(100),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):s.test(t)?o:+t}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(220));t.exports=function(t,e,n,i){var o=this;return i.ignoreAccents&&(e=(0,r.default)(e)),i.ignoreCase&&(e=e.toLowerCase()),n&&(n=n.map(function(t){return t[i.valueKey]})),t.filter(function(t){if(n&&n.indexOf(t[i.valueKey])>-1)return!1;if(i.filterOption)return i.filterOption.call(o,t,e);if(!e)return!0;var a=String(t[i.valueKey]),s=String(t[i.labelKey]);return i.ignoreAccents&&("label"!==i.matchProp&&(a=(0,r.default)(a)),"value"!==i.matchProp&&(s=(0,r.default)(s))),i.ignoreCase&&("label"!==i.matchProp&&(a=a.toLowerCase()),"value"!==i.matchProp&&(s=s.toLowerCase())),"start"===i.matchPos?"label"!==i.matchProp&&a.substr(0,e.length)===e||"value"!==i.matchProp&&s.substr(0,e.length)===e:"label"!==i.matchProp&&a.indexOf(e)>=0||"value"!==i.matchProp&&s.indexOf(e)>=0})}},function(t,e,n){"use strict";var r=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];t.exports=function(t){for(var e=0;e<r.length;e++)t=t.replace(r[e].letters,r[e].base);return t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(124)),o=r(n(0));t.exports=function(t){var e=t.focusedOption,n=t.instancePrefix,r=(t.labelKey,t.onFocus),a=t.onSelect,s=t.optionClassName,u=t.optionComponent,l=t.optionRenderer,c=t.options,f=t.valueArray,h=t.valueKey,p=t.onOptionRef,d=u;return c.map(function(t,u){var c=f&&f.indexOf(t)>-1,m=t===e,v=(0,i.default)(s,{"Select-option":!0,"is-selected":c,"is-focused":m,"is-disabled":t.disabled});return o.default.createElement(d,{className:v,instancePrefix:n,isDisabled:t.disabled,isFocused:m,isSelected:c,key:"option-"+u+"-"+t[h],onFocus:r,onSelect:a,option:t,optionIndex:u,ref:function(t){p(t,m)}},l(t,u))})}},function(t,e,n){var r=n(223),i=n(125),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(224);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(82),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(101),i=n(81),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(125),i=n(103),o=n(169),a=n(81);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(545),i=n(102),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(57),i=n(546),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(167)(t))},function(t,e,n){var r=n(547),i=n(548),o=n(549),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(555);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e){t.exports=function(t,e){return t<e}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(128),i=n(565),o=n(566),a=n(567),s=n(568),u=n(569);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},function(t,e,n){var r=n(582),i=n(102);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(583),i=n(586),o=n(587),a=1,s=2;t.exports=function(t,e,n,u,l,c){var f=n&a,h=t.length,p=e.length;if(h!=p&&!(f&&p>h))return!1;var d=c.get(t);if(d&&c.get(e))return d==e;var m=-1,v=!0,y=n&s?new r:void 0;for(c.set(t,e),c.set(e,t);++m<h;){var g=t[m],b=e[m];if(u)var _=f?u(b,g,m,e,t,c):u(g,b,m,t,e,c);if(void 0!==_){if(_)continue;v=!1;break}if(y){if(!i(e,function(t,e){if(!o(y,e)&&(g===t||l(g,t,n,u,c)))return y.push(e)})){v=!1;break}}else if(g!==b&&!l(g,b,n,u,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},function(t,e,n){var r=n(81);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(241),i=n(132);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(39),i=n(173),o=n(607),a=n(610);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(244);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(218),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(618),i=n(126);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=!("undefined"==typeof window||!window.document||!window.document.createElement),t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.nameShape=void 0,e.transitionTimeout=function(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}return null}};i(n(0));var r=i(n(5));function i(t){return t&&t.__esModule?t:{default:t}}e.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(t,e,n){"use strict";var r=n(175),i=(n(0),{childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={};a[r.ForwardRef]={$$typeof:!0,render:!0};var s=Object.defineProperty,u=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(h){var p=f(n);p&&p!==h&&t(e,p,r)}var d=u(n);l&&(d=d.concat(l(n)));for(var m=a[e.$$typeof]||i,v=a[n.$$typeof]||i,y=0;y<d.length;++y){var g=d[y];if(!(o[g]||r&&r[g]||v&&v[g]||m&&m[g])){var b=c(n,g);try{s(e,g,b)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},function(module,exports,__webpack_require__){"use strict";var evalAllowed=!1;try{eval("evalAllowed = true")}catch(t){}var platformSupported=!!Object.setPrototypeOf&&evalAllowed;module.exports=__webpack_require__(517)},function(t,e,n){"use strict";var r,i,o,a=n(0),s=n.n(a),u=n(5),l=n.n(u),c=n(6),f=n(252),h=n.n(f),p=n(1),d=n(29),m=n(3);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=Object(c.b)(function(t){return{displayNarrative:t.narrative.display,canTogglePanelLayout:t.controls.canTogglePanelLayout}})((o=i=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),w(_(_(n=function(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?_(t):e}(this,g(e).call(this,t)))),"onURLChanged",function(){return n.props.dispatch(Object(d.a)())}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,s.a.Component),function(t,e,n){e&&y(t.prototype,e),n&&y(t,n)}(e,[{key:"componentWillMount",value:function(){var t=document.createElement("script");t.src="https://platform.twitter.com/widgets.js",t.async=!0,document.body.appendChild(t)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",h()(this.handleResizeByDispatching.bind(this),500,{leading:!0,trailing:!0})),window.addEventListener("popstate",this.onURLChanged)}},{key:"handleResizeByDispatching",value:function(){var t=this;this.props.dispatch(function(e,n){var r=n().browserDimensions.browserDimensions,i={width:window.innerWidth,height:window.innerHeight,docHeight:window.document.body.clientHeight};e({type:p.f,data:i}),!t.props.displayNarrative&&t.props.canTogglePanelLayout&&(r.width<m.I&&i.width>=m.I?e({type:p.r,data:"grid",notInURLState:!0}):r.width>m.I&&i.width<=m.I&&e({type:p.r,data:"full",notInURLState:!0}))})}},{key:"render",value:function(){return null}}]),e}(),w(i,"propTypes",{dispatch:l.a.func.isRequired}),r=o))||r;e.a=x},function(t,e,n){var r=n(518),i=n(81),o="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e,n){!function(){var e=function(t,n){var r=this;this.isOpened=!1,this.input=i(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),n=n||{},function(t,e,n){for(var r in e){var i=e[r],o=t.input.getAttribute("data-"+r.toLowerCase());"number"==typeof i?t[r]=parseInt(o):!1===i?t[r]=null!==o:i instanceof Function?t[r]=null:t[r]=o,t[r]||0===t[r]||(t[r]=r in n?n[r]:i)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:e.DATA,filter:e.FILTER_CONTAINS,sort:!1!==n.sort&&e.SORT_BYLENGTH,item:e.ITEM,replace:e.REPLACE},n),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:t}),this.ul=i.create("ul",{hidden:"hidden",inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;r.opened&&(13===e&&r.selected?(t.preventDefault(),r.select()):27===e?r.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),r[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),r.select(e,t.target))}}}},i.bind(this.input,this._events.input),i.bind(this.input.form,this._events.form),i.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],e.all.push(this)};function n(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}e.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if((t=i(t))&&t.children){var e=[];r.apply(t.children).forEach(function(t){if(!t.disabled){var n=t.textContent.trim(),r=t.value||n,i=t.label||n;""!==r&&e.push({label:i,value:r})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,i.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),i.fire(this.input,"awesomplete-open")},destroy:function(){i.unbind(this.input,this._events.input),i.unbind(this.input.form,this._events.form);var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var n=e.all.indexOf(this);-1!==n&&e.all.splice(n,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!==e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent,this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,i.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=i.siblingIndex(t):t=this.ul.children[this.index],t){var n=this.suggestions[this.index];i.fire(this.input,"awesomplete-select",{text:n,origin:e||t})&&(this.replace(n),this.close({reason:"select"}),i.fire(this.input,"awesomplete-selectcomplete",{text:n}))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(r){return new n(t.data(r,e))}).filter(function(n){return t.filter(n,e)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(n){t.ul.appendChild(t.item(n,e))}),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},e.all=[],e.FILTER_CONTAINS=function(t,e){return RegExp(i.regExpEscape(e.trim()),"i").test(t)},e.FILTER_STARTSWITH=function(t,e){return RegExp("^"+i.regExpEscape(e.trim()),"i").test(t)},e.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},e.ITEM=function(t,e){var n=""===e.trim()?t:t.replace(RegExp(i.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return i.create("li",{innerHTML:n,"aria-selected":"false"})},e.REPLACE=function(t){this.input.value=t.value},e.DATA=function(t){return t},Object.defineProperty(n.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),n.prototype.toString=n.prototype.valueOf=function(){return""+this.label};var r=Array.prototype.slice;function i(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function o(t,e){return r.call((e||document).querySelectorAll(t))}function a(){o("input.awesomplete").forEach(function(t){new e(t)})}i.create=function(t,e){var n=document.createElement(t);for(var r in e){var o=e[r];if("inside"===r)i(o).appendChild(n);else if("around"===r){var a=i(o);a.parentNode.insertBefore(n,a),n.appendChild(a)}else r in n?n[r]=o:n.setAttribute(r,o)}return n},i.bind=function(t,e){if(t)for(var n in e){var r=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,r)})}},i.unbind=function(t,e){if(t)for(var n in e){var r=e[n];n.split(/\s+/).forEach(function(e){t.removeEventListener(e,r)})}},i.fire=function(t,e,n){var r=document.createEvent("HTMLEvents");for(var i in r.initEvent(e,!0,!0),n)r[i]=n[i];return t.dispatchEvent(r)},i.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)),e.$=i,e.$$=o,"undefined"!=typeof self&&(self.Awesomplete=e),t.exports&&(t.exports=e)}()},function(t,e){t.exports={version:"1.32.0"}},function(t,e,n){
/* @preserve
 * Leaflet 1.2.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t){"use strict";var e=Object.freeze;function n(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}Object.freeze=function(t){return t};var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function s(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}}function u(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function l(){return!1}function c(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n}function f(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return f(t).split(/\s+/)}function p(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function d(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_\-]+) *\}/g;function v(t,e){return t.replace(m,function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})}var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var E=window.requestAnimationFrame||_("RequestAnimationFrame")||x,S=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||E!==x)return E.call(window,i(t,e));t.call(e)}function k(t){t&&S.call(window,t)}var O=(Object.freeze||Object)({freeze:e,extend:n,create:r,bind:i,lastId:o,stamp:a,throttle:s,wrapNum:u,falseFn:l,formatNum:c,trim:f,splitWords:h,setOptions:p,getParamString:d,template:v,isArray:y,indexOf:g,emptyImageUrl:b,requestFn:E,cancelFn:S,requestAnimFrame:T,cancelAnimFrame:k});function C(){}C.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=r(i);for(var a in o.constructor=e,e.prototype=o,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if(L&&L.Mixin){t=y(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),n.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=n(r(o.options),t.options)),n(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},C.include=function(t){return n(this.prototype,t),this},C.mergeOptions=function(t){return n(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var M={on:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=h(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var r in t)this._off(r,t[r],e);else for(var i=0,o=(t=h(t)).length;i<o;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=void 0);for(var i={fn:e,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(i)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var a=r[i];if(a.ctx===n&&a.fn===e)return a.fn=l,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,o=r.length;i<o;i++)r[i].fn=l;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var i=n({},e,{type:t,target:this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=i(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target},t),!0)}};M.addEventListener=M.on,M.removeEventListener=M.clearAllEventListeners=M.off,M.addOneTimeEventListener=M.once,M.fireEvent=M.fire,M.hasEventListeners=M.listens;var A=C.extend(M);function P(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function j(t,e,n){return t instanceof P?t:y(t)?new P(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new P(t.x,t.y):new P(t,e,n)}function D(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function N(t,e){return!t||t instanceof D?t:new D(t,e)}function B(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function I(t,e){return t instanceof B?t:new B(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function R(t,e,n){return t instanceof F?t:y(t)&&"object"!=typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,n)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(t){return this.clone()._add(j(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(j(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new P(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new P(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){var e=(t=j(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=j(t)).x===this.x&&t.y===this.y},contains:function(t){return t=j(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},D.prototype={extend:function(t){return t=j(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new P(this.min.x,this.max.y)},getTopRight:function(){return new P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof P?j(t):N(t))instanceof D?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=N(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=N(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},B.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof F)e=t,n=t;else{if(!(t instanceof B))return t?this.extend(R(t)||I(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new B(new F(e.lat-r,e.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof F||"lat"in t?R(t):I(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof B?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=I(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=I(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=I(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,e){if(!t)return!1;t=R(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return V.distance(this,R(t))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return I([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var z={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t),r=this.transformation.transform(e.min,n),i=this.transformation.transform(e.max,n);return new D(r,i)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng,n=this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,r=t.alt;return new F(n,e,r)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),a=t.getNorthEast(),s=new F(o.lat-r,o.lng-i),u=new F(a.lat-r,a.lng-i);return new B(s,u)}},V=n({},z,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(o,1))}}),W={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new P(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new D([-t,-t],[t,t])}()};function U(t,e,n,r){if(y(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function q(t,e,n,r){return new U(t,e,n,r)}U.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new P((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var H=n({},V,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return q(t,.5,-t,.5)}()}),G=n({},H,{code:"EPSG:900913"});function Z(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t,e){var n,r,i,o,a,s,u="";for(n=0,i=t.length;n<i;n++){for(a=t[n],r=0,o=a.length;r<o;r++)s=a[r],u+=(r?"L":"M")+s.x+" "+s.y;u+=e?Et?"z":"x":""}return u||"M0 0"}var Y=document.documentElement.style,$="ActiveXObject"in window,X=$&&!document.addEventListener,J="msLaunchUri"in navigator&&!("documentMode"in document),Q=Tt("webkit"),tt=Tt("android"),et=Tt("android 2")||Tt("android 3"),nt=!!window.opera,rt=Tt("chrome"),it=Tt("gecko")&&!Q&&!nt&&!$,ot=!rt&&Tt("safari"),at=Tt("phantom"),st="OTransition"in Y,ut=0===navigator.platform.indexOf("Win"),lt=$&&"transition"in Y,ct="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!et,ft="MozPerspective"in Y,ht=!window.L_DISABLE_3D&&(lt||ct||ft)&&!st&&!at,pt="undefined"!=typeof orientation||Tt("mobile"),dt=pt&&Q,mt=pt&&ct,vt=!window.PointerEvent&&window.MSPointerEvent,yt=!(!window.PointerEvent&&!vt),gt=!window.L_NO_TOUCH&&(yt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),bt=pt&&nt,_t=pt&&it,wt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xt=!!document.createElement("canvas").getContext,Et=!(!document.createElementNS||!Z("svg").createSVGRect),St=!Et&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Tt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var kt=(Object.freeze||Object)({ie:$,ielt9:X,edge:J,webkit:Q,android:tt,android23:et,opera:nt,chrome:rt,gecko:it,safari:ot,phantom:at,opera12:st,win:ut,ie3d:lt,webkit3d:ct,gecko3d:ft,any3d:ht,mobile:pt,mobileWebkit:dt,mobileWebkit3d:mt,msPointer:vt,pointer:yt,touch:gt,mobileOpera:bt,mobileGecko:_t,retina:wt,canvas:xt,svg:Et,vml:St}),Ot=vt?"MSPointerDown":"pointerdown",Ct=vt?"MSPointerMove":"pointermove",Mt=vt?"MSPointerUp":"pointerup",At=vt?"MSPointerCancel":"pointercancel",Pt=["INPUT","SELECT","OPTION"],jt={},Lt=!1,Dt=0;function Nt(t,e,n,r){return"touchstart"===e?function(t,e,n){var r=i(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Pt.indexOf(t.target.tagName)<0))return;Qt(t)}Rt(t,e)});t["_leaflet_touchstart"+n]=r,t.addEventListener(Ot,r,!1),Lt||(document.documentElement.addEventListener(Ot,Bt,!0),document.documentElement.addEventListener(Ct,It,!0),document.documentElement.addEventListener(Mt,Ft,!0),document.documentElement.addEventListener(At,Ft,!0),Lt=!0)}(t,n,r):"touchmove"===e?function(t,e,n){var r=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Rt(t,e)};t["_leaflet_touchmove"+n]=r,t.addEventListener(Ct,r,!1)}(t,n,r):"touchend"===e&&function(t,e,n){var r=function(t){Rt(t,e)};t["_leaflet_touchend"+n]=r,t.addEventListener(Mt,r,!1),t.addEventListener(At,r,!1)}(t,n,r),this}function Bt(t){jt[t.pointerId]=t,Dt++}function It(t){jt[t.pointerId]&&(jt[t.pointerId]=t)}function Ft(t){delete jt[t.pointerId],Dt--}function Rt(t,e){for(var n in t.touches=[],jt)t.touches.push(jt[n]);t.changedTouches=[t],e(t)}var zt=vt?"MSPointerDown":yt?"pointerdown":"touchstart",Vt=vt?"MSPointerUp":yt?"pointerup":"touchend",Wt="_leaflet_";function Ut(t,e,n){var r,i,o=!1,a=250;function s(t){var e;if(yt){if(!J||"mouse"===t.pointerType)return;e=Dt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),s=n-(r||n);i=t.touches?t.touches[0]:t,o=s>0&&s<=a,r=n}}function u(t){if(o&&!i.cancelBubble){if(yt){if(!J||"mouse"===t.pointerType)return;var n,a,s={};for(a in i)n=i[a],s[a]=n&&n.bind?n.bind(i):n;i=s}i.type="dblclick",e(i),r=null}}return t[Wt+zt+n]=s,t[Wt+Vt+n]=u,t[Wt+"dblclick"+n]=e,t.addEventListener(zt,s,!1),t.addEventListener(Vt,u,!1),t.addEventListener("dblclick",e,!1),this}function qt(t,e){var n=t[Wt+zt+e],r=t[Wt+Vt+e],i=t[Wt+"dblclick"+e];return t.removeEventListener(zt,n,!1),t.removeEventListener(Vt,r,!1),J||t.removeEventListener("dblclick",i,!1),this}function Ht(t,e,n,r){if("object"==typeof e)for(var i in e)Kt(t,i,e[i],n);else for(var o=0,a=(e=h(e)).length;o<a;o++)Kt(t,e[o],n,r);return this}var Gt="_leaflet_events";function Zt(t,e,n,r){if("object"==typeof e)for(var i in e)Yt(t,i,e[i],n);else if(e)for(var o=0,a=(e=h(e)).length;o<a;o++)Yt(t,e[o],n,r);else{for(var s in t[Gt])Yt(t,s,t[Gt][s]);delete t[Gt]}return this}function Kt(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):"");if(t[Gt]&&t[Gt][i])return this;var o=function(e){return n.call(r||t,e||window.event)},s=o;yt&&0===e.indexOf("touch")?Nt(t,e,o,i):!gt||"dblclick"!==e||!Ut||yt&&rt?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,ue(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",o,!1)):("click"===e&&tt&&(o=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,r=ie&&n-ie;r&&r>100&&r<500||t.target._simulatedClick&&!t._simulated?te(t):(ie=n,e(t))}(t,s)}),t.addEventListener(e,o,!1)):"attachEvent"in t&&t.attachEvent("on"+e,o):Ut(t,o,i),t[Gt]=t[Gt]||{},t[Gt][i]=o}function Yt(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):""),o=t[Gt]&&t[Gt][i];if(!o)return this;yt&&0===e.indexOf("touch")?function(t,e,n){var r=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Ot,r,!1):"touchmove"===e?t.removeEventListener(Ct,r,!1):"touchend"===e&&(t.removeEventListener(Mt,r,!1),t.removeEventListener(At,r,!1))}(t,e,i):gt&&"dblclick"===e&&qt?qt(t,i):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,o,!1):"detachEvent"in t&&t.detachEvent("on"+e,o),t[Gt][i]=null}function $t(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,se(t),this}function Xt(t){return Kt(t,"mousewheel",$t),this}function Jt(t){return Ht(t,"mousedown touchstart dblclick",$t),Kt(t,"click",ae),this}function Qt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function te(t){return Qt(t),$t(t),this}function ee(t,e){if(!e)return new P(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new P(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)}var ne=ut&&rt?2*window.devicePixelRatio:it?window.devicePixelRatio:1;function re(t){return J?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ne:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var ie,oe={};function ae(t){oe[t.type]=!0}function se(t){var e=oe[t.type];return oe[t.type]=!1,e}function ue(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var le,ce,fe,he,pe,de=(Object.freeze||Object)({on:Ht,off:Zt,stopPropagation:$t,disableScrollPropagation:Xt,disableClickPropagation:Jt,preventDefault:Qt,stop:te,getMousePosition:ee,getWheelDelta:re,fakeStop:ae,skipped:se,isExternalTarget:ue,addListener:Ht,removeListener:Zt}),me=Pe(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),ve=Pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ye="webkitTransition"===ve||"OTransition"===ve?ve+"End":"transitionend";function ge(t){return"string"==typeof t?document.getElementById(t):t}function be(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function _e(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function we(t){var e=t.parentNode;e&&e.removeChild(t)}function xe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ee(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function Se(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Te(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=Me(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ke(t,e){if(void 0!==t.classList)for(var n=h(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!Te(t,e)){var o=Me(t);Ce(t,(o?o+" ":"")+e)}}function Oe(t,e){void 0!==t.classList?t.classList.remove(e):Ce(t,f((" "+Me(t)+" ").replace(" "+e+" "," ")))}function Ce(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function Me(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function Ae(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)}function Pe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function je(t,e,n){var r=e||new P(0,0);t.style[me]=(lt?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Le(t,e){t._leaflet_pos=e,ht?je(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function De(t){return t._leaflet_pos||new P(0,0)}if("onselectstart"in document)le=function(){Ht(window,"selectstart",Qt)},ce=function(){Zt(window,"selectstart",Qt)};else{var Ne=Pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);le=function(){if(Ne){var t=document.documentElement.style;fe=t[Ne],t[Ne]="none"}},ce=function(){Ne&&(document.documentElement.style[Ne]=fe,fe=void 0)}}function Be(){Ht(window,"dragstart",Qt)}function Ie(){Zt(window,"dragstart",Qt)}function Fe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Re(),he=t,pe=t.style.outline,t.style.outline="none",Ht(window,"keydown",Re))}function Re(){he&&(he.style.outline=pe,he=void 0,pe=void 0,Zt(window,"keydown",Re))}var ze=(Object.freeze||Object)({TRANSFORM:me,TRANSITION:ve,TRANSITION_END:ye,get:ge,getStyle:be,create:_e,remove:we,empty:xe,toFront:Ee,toBack:Se,hasClass:Te,addClass:ke,removeClass:Oe,setClass:Ce,getClass:Me,setOpacity:Ae,testProp:Pe,setTransform:je,setPosition:Le,getPosition:De,disableTextSelection:le,enableTextSelection:ce,disableImageDrag:Be,enableImageDrag:Ie,preventOutline:Fe,restoreOutline:Re}),Ve=A.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=De(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Le(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),We=A.extend({options:{crs:H,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(R(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=ve&&ht&&!bt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ht(this._proxy,ye,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(R(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r){void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan));var i=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan);if(i)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(ht?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(ht?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=t instanceof P?t:this.latLngToContainerPoint(t),a=o.subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(a));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():I(t);var n=j(e.paddingTopLeft||e.padding||[0,0]),r=j(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"==typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i),u=this.unproject(a.add(s).divideBy(2).add(o),i);return{center:u,zoom:i}},fitBounds:function(t,e){if(!(t=I(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=j(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ve,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ke(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!ht)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),a=this._zoom;t=R(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,e),l=i.distanceTo(r)||1,c=1.42,f=c*c;function h(t){var e=t?-1:1,n=t?u:s,r=u*u-s*s+e*f*f*l*l,i=2*n*f*l,o=r/i,a=Math.sqrt(o*o+1)-o,c=a<1e-9?-18:Math.log(a);return c}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}var m=h(0);function v(t){return s*(d(m)*function(t){return p(t)/d(t)}(m+c*t)-p(m))/f}var y=Date.now(),g=(h(1)-m)/c,b=n.duration?1e3*n.duration:1e3*g*.8;return this._moveStart(!0),function n(){var o=(Date.now()-y)/b,u=function(t){return 1-Math.pow(1-t,1.5)}(o)*g;o<=1?(this._flyToFrame=T(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(v(u)/l)),a),this.getScaleZoom(s/function(t){return s*(d(m)/d(m+c*t))}(u),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=I(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,I(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=e.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,r=new F(e,n),i=r.toBounds(t.coords.accuracy),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(i);this.setView(r,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:r,bounds:i,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(s[u]=t.coords[u]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in we(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)we(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),r=_e("div",n,e||this._mapPane);return t&&(this._panes[t]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new B(e,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=I(t),n=j(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),l=N(this.project(s,r),this.project(a,r)).getSize(),c=ht?this.options.zoomSnap:1,f=u.x/l.x,h=u.y/l.y,p=e?Math.max(f,h):Math.min(f,h);return r=this.getScaleZoom(p,r),c&&(r=Math.round(r/(c/100))*(c/100),r=e?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(R(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(j(t),e)},layerPointToLatLng:function(t){var e=j(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(R(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(R(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(I(t))},distance:function(t,e){return this.options.crs.distance(R(t),R(e))},containerPointToLayerPoint:function(t){return j(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return j(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(j(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(R(t)))},mouseEventToContainerPoint:function(t){return ee(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ge(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ht(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht,ke(t,"leaflet-container"+(gt?" leaflet-touch":"")+(wt?" leaflet-retina":"")+(X?" leaflet-oldie":"")+(ot?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=be(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Le(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ke(t.markerPane,"leaflet-zoom-hide"),ke(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Le(this._mapPane,new P(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Le(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Zt:Ht;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),ht&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!ue(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!ue(o,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!se(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||Fe(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var i=n({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,e))).length){var o=r[0];"contextmenu"===e&&o.listens(e,!0)&&Qt(t);var a={originalEvent:t};if("keypress"!==t.type){var s=o.options&&"icon"in o.options;a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(e,a,!0),a.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return De(this._mapPane)||new P(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return N([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new D(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new D(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=N(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max),a=this._rebound(i.x,-o.x),s=this._rebound(i.y,-o.y);return new P(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=ht?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=_e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=me,n=this._proxy.style[e];je(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();je(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){we(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i)||(T(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,r){n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(i(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T(function(){this._moveEnd(!0)},this))}}),Ue=C.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return ke(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this},remove:function(){return this._map?(we(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),qe=function(t){return new Ue(t)};We.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=_e("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=_e("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)we(this._controlCorners[t]);we(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var He=Ue.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ue.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ke(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(ke(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):Oe(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=_e("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Jt(e),Xt(e);var r=this._form=_e("form",t+"-list");n&&(this._map.on("click",this.collapse,this),tt||Ht(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=_e("a",t+"-toggle",e);i.href="#",i.title="Layers",gt?(Ht(i,"click",te),Ht(i,"click",this.expand,this)):Ht(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=_e("div",t+"-base",r),this._separator=_e("div",t+"-separator",r),this._overlaysList=_e("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xe(this._baseLayersList),xe(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Ht(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("div");n.appendChild(o),o.appendChild(e),o.appendChild(i);var s=t.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Ge=Ue.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=_e("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=_e("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Jt(o),Ht(o,"click",te),Ht(o,"click",i,this),Ht(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Oe(this._zoomInButton,e),Oe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ke(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ke(this._zoomInButton,e)}});We.mergeOptions({zoomControl:!0}),We.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ge,this.addControl(this.zoomControl))});var Ze=Ue.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=_e("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=_e("div",e,n)),t.imperial&&(this._iScale=_e("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Ke=Ue.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=_e("div","leaflet-control-attribution"),Jt(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});We.mergeOptions({attributionControl:!0}),We.addInitHook(function(){this.options.attributionControl&&(new Ke).addTo(this)}),Ue.Layers=He,Ue.Zoom=Ge,Ue.Scale=Ze,Ue.Attribution=Ke,qe.layers=function(t,e,n){return new He(t,e,n)},qe.zoom=function(t){return new Ge(t)},qe.scale=function(t){return new Ze(t)},qe.attribution=function(t){return new Ke(t)};var Ye,$e=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),Xe={Events:M},Je=gt?"touchstart mousedown":"mousedown",Qe={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},tn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},en=A.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){p(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ht(this._dragStartTarget,Je,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(en._dragging===this&&this.finishDrag(),Zt(this._dragStartTarget,Je,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!Te(this._element,"leaflet-zoom-anim")&&!(en._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(en._dragging=this,this._preventOutline&&Fe(this._element),Be(),le(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new P(e.clientX,e.clientY),Ht(document,tn[t.type],this._onMove,this),Ht(document,Qe[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new P(e.clientX,e.clientY),r=n.subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(Qt(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=De(this._element).subtract(r),ke(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,k(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Le(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tn)Zt(document,tn[t],this._onMove,this),Zt(document,Qe[t],this._onUp,this);Ie(),ce(),this._moved&&this._moving&&(k(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,en._dragging=!1}});function nn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,function t(e,n,r,i,o){var a,s,u,l=0;for(s=i+1;s<=o-1;s++)(u=ln(e[s],e[i],e[o],!0))>l&&(a=s,l=u);l>r&&(n[a]=1,t(e,n,r,i,a),t(e,n,r,a,o))}(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}(t=function(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)un(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}(t,n),n)}function rn(t,e,n){return Math.sqrt(ln(t,e,n,!0))}function on(t,e,n,r,i){var o,a,s,u=r?Ye:sn(t,n),l=sn(e,n);for(Ye=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=an(t,e,o=u||l,n,i),s=sn(a,n),o===u?(t=a,u=s):(e=a,l=s)}}function an(t,e,n,r,i){var o,a,s=e.x-t.x,u=e.y-t.y,l=r.min,c=r.max;return 8&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):4&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):2&n?(o=c.x,a=t.y+u*(c.x-t.x)/s):1&n&&(o=l.x,a=t.y+u*(l.x-t.x)/s),new P(o,a,i)}function sn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function un(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function ln(t,e,n,r){var i,o=e.x,a=e.y,s=n.x-o,u=n.y-a,l=s*s+u*u;return l>0&&((i=((t.x-o)*s+(t.y-a)*u)/l)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=t.x-o,u=t.y-a,r?s*s+u*u:new P(o,a)}function cn(t){return!y(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function fn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),cn(t)}var hn=(Object.freeze||Object)({simplify:nn,pointToSegmentDistance:rn,closestPointOnSegment:function(t,e,n){return ln(t,e,n)},clipSegment:on,_getEdgeIntersection:an,_getBitCode:sn,_sqClosestPointOnSegment:ln,isFlat:cn,_flat:fn});function pn(t,e,n){var r,i,o,a,s,u,l,c,f,h=[1,4,2,8];for(i=0,l=t.length;i<l;i++)t[i]._code=sn(t[i],e);for(a=0;a<4;a++){for(c=h[a],r=[],i=0,l=t.length,o=l-1;i<l;o=i++)s=t[i],u=t[o],s._code&c?u._code&c||((f=an(u,s,c,e,n))._code=sn(f,e),r.push(f)):(u._code&c&&((f=an(u,s,c,e,n))._code=sn(f,e),r.push(f)),r.push(s));t=r}return t}var dn=(Object.freeze||Object)({clipPolygon:pn}),mn={project:function(t){return new P(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new D([-180,-90],[180,90])},vn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new P(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(a*e)-s,s+=l;return new F(s*n,t.x*n/r)}},yn=(Object.freeze||Object)({LonLat:mn,Mercator:vn,SphericalMercator:W}),gn=n({},V,{code:"EPSG:3395",projection:vn,transformation:function(){var t=.5/(Math.PI*vn.R);return q(t,.5,-t,.5)}()}),bn=n({},V,{code:"EPSG:4326",projection:mn,transformation:q(1/180,1,-1/180,.5)}),_n=n({},z,{projection:mn,transformation:q(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});z.Earth=V,z.EPSG3395=gn,z.EPSG3857=H,z.EPSG900913=G,z.EPSG4326=bn,z.Simple=_n;var wn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});We.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?y(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xn=wn.extend({initialize:function(t){var e,n;if(this._layers={},t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),En=xn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),xn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),xn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Sn=C.extend({initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var i=j(r),o=j("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return wt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Tn=Sn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Tn.imagePath||(Tn.imagePath=this._detectIconPath()),(this.options.imagePath||Tn.imagePath)+Sn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=_e("div","leaflet-default-icon-path",document.body),e=be(t,"background-image")||be(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),kn=$e.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new en(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ke(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,r=De(e._icon),i=e._map.layerPointToLatLng(r);n&&Le(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),On=wn.extend({options:{icon:new Tn,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){p(this,e),this._latlng=R(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=R(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),t.alt&&(n.alt=t.alt)),ke(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(ke(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),we(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&we(this._shadow),this._shadow=null},_setPos:function(t){Le(this._icon,t),this._shadow&&Le(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;Ae(this._icon,t),this._shadow&&Ae(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),Cn=wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(gt?10:0)}}),Mn=Cn.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=R(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=R(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Cn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),An=Mn.extend({initialize:function(t,e,r){if("number"==typeof e&&(e=n({},r,{radius:e})),p(this,e),this._latlng=R(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Cn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===V.distance){var i=Math.PI/180,o=this._mRadius/V.R/i,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(l*i))/(Math.cos(e*i)*Math.cos(l*i)))/i;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:Math.max(Math.round(u.x-n.project([l,t-c]).x),1),this._radiusY=Math.max(Math.round(u.y-a.y),1)}else{var f=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}}),Pn=Cn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=ln,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){e=u[l-1],n=u[l];var f=o(t,e,n,!0);f<r&&(r=f,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,r=0;t<u-1;t++)if(i=s[t],o=s[t+1],n=i.distanceTo(o),(r+=n)>e)return a=(r-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=R(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return cn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=cn(t),r=0,i=t.length;r<i;r++)n?(e[r]=R(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new P(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof F,a=t.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,a,s,u=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(s=this._rings[e],n=0,o=s.length;n<o-1;n++)(a=on(s[n],s[n+1],t,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=nn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(s=this._parts[n],r=0,a=s.length,i=a-1;r<a;i=r++)if((e||0!==r)&&rn(t,s[i],s[r])<=u)return!0;return!1}});Pn._flat=fn;var jn=Pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=a=s=0,t=0,e=c-1;t<c;e=t++)n=l[t],r=l[e],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?l[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Pn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Pn.prototype._setLatLngs.call(this,t),cn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return cn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new P(e,e);if(t=new D(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=pn(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,a,s,u,l=!1;if(!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(e=this._parts[i],o=0,u=e.length,a=u-1;o<u;a=o++)n=e[o],r=e[a],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||Pn.prototype._containsPoint.call(this,t,!0)}}),Ln=En.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=y(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Dn(t,o);return a?(a.feature=zn(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}});function Dn(t,e){var n,r,i,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Nn;if(!s&&!a)return null;switch(a.type){case"Point":return n=c(s),l?l(t,n):new On(n);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=c(s[i]),u.push(l?l(t,n):new On(n));return new En(u);case"LineString":case"MultiLineString":return r=Bn(s,"LineString"===a.type?0:1,c),new Pn(r,e);case"Polygon":case"MultiPolygon":return r=Bn(s,"Polygon"===a.type?1:2,c),new jn(r,e);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var f=Dn({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);f&&u.push(f)}return new En(u);default:throw new Error("Invalid GeoJSON object.")}}function Nn(t){return new F(t[1],t[0],t[2])}function Bn(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?Bn(t[o],e-1,n):(n||Nn)(t[o]),i.push(r);return i}function In(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Fn(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?Fn(t[o],e-1,n,r):In(t[o],r));return!e&&n&&i.push(i[0]),i}function Rn(t,e){return t.feature?n({},t.feature,{geometry:e}):zn(e)}function zn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Vn={toGeoJSON:function(t){return Rn(this,{type:"Point",coordinates:In(this.getLatLng(),t)})}};function Wn(t,e){return new Ln(t,e)}On.include(Vn),An.include(Vn),Mn.include(Vn),Pn.include({toGeoJSON:function(t){var e=!cn(this._latlngs),n=Fn(this._latlngs,e?1:0,!1,t);return Rn(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),jn.include({toGeoJSON:function(t){var e=!cn(this._latlngs),n=e&&!cn(this._latlngs[0]),r=Fn(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),Rn(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),xn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Rn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer(function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=zn(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}}),n?Rn(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Un=Wn,qn=wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=I(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){we(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ee(this._image),this},bringToBack:function(){return this._map&&Se(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=I(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=_e("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));t.onselectstart=l,t.onmousemove=l,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;je(this._image,n,e)},_reset:function(){var t=this._image,e=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Le(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Hn=qn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:_e("video");if(e.class=e.class||"",e.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=i(this.fire,this,"load"),!t){y(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var n=0;n<this._url.length;n++){var r=_e("source");r.src=this._url[n],e.appendChild(r)}}}}),Gn=wn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ae(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(Ae(this._container,0),this._removeTimeout=setTimeout(i(we,void 0,this._container),200)):we(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=R(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ee(this._container),this},bringToBack:function(){return this._map&&Se(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=j(this.options.offset),n=this._getAnchor();this._zoomAnimated?Le(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Zn=Gn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Gn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cn||this._source.on("preclick",$t))},onRemove:function(t){Gn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cn||this._source.off("preclick",$t))},getEvents:function(){var t=Gn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=_e("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=_e("div",t+"-content-wrapper",e);if(this._contentNode=_e("div",t+"-content",n),Jt(n),Xt(this._contentNode),Ht(n,"contextmenu",$t),this._tipContainer=_e("div",t+"-tip-container",e),this._tip=_e("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=_e("a",t+"-close-button",e);r.href="#close",r.innerHTML="&#215;",Ht(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight;i&&r>i?(e.height=i+"px",ke(t,"leaflet-popup-scrolled")):Oe(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Le(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(be(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new P(this._containerLeft,-n-this._containerBottom);i._add(De(this._container));var o=t.layerPointToContainerPoint(i),a=j(this.options.autoPanPadding),s=j(this.options.autoPanPaddingTopLeft||a),u=j(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),c=0,f=0;o.x+r+u.x>l.x&&(c=o.x+r-l.x+u.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+u.y>l.y&&(f=o.y+n-l.y+u.y),o.y-f-s.y<0&&(f=o.y-s.y),(c||f)&&t.fire("autopanstart").panBy([c,f])}},_onCloseButtonClick:function(t){this._close(),te(t)},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});We.mergeOptions({closePopupOnClick:!0}),We.include({openPopup:function(t,e,n){return t instanceof Zn||(t=new Zn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),wn.include({bindPopup:function(t,e){return t instanceof Zn?(p(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Zn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof wn||(e=t,t=this),t instanceof En)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(te(t),e instanceof Cn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Kn=Gn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Gn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Gn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Gn.prototype.getEvents.call(this);return gt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_e("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,r=e.latLngToContainerPoint(e.getCenter()),i=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=j(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(j(-a/2+u.x,-s+u.y+l.y,!0)):"bottom"===o?t=t.subtract(j(a/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(j(a/2+u.x,s/2-l.y+u.y,!0)):"right"===o||"auto"===o&&i.x<r.x?(o="right",t=t.add(j(u.x+l.x,l.y-s/2+u.y,!0))):(o="left",t=t.subtract(j(a+l.x-u.x,s/2-l.y-u.y,!0))),Oe(n,"leaflet-tooltip-right"),Oe(n,"leaflet-tooltip-left"),Oe(n,"leaflet-tooltip-top"),Oe(n,"leaflet-tooltip-bottom"),ke(n,"leaflet-tooltip-"+o),Le(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ae(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});We.include({openTooltip:function(t,e,n){return t instanceof Kn||(t=new Kn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),wn.include({bindTooltip:function(t,e){return t instanceof Kn?(p(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Kn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),gt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof wn||(e=t,t=this),t instanceof En)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ke(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Oe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Yn=Sn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=j(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Sn.Default=Tn;var $n=wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),we(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(Ee(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Se(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof P?t:new P(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!X){Ae(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);Ae(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=_e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(we(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=_e("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)we(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new P(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var a=new P(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();ht?je(t.el,i,r):Le(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new D(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new D(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new P(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var f=i.min.y;f<=i.max.y;f++)for(var h=i.min.x;h<=i.max.x;h++){var p=new P(h,f);p.z=this._tileZoom,this._isValidTile(p)&&(this._tiles[this._tileCoordsToKey(p)]||a.push(p))}if(a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var d=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],d);this._level.el.appendChild(d)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return I(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n),o=e.unproject(r,t.z),a=e.unproject(i,t.z),s=new B(o,a);return this.options.noWrap||e.wrapLatLngBounds(s),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new P(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(we(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ke(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,X&&this.options.opacity<1&&Ae(t,this.options.opacity),tt&&!et&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&T(i(this._tileReady,this,t,null,o)),Le(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){if(this._map){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(Ae(n.el,0),k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ke(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),X||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new P(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new D(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Xn=$n.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&wt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),tt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ht(n,"load",i(this._tileOnLoad,this,e,n)),Ht(n,"error",i(this._tileOnError,this,e,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:wt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return v(this._url,n(e,this.options))},_tileOnLoad:function(t,e){X?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.src!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(t=e-t),t+r},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=b,we(e)))}});function Jn(t,e){return new Xn(t,e)}var Qn=Xn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var i in e)i in this.options||(r[i]=e[i]);e=p(this,e),r.width=r.height=e.tileSize*(e.detectRetina&&wt?2:1),this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Xn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),r=this._crs.project(e.getSouthEast()),i=(this._wmsVersion>=1.3&&this._crs===bn?[r.y,n.x,n.y,r.x]:[n.x,r.y,r.x,n.y]).join(","),o=Xn.prototype.getTileUrl.call(this,t);return o+d(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+i},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});Xn.WMS=Qn,Jn.wms=function(t,e){return new Qn(t,e)};var tr=wn.extend({options:{padding:.1},initialize:function(t){p(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=De(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e),s=a.subtract(o),u=i.multiplyBy(-n).add(r).add(i).subtract(s);ht?je(this._container,u,n):Le(this._container,u)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new D(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),er=tr.extend({getEvents:function(){var t=tr.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){tr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ht(t,"mousemove",s(this._onMouseMove,32,this),this),Ht(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ht(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,we(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},tr.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=wt?2:1;Le(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",wt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){tr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),r=[];for(e=0;e<n.length;e++)r.push(Number(n[e]));t.options._dashArray=r}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=t._radius,i=(t._radiusY||r)/r;this._drawnLayers[t._leaflet_id]=t,1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&!this._map._draggableMoved(e)&&(n=e);n&&(ae(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,r,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(ke(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}});function nr(t){return xt?new er(t):null}var rr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),ir={_initContainer:function(){this._container=_e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(tr.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=rr("shape");ke(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=rr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;we(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=rr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=rr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Ee(t._container)},_bringToBack:function(t){Se(t._container)}},or=St?rr:Z,ar=tr.extend({getEvents:function(){var t=tr.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=or("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=or("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){we(this._container),Zt(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){tr.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Le(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=or("path");t.options.className&&ke(e,t.options.className),t.options.interactive&&ke(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){we(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,K(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,r=t._radiusY||n,i="a"+n+","+r+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Ee(t._path)},_bringToBack:function(t){Se(t._path)}});function sr(t){return Et||St?new ar(t):null}St&&ar.include(ir),We.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&nr()||sr()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=ar&&sr({pane:t})||er&&nr({pane:t}),this._paneRenderers[t]=e),e}});var ur=jn.extend({initialize:function(t,e){jn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=I(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});ar.create=or,ar.pointsToPath=K,Ln.geometryToLayer=Dn,Ln.coordsToLatLng=Nn,Ln.coordsToLatLngs=Bn,Ln.latLngToCoords=In,Ln.latLngsToCoords=Fn,Ln.getFeature=Rn,Ln.asFeature=zn,We.mergeOptions({boxZoom:!0});var lr=$e.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){we(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),le(),Be(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ht(document,{contextmenu:te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=_e("div","leaflet-zoom-box",this._container),ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new D(this._point,this._startPoint),n=e.getSize();Le(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(we(this._box),Oe(this._container,"leaflet-crosshair")),ce(),Ie(),Zt(document,{contextmenu:te,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});We.addInitHook("addHandler","boxZoom",lr),We.mergeOptions({doubleClickZoom:!0});var cr=$e.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});We.addInitHook("addHandler","doubleClickZoom",cr),We.mergeOptions({dragging:!0,inertia:!et,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fr=$e.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new en(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=I(this._map.options.maxBounds);this._offsetLimit=N(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),f=l/(n.inertiaDeceleration*a),h=c.multiplyBy(-f/2).round();h.x||h.y?(h=e._limitOffset(h,e.options.maxBounds),T(function(){e.panBy(h,{duration:f,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});We.addInitHook("addHandler","dragging",fr),We.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hr=$e.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ht(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys){if(r._panAnim&&r._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=j(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup)return;r.closePopup()}te(t)}}});We.addInitHook("addHandler","keyboard",hr),We.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pr=$e.extend({addHooks:function(){Ht(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=re(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),te(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});We.addInitHook("addHandler","scrollWheelZoom",pr),We.mergeOptions({tap:!0,tapTolerance:15});var dr=$e.extend({addHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Qt(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new P(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&ke(n,"leaflet-active"),this._holdTimeout=setTimeout(i(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Ht(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Zt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&Oe(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new P(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});gt&&!yt&&We.addInitHook("addHandler","tap",dr),We.mergeOptions({touchZoom:gt&&!et,bounceAtZoomLimits:!0});var mr=$e.extend({addHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend",this._onTouchEnd,this),Qt(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),k(this._animRequest);var s=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(s,this,!0),Qt(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),Zt(document,"touchmove",this._onTouchMove),Zt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});We.addInitHook("addHandler","touchZoom",mr),We.BoxZoom=lr,We.DoubleClickZoom=cr,We.Drag=fr,We.Keyboard=hr,We.ScrollWheelZoom=pr,We.Tap=dr,We.TouchZoom=mr;var vr=window.L;window.L=t,Object.freeze=e,t.version="1.2.0",t.noConflict=function(){return window.L=vr,this},t.Control=Ue,t.control=qe,t.Browser=kt,t.Evented=A,t.Mixin=Xe,t.Util=O,t.Class=C,t.Handler=$e,t.extend=n,t.bind=i,t.stamp=a,t.setOptions=p,t.DomEvent=de,t.DomUtil=ze,t.PosAnimation=Ve,t.Draggable=en,t.LineUtil=hn,t.PolyUtil=dn,t.Point=P,t.point=j,t.Bounds=D,t.bounds=N,t.Transformation=U,t.transformation=q,t.Projection=yn,t.LatLng=F,t.latLng=R,t.LatLngBounds=B,t.latLngBounds=I,t.CRS=z,t.GeoJSON=Ln,t.geoJSON=Wn,t.geoJson=Un,t.Layer=wn,t.LayerGroup=xn,t.layerGroup=function(t){return new xn(t)},t.FeatureGroup=En,t.featureGroup=function(t){return new En(t)},t.ImageOverlay=qn,t.imageOverlay=function(t,e,n){return new qn(t,e,n)},t.VideoOverlay=Hn,t.videoOverlay=function(t,e,n){return new Hn(t,e,n)},t.DivOverlay=Gn,t.Popup=Zn,t.popup=function(t,e){return new Zn(t,e)},t.Tooltip=Kn,t.tooltip=function(t,e){return new Kn(t,e)},t.Icon=Sn,t.icon=function(t){return new Sn(t)},t.DivIcon=Yn,t.divIcon=function(t){return new Yn(t)},t.Marker=On,t.marker=function(t,e){return new On(t,e)},t.TileLayer=Xn,t.tileLayer=Jn,t.GridLayer=$n,t.gridLayer=function(t){return new $n(t)},t.SVG=ar,t.svg=sr,t.Renderer=tr,t.Canvas=er,t.canvas=nr,t.Path=Cn,t.CircleMarker=Mn,t.circleMarker=function(t,e){return new Mn(t,e)},t.Circle=An,t.circle=function(t,e,n){return new An(t,e,n)},t.Polyline=Pn,t.polyline=function(t,e){return new Pn(t,e)},t.Polygon=jn,t.polygon=function(t,e){return new jn(t,e)},t.Rectangle=ur,t.rectangle=function(t,e){return new ur(t,e)},t.Map=We,t.map=function(t,e){return new We(t,e)}}(e)},function(t,e,n){var r=n(557).queue,i=+new Date;t.exports=function(t,e){var n=!!L.mapbox,o=t.getSize(),a=new r(1),s=document.createElement("canvas");s.width=o.x,s.height=o.y;var u=s.getContext("2d"),l=document.createElement("canvas");l.width=1,l.height=1;var c=l.getContext("2d");if(c.fillStyle="rgba(0,0,0,0)",c.fillRect(0,0,1,1),t.eachLayer(function(t){t instanceof L.TileLayer?a.defer(h,t):t._heat&&a.defer(p,t._canvas)}),t.eachLayer(function(t){if(!L.esri)return;t instanceof L.esri.DynamicMapLayer&&a.defer(m,t)}),t._pathRoot)a.defer(p,t._pathRoot);else if(t._panes){var f=t._panes.overlayPane.getElementsByTagName("canvas").item(0);f&&a.defer(p,f)}function h(e,i){var a=L.TileLayer.Canvas&&e instanceof L.TileLayer.Canvas,s=document.createElement("canvas");s.width=o.x,s.height=o.y;var u=s.getContext("2d"),c=t.getPixelBounds(),f=t.getZoom(),h=e.options.tileSize;if(f>e.options.maxZoom||f<e.options.minZoom||n&&e instanceof L.mapbox.tileLayer&&!e.options.tiles)return i();var p,d,m=L.bounds(c.min.divideBy(h)._floor(),c.max.divideBy(h)._floor()),y=[],g=new r(1);for(p=m.min.y;p<=m.max.y;p++)for(d=m.min.x;d<=m.max.x;d++)y.push(new L.Point(d,p));function b(t,e,n,r){r(null,{img:t,pos:e,size:n})}function _(t,n,r,i){var o=new Image;o.crossOrigin="",o.onload=function(){i(null,{img:this,pos:n,size:r})},o.onerror=function(t){""!=e.options.errorTileUrl&&void 0===t.target.errorCheck?(t.target.errorCheck=!0,t.target.src=e.options.errorTileUrl):i(null,{img:l,pos:n,size:r})},o.src=t}function w(t){u.drawImage(t.img,Math.floor(t.pos.x),Math.floor(t.pos.y),t.size,t.size)}y.forEach(function(t){var n=t.clone();e._adjustTilePoint&&e._adjustTilePoint(t);var r=n.scaleBy(new L.Point(h,h)).subtract(c.min);if(t.y>=0)if(a){var i=e._tiles[t.x+":"+t.y];g.defer(b,i,r,h)}else{var o=v(e.getTileUrl(t));g.defer(_,o,r,h)}}),g.awaitAll(function(t,e){e.forEach(w),i(null,{canvas:s})})}function p(e,n){var r=t.getPixelBounds(),i=t.getPixelOrigin(),a=document.createElement("canvas");a.width=o.x,a.height=o.y;var s=a.getContext("2d"),u=L.DomUtil.getPosition(e).subtract(r.min).add(i);try{s.drawImage(e,u.x,u.y,a.width-2*u.x,a.height-2*u.y),n(null,{canvas:a})}catch(t){console.error("Element could not be drawn on canvas",e)}}function d(e,n){var r=document.createElement("canvas"),i=r.getContext("2d"),a=t.getPixelBounds(),s=new L.Point(a.min.x,a.min.y),u=t.project(e.getLatLng()),l=/^data\:/.test(e._icon.src),c=l?e._icon.src:v(e._icon.src),f=new Image,h=e.options.icon.options,p=h.iconSize,d=u.subtract(s),m=L.point(h.iconAnchor||p&&p.divideBy(2,!0));p instanceof L.Point&&(p=[p.x,p.y]);var y=Math.round(d.x-p[0]+m.x),g=Math.round(d.y-m.y);r.width=o.x,r.height=o.y,f.crossOrigin="",f.onload=function(){i.drawImage(this,y,g,p[0],p[1]),n(null,{canvas:r})},f.src=c,l&&f.onload()}function m(t,e){var n=document.createElement("canvas");n.width=o.x,n.height=o.y;var r=n.getContext("2d"),i=new Image;i.crossOrigin="",i.src=v(t._currentImage._image.src),i.onload=function(){r.drawImage(i,0,0),e(null,{canvas:n})}}function v(t){return function(t){return!!t.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}(t)||-1!==t.indexOf("mapbox.com/styles/v1")?t:t+(t.match(/\?/)?"&":"?")+"cache="+i}t.eachLayer(function(t){t instanceof L.Marker&&t.options.icon instanceof L.Icon&&a.defer(d,t)}),a.awaitAll(function(t,n){if(t)throw t;n.forEach(function(t){t&&t.canvas&&u.drawImage(t.canvas,0,0)}),e(null,s)})}},function(t,e,n){var r=n(234),i=n(127),o=n(243),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}},function(t,e,n){var r=n(234),i=n(127),o=n(243),a=Math.max,s=Math.min;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var l=u-1;return void 0!==n&&(l=o(n),l=n<0?a(u+l,0):s(l,u-1)),r(t,i(e,3),l,!0)}},function(t,e,n){var r=n(242),i=n(127),o=n(621),a=n(39);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(170),i=n(127),o=n(233);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},function(t,e,n){var r=n(626);t.exports=function(t,e,n){var i=r(t,e,(e-t)/(n-1));return i.length==n?i:i.concat(e)}},function(t,e){t.exports=function(t){if(!Array.isArray(t))throw new Error("Array expected");if(!t.length)return[];for(var e,n,r,i,o,a=[],s=t.length,u=[],l=[],c=1,f=s;f--;)l[f]=0,u[f]=t[f].length,c*=u[f];for(e=0;e<c;e++){for(r=[],o=!0,i=0;i<s;i++)n=l[i],r.push(t[i][n]),o&&(n=(n+1)%u[i],l[i]=n,o=0==n);a.push(r)}return a}},function(t,e,n){var r,i,o;
/*!
	Papa Parse
	v4.3.5
	https://github.com/mholt/PapaParse
	License: MIT
*/i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t,e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=n&&/(\?|&)papaworker(=|&|$)/.test(e.location.search),i=!1,o={},a=0,s={parse:function(n,r){var u=(r=r||{}).dynamicTyping||!1;if(w(u)&&(r.dynamicTypingFunction=u,u={}),r.dynamicTyping=u,r.worker&&s.WORKERS_SUPPORTED){var l=function(){if(!s.WORKERS_SUPPORTED)return!1;if(!i&&null===s.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var n=s.SCRIPT_PATH||t;n+=(-1!==n.indexOf("?")?"&":"?")+"papaworker";var r=new e.Worker(n);return r.onmessage=v,r.id=a++,o[r.id]=r,r}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var d=null;return"string"==typeof n?d=r.download?new c(r):new h(r):!0===n.readable&&w(n.read)&&w(n.on)?d=new p(r):(e.File&&n instanceof File||n instanceof Object)&&(d=new f(r)),d.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",a='"';"object"==typeof e&&("string"==typeof e.delimiter&&1===e.delimiter.length&&-1===s.BAD_DELIMITERS.indexOf(e.delimiter)&&(i=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(n=e.quotes),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(r=e.header));var u=new RegExp(a,"g");if("string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return c(null,t);if("object"==typeof t[0])return c(l(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=t.data[0]instanceof Array?t.fields:l(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),c(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input";function l(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function c(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=t instanceof Array&&t.length>0,s=!(e[0]instanceof Array);if(a&&r){for(var u=0;u<t.length;u++)u>0&&(n+=i),n+=f(t[u],u);e.length>0&&(n+=o)}for(var l=0;l<e.length;l++){for(var c=a?t.length:e[l].length,h=0;h<c;h++){h>0&&(n+=i);var p=a&&s?t[h]:h;n+=f(e[l][p],h)}l<e.length-1&&(n+=o)}return n}function f(t,e){if(void 0===t||null===t)return"";t=t.toString().replace(u,a+a);var r="boolean"==typeof n&&n||n instanceof Array&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}(t,s.BAD_DELIMITERS)||t.indexOf(i)>-1||" "===t.charAt(0)||" "===t.charAt(t.length-1);return r?a+t+a:t}}};if(s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\ufeff",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!n&&!!e.Worker,s.SCRIPT_PATH=null,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=m,s.ParserHandle=d,s.NetworkStreamer=c,s.FileStreamer=f,s.StringStreamer=h,s.ReadableStreamStreamer=p,e.jQuery){var u=e.jQuery;u.fn.parse=function(t){var n=t.config||{},r=[];return this.each(function(t){var i="INPUT"===u(this).prop("tagName").toUpperCase()&&"file"===u(this).attr("type").toLowerCase()&&e.FileReader;if(!i||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)r.push({file:this.files[o],inputElem:this,instanceConfig:u.extend({},n)})}),i(),this;function i(){if(0!==r.length){var e=r[0];if(w(t.before)){var n=t.before(e.file,e.inputElem);if("object"==typeof n){if("abort"===n.action)return void function(e,n,r,i){w(t.error)&&t.error({name:e},n,r,i)}("AbortError",e.file,e.inputElem,n.reason);if("skip"===n.action)return void o();"object"==typeof n.config&&(e.instanceConfig=u.extend(e.instanceConfig,n.config))}else if("skip"===n)return void o()}var i=e.instanceConfig.complete;e.instanceConfig.complete=function(t){w(i)&&i(t,e.file,e.inputElem),o()},s.parse(e.file,e.instanceConfig)}else w(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function l(t){this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new d(e),this._handle.streamer=this,this._config=e}.call(this,t),this.parseChunk=function(t){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(t);void 0!==n&&(t=n)}this.isFirstChunk=!1;var i=this._partialLine+t;this._partialLine="";var o=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=o.meta.cursor;this._finished||(this._partialLine=i.substring(a-this._baseIndex),this._baseIndex=a),o&&o.data&&(this._rowCount+=o.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:o,workerId:s.WORKER_ID,finished:u});else if(w(this._config.chunk)){if(this._config.chunk(o,this._handle),this._paused)return;o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),!u||!w(this._config.complete)||o&&o.meta.aborted||this._config.complete(this._completeResults,this._input),u||o&&o.meta.paused||this._nextChunk(),o}},this._sendError=function(t){w(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:s.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=s.RemoteChunkSize),l.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=_(this._chunkLoaded,this),e.onerror=_(this._chunkError,this)),e.open("GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}n&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4==e.readyState&&(e.status<200||e.status>=400?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(n)}}function f(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=s.LocalChunkSize),l.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=_(this._chunkLoaded,this),e.onerror=_(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function h(t){var e;t=t||{},l.call(this,t),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function p(t){t=t||{},l.call(this,t);var e=[],n=!0;this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._nextChunk=function(){e.length?this.parseChunk(e.shift()):n=!0},this._streamData=_(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=_(function(t){this._streamCleanUp(),this._sendError(t.message)},this),this._streamEnd=_(function(){this._streamCleanUp(),this._finished=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function d(t){var e,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=this,a=0,u=!1,l=!1,c=[],f={data:[],errors:[],meta:{}};if(w(t.step)){var h=t.step;t.step=function(e){if(f=e,d())p();else{if(p(),0===f.data.length)return;a+=e.data.length,t.preview&&a>t.preview?n.abort():h(f,o)}}}function p(){if(f&&r&&(y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<f.data.length;e++)1===f.data[e].length&&""===f.data[e][0]&&f.data.splice(e--,1);return d()&&function(){if(f){for(var t=0;d()&&t<f.data.length;t++)for(var e=0;e<f.data[t].length;e++)c.push(f.data[t][e]);f.data.splice(0,1)}}(),function(){if(!f||!t.header&&!t.dynamicTyping)return f;for(var e=0;e<f.data.length;e++){for(var n=t.header?{}:[],r=0;r<f.data[e].length;r++){var i=r,o=f.data[e][r];t.header&&(i=r>=c.length?"__parsed_extra":c[r]),o=v(i,o),"__parsed_extra"===i?(n[i]=n[i]||[],n[i].push(o)):n[i]=o}f.data[e]=n,t.header&&(r>c.length?y("FieldMismatch","TooManyFields","Too many fields: expected "+c.length+" fields but parsed "+r,e):r<c.length&&y("FieldMismatch","TooFewFields","Too few fields: expected "+c.length+" fields but parsed "+r,e))}return t.header&&f.meta&&(f.meta.fields=c),f}()}function d(){return t.header&&0===c.length}function v(e,n){return function(e){return t.dynamicTypingFunction&&void 0===t.dynamicTyping[e]&&(t.dynamicTyping[e]=t.dynamicTypingFunction(e)),!0===(t.dynamicTyping[e]||t.dynamicTyping)}(e)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&function(t){return i.test(t)?parseFloat(t):t}(n):n}function y(t,e,n,r){f.errors.push({type:t,code:e,message:n,row:r})}this.parse=function(i,o,a){if(t.newline||(t.newline=function(t){var e=(t=t.substr(0,1048576)).split("\r"),n=t.split("\n"),r=n.length>1&&n[0].length<e[0].length;if(1===e.length||r)return"\n";for(var i=0,o=0;o<e.length;o++)"\n"===e[o][0]&&i++;return i>=e.length/2?"\r\n":"\r"}(i)),r=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(i),f.meta.delimiter=t.delimiter);else{var l=function(e,n,r){for(var i,o,a,u=[",","\t","|",";",s.RECORD_SEP,s.UNIT_SEP],l=0;l<u.length;l++){var c=u[l],f=0,h=0,p=0;a=void 0;for(var d=new m({delimiter:c,newline:n,preview:10}).parse(e),v=0;v<d.data.length;v++)if(r&&1===d.data[v].length&&0===d.data[v][0].length)p++;else{var y=d.data[v].length;h+=y,void 0!==a?y>1&&(f+=Math.abs(y-a),a=y):a=y}d.data.length>0&&(h/=d.data.length-p),(void 0===o||f<o)&&h>1.99&&(o=f,i=c)}return t.delimiter=i,{successful:!!i,bestDelimiter:i}}(i,t.newline,t.skipEmptyLines);l.successful?t.delimiter=l.bestDelimiter:(r=!0,t.delimiter=s.DefaultDelimiter),f.meta.delimiter=t.delimiter}var c=b(t);return t.preview&&t.header&&c.preview++,e=i,n=new m(c),f=n.parse(e,o,a),p(),u?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){u=!1,o.streamer.parseChunk(e)},this.aborted=function(){return l},this.abort=function(){l=!0,n.abort(),f.meta.aborted=!0,w(t.complete)&&t.complete(f),e=""}}function m(t){var e=(t=t||{}).delimiter,n=t.newline,r=t.comments,i=t.step,o=t.preview,a=t.fastMode,u=t.quoteChar||'"';if(("string"!=typeof e||s.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||s.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var l=0,c=!1;this.parse=function(t,s,f){if("string"!=typeof t)throw"Input must be a string";var h=t.length,p=e.length,d=n.length,m=r.length,v=w(i);l=0;var y=[],g=[],b=[],_=0;if(!t)return j();if(a||!1!==a&&-1===t.indexOf(u)){for(var x=t.split(n),E=0;E<x.length;E++){var b=x[E];if(l+=b.length,E!==x.length-1)l+=n.length;else if(f)return j();if(!r||b.substr(0,m)!==r){if(v){if(y=[],M(b.split(e)),L(),c)return j()}else M(b.split(e));if(o&&E>=o)return y=y.slice(0,o),j(!0)}}return j()}for(var S=t.indexOf(e,l),T=t.indexOf(n,l),k=new RegExp(u+u,"g");;)if(t[l]!==u)if(r&&0===b.length&&t.substr(l,m)===r){if(-1===T)return j();l=T+d,T=t.indexOf(n,l),S=t.indexOf(e,l)}else if(-1!==S&&(S<T||-1===T))b.push(t.substring(l,S)),l=S+p,S=t.indexOf(e,l);else{if(-1===T)break;if(b.push(t.substring(l,T)),P(T+d),v&&(L(),c))return j();if(o&&y.length>=o)return j(!0)}else{var O=l;for(l++;;){var O=t.indexOf(u,O+1);if(-1===O)return f||g.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:l}),A();if(O===h-1){var C=t.substring(l,O).replace(k,u);return A(C)}if(t[O+1]!==u){if(t[O+1]===e){b.push(t.substring(l,O).replace(k,u)),l=O+1+p,S=t.indexOf(e,l),T=t.indexOf(n,l);break}if(t.substr(O+1,d)===n){if(b.push(t.substring(l,O).replace(k,u)),P(O+1+d),S=t.indexOf(e,l),v&&(L(),c))return j();if(o&&y.length>=o)return j(!0);break}}else O++}}return A();function M(t){y.push(t),_=l}function A(e){return f?j():(void 0===e&&(e=t.substr(l)),b.push(e),l=h,M(b),v&&L(),j())}function P(e){l=e,M(b),b=[],T=t.indexOf(n,l)}function j(t){return{data:y,errors:g,meta:{delimiter:e,linebreak:n,aborted:c,truncated:!!t,cursor:_+(s||0)}}}function L(){i(j()),y=[],g=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return l}}function v(t){var e=t.data,n=o[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,y(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:g,resume:g};if(w(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:[e.results.data[a]],errors:e.results.errors,meta:e.results.meta},i),!r);a++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&y(e.workerId,e.results)}function y(t,e){var n=o[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete o[t]}function g(){throw"Not implemented."}function b(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=b(t[n]);return e}function _(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return r?e.onmessage=function(t){var n=t.data;if(void 0===s.WORKER_ID&&n&&(s.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:s.WORKER_ID,results:s.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=s.parse(n.input,n.config);r&&e.postMessage({workerId:s.WORKER_ID,results:r,finished:!0})}}:s.WORKERS_SUPPORTED&&(t=function(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}(),document.body?document.addEventListener("DOMContentLoaded",function(){i=!0},!0):i=!0),c.prototype=Object.create(l.prototype),c.prototype.constructor=c,f.prototype=Object.create(l.prototype),f.prototype.constructor=f,h.prototype=Object.create(h.prototype),h.prototype.constructor=h,p.prototype=Object.create(l.prototype),p.prototype.constructor=p,s})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";var r,i,o,a=n(0),s=n.n(a),u=n(5),l=n.n(u),c=n(6),f=n(265),h=n.n(f),p=n(1);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=Object(c.b)(function(t){return{stack:t.notifications.stack,pageWidth:t.browserDimensions.browserDimensions.width}})((o=i=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,y(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,s.a.Component),function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(e,[{key:"closeIcon",value:function(t){var e=this;return s.a.createElement("div",{onClick:function(){e.removeNotificationCallback(t.id)},style:{cursor:"pointer"},className:"close-icon"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 15 15"},s.a.createElement("polygon",{id:"Shape",points:"7.48 8 11.23 11.75 9.75 13.23 6 9.48 2.25 13.23 0.77 11.75 4.52 8 0.77 4.25 2.25 2.77 6 6.52 9.75 2.77 11.23 4.25"})))}},{key:"generateEl",value:function(t){return s.a.createElement("div",{key:t.id,className:t.classes.join(" ")},s.a.createElement("div",{className:"icon icon-main"},function(t){switch(t){case"info":return s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 16 16"},s.a.createElement("path",{id:"Shape",d:"M14,1H2C1.5,1,1,1.4,1,2v8c0,0.6,0.5,1,1,1h2v3.5L7.5,11H14c0.6,0,1-0.4,1-1V2C15,1.4,14.6,1,14,1L14,1z"}));case"warning":return s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 16 16"},s.a.createElement("path",{d:"M8.865,1.51999998 C8.685,1.20999998 8.355,1.01999998 7.995,1.01999998 C7.635,1.01999998 7.305,1.20999998 7.125,1.51999998 L0.275000001,13.5 C0.0950000006,13.81 0.0950000006,14.19 0.275000001,14.5 C0.465000001,14.81 0.795000001,15 1.145,15 L14.845,15 C15.205,15 15.535,14.81 15.705,14.5 C15.875,14.19 15.885,13.81 15.715,13.5 L8.865,1.51999998 Z M8.995,13 L6.995,13 L6.995,11 L8.995,11 L8.995,13 L8.995,13 Z M8.995,9.99999998 L6.995,9.99999998 L6.995,5.99999998 L8.995,5.99999998 L8.995,9.99999998 L8.995,9.99999998 Z",id:"Shape"}));case"success":return s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 13 16"},s.a.createElement("polygon",{id:"Shape",points:"12 5 4 13 0 9 1.5 7.5 4 10 10.5 3.5"}));case"error":return s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 13 16"},s.a.createElement("path",{d:"M5.05,0.31 C5.86,2.48 5.46,3.69 4.53,4.62 C3.55,5.67 1.98,6.45 0.9,7.98 C-0.55,10.03 -0.8,14.51 4.43,15.68 C2.23,14.52 1.76,11.16 4.13,9.07 C3.52,11.1 4.66,12.4 6.07,11.93 C7.46,11.46 8.37,12.46 8.34,13.6 C8.32,14.38 8.03,15.04 7.21,15.41 C10.63,14.82 11.99,11.99 11.99,9.85 C11.99,7.01 9.46,6.63 10.74,4.24 C9.22,4.37 8.71,5.37 8.85,6.99 C8.94,8.07 7.83,8.79 6.99,8.32 C6.32,7.91 6.33,7.13 6.93,6.54 C8.18,5.31 8.68,2.45 5.05,0.32 L5.03,0.3 L5.05,0.31 Z",id:"Shape"}));default:return""}}(t.notificationType)),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"message item"},t.message),s.a.createElement("div",{className:"detail item"},s.a.createElement("div",{className:"detail-content"},"string"==typeof t.details?t.details:t.details.map(function(t){return s.a.createElement("div",{key:t},t)})))),"error"===t.notificationType?this.closeIcon(t):s.a.createElement("g",null))}},{key:"removeNotificationCallback",value:function(t){this.props.dispatch({type:p.H,id:t})}},{key:"render",value:function(){var t=this;return this.props.pageWidth<600?null:s.a.createElement(h.a,{className:"notifications",transitionName:"notification",transitionEnterTimeout:500,transitionLeaveTimeout:500,style:{zIndex:2e4}},this.props.stack.map(function(e){return t.generateEl(e)}))}}]),e}(),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(i,"propTypes",{stack:l.a.array.isRequired,dispatch:l.a.func.isRequired,pageWidth:l.a.number.isRequired}),r=o))||r;e.a=b},function(t,e,n){"use strict";t.exports=n(634)},function(t,e,n){"use strict";var r,i=n(0),o=n.n(i),a=n(6),s=n(104),u=n(1);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=n(174),m=function(t){var e=t.availableHeight;return o.a.createElement("img",{className:"spinner",src:d,alt:"loading",style:{marginTop:"".concat(e/2-100,"px")}})},v=Object(a.b)(function(t){return{browserDimensions:t.browserDimensions.browserDimensions,metadataLoaded:t.metadata.loaded,treeLoaded:t.tree.loaded}})(r=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,h(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,o.a.Component),function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(e,[{key:"componentWillMount",value:function(){this.props.dispatch(Object(s.a)())}},{key:"componentDidUpdate",value:function(){this.props.metadataLoaded&&this.props.treeLoaded&&this.props.dispatch({type:u.G,displayComponent:"main"})}},{key:"render",value:function(){return o.a.createElement(m,{availableHeight:this.props.browserDimensions.height})}}]),e}())||r;e.a=v},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(5),a=n.n(o),s=n(6),u=n(2),l=function(t){var e=t.sidebarOpen,n=t.mobileDisplay,r=t.handler,o={visibility:n?"visible":e?"hidden":"visible",width:n?60:14,height:n?60:44,position:"absolute",top:n?15:4,left:n?"auto":0,right:n?20:"auto",zIndex:9e3,backgroundColor:n?u.e:u.m,boxShadow:n?"2px 4px 10px 1px rgba(0, 0, 0, 0.15)":"0px 0px 5px 1px rgba(0, 0, 0, 0.2)",cursor:"pointer",padding:0,transition:"top 0.3s ease-out, left 0.3s ease-out, width 0.3s ease-out, height 0.3s ease-out",borderRadius:n?"45px":"0px 6px 6px 0px"},a={visibility:n?"visible":e?"hidden":"visible",position:"absolute",width:30,height:30,top:"50%",left:"50%",lineHeight:"30px",textAlign:"center",transform:"translate(-50%,-50%)",marginLeft:"auto",marginRight:"auto",verticalAlign:"middle",color:n?"#FFFFFF":"#444",fontSize:n?26:12},s="fa fa-close";return e&&!n?s="fa fa-chevron-left":e||n?e&&n?s="fa fa-close":!e&&n&&(s="fa fa-sliders"):s="fa fa-chevron-right",i.a.createElement("div",{style:o,onClick:r},i.a.createElement("div",{style:a},i.a.createElement("i",{className:s,"aria-hidden":"true"})))};function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h,p,d,m=function(t){var e=t.text,n=t.extraStyles,r=void 0===n?{}:n;return i.a.createElement("span",{style:c({},u.t.small,r)},e)},v={fontFamily:u.f,margin:"7px 0px 5px 0px",fontSize:12,fontWeight:400,color:u.b},y=function(t){var e=t.text,n=t.extraStyles,r=void 0===n?{}:n;return i.a.createElement("p",{style:c({},v,r)},e)},g=n(30),b=n.n(g),_=n(3),w=n(17),x=n(106),E=(n(61),n(40)),S=n(85),T=n(1),k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return function(e,n){var r=n(),i=r.controls,o=r.tree,a=r.treeToo,s=r.metadata,u=r.frequencies;if(null===o.nodes||!s.loaded)return null;var l=t||i.colorBy,c=Object(x.a)(l,i,o,a,s),f=Object(w.d)(o,c),h=a.loaded?Object(w.d)(a,c):void 0,p=Object(w.e)(l),d=p!==i.mutType&&p;return e({type:T.D,colorBy:l,colorScale:c,nodeColors:f,nodeColorsToo:h,version:c.version,newMutType:d}),d&&Object(E.d)(e,n),u.loaded&&Object(S.b)(e,n),null}},O=n(87),C=n.n(O),M=function(){C.a.set({page:window.location.pathname}),C.a.pageview(window.location.pathname)},A=function(t){C.a.event({category:"Controls",action:t})};function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=Object(s.b)(function(t){return{colorBy:t.controls.colorBy,geneLength:t.controls.geneLength,colorOptions:t.metadata.colorOptions,geneMap:t.entropy.geneMap}})((d=p=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=D(this,N(e).call(this,t))).state={colorBySelected:t.colorBy,geneSelected:"nuc",positionSelected:""},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,i.a.Component),function(t,e,n){e&&j(t.prototype,e),n&&j(t,n)}(e,[{key:"componentWillReceiveProps",value:function(t){if(this.props.colorBy!==t.colorBy)if(t.colorBy.startsWith("gt")){var e=t.colorBy.match(/gt-(.+)_(.+)$/);this.setState({colorBySelected:"gt",geneSelected:e[1],positionSelected:e[2]})}else this.setState({colorBySelected:t.colorBy,geneSelected:"nuc",positionSelected:""})}},{key:"setColorBy",value:function(t){if("gt"!==t.slice(0,2))A("color-by-".concat(t)),this.props.dispatch(k(t)),this.setState({colorBySelected:t});else{var e="nuc";this.getGtGeneOptions().filter(function(t){return"HA1"===t.label}).length&&(e="HA1"),this.setState({colorBySelected:"gt",geneSelected:e});var n=e,r=this.state.positionSelected;this.setGenotypeColoring(n,r)}}},{key:"getGtGeneOptions",value:function(){var t=[];return this.props.geneMap&&((t=Object.keys(this.props.geneMap).map(function(t){return{value:t,label:t}}))[t.length]={value:"nuc",label:"nucleotide"}),t}},{key:"gtGeneSelect",value:function(){var t=this,e=this.getGtGeneOptions();return i.a.createElement(b.a,{name:"selectGenotype",id:"selectGenotype",value:this.state.geneSelected,options:e,clearable:!1,searchable:!0,multi:!1,onChange:function(e){var n=e.value,r=t.state.positionSelected;t.setState({geneSelected:n,positionSelected:n+" positions..."}),t.setGenotypeColoring(n,r)}})}},{key:"gtPositionInput",value:function(){var t=this;return"gt"===this.state.colorBySelected?i.a.createElement("input",{type:"text",style:u.n,placeholder:this.state.geneSelected+" positions...",value:this.state.positionSelected,onChange:function(e){var n=t.state.geneSelected,r=e.target.value;console.log("gtPositionInput -> ",n,r),t.setState({positionSelected:r}),t.setGenotypeColoring(n,r)}}):null}},{key:"isNormalInteger",value:function(t){var e=Math.floor(Number(t));return String(e)===t&&e>=0}},{key:"setGenotypeColoring",value:function(t,e){var n=this;if(!e){if("nuc"===t)return;e="1"}var r=e.split(",").filter(function(t){return parseInt(t,10)});if(r.length){r.every(function(t){return t>0})&&r.every(function(e){return e<n.props.geneLength[t]})||(r=[1]);var i="gt-"+t+"_"+r.join(",");A("color-by-genotype"),this.props.dispatch(k(i))}}},{key:"getStyles",value:function(){return{base:{width:_.m,marginBottom:0,fontSize:14}}}},{key:"getColorByOptions",value:function(){var t=this;return Object.keys(this.props.colorOptions).map(function(e){return{value:e,label:t.props.colorOptions[e].menuItem}}).sort(function(t,e){var n=[_.h.indexOf(t.value),_.h.indexOf(e.value)],r=n[0],i=n[1];return-1===r||-1===i?-1===r?1:-1===i?-1:0:r>i?1:-1})}},{key:"render",value:function(){var t=this,e=this.getStyles(),n=this.getColorByOptions();return i.a.createElement("div",{style:e.base},i.a.createElement(b.a,{name:"selectColorBy",id:"selectColorBy",value:this.state.colorBySelected,options:n,clearable:!1,searchable:!1,multi:!1,onChange:function(e){t.setColorBy(e.value)}}),"gt"===this.state.colorBySelected?i.a.createElement("div",null,this.gtGeneSelect(),this.gtPositionInput()):null)}}]),e}(),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(p,"propTypes",{colorBy:a.a.string.isRequired,geneLength:a.a.object.isRequired,colorOptions:a.a.object.isRequired,dispatch:a.a.func.isRequired}),h=d))||h,F=n(62),R=n.n(F),z=n(177),V=n.n(z),W=n(39),U=n.n(W);function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){H(t,e,n[e])})}return t}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,!1}function Z(t){return null==t?[]:Array.isArray(t)?t:[t]}function K(t){return null!=t&&1===t.length?t[0]:t}var Y,$,X,J=R()({displayName:"Slider",propTypes:{min:a.a.number,max:a.a.number,step:a.a.number,minDistance:a.a.number,defaultValue:a.a.oneOfType([a.a.number,a.a.arrayOf(a.a.number)]),value:a.a.oneOfType([a.a.number,a.a.arrayOf(a.a.number)]),orientation:a.a.oneOf(["horizontal","vertical"]),className:a.a.string,handleClassName:a.a.string,handleActiveClassName:a.a.string,withBars:a.a.bool,barClassName:a.a.string,pearling:a.a.bool,disabled:a.a.bool,snapDragDisabled:a.a.bool,invert:a.a.bool,onBeforeChange:a.a.func,onChange:a.a.func,onAfterChange:a.a.func,onSliderClick:a.a.func},getDefaultProps:function(){return{min:0,max:100,step:1e-5,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",handleClassName:"handle",handleActiveClassName:"active",barClassName:"bar",withBars:!1,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1}},getInitialState:function(){var t=this._or(Z(this.props.value),Z(this.props.defaultValue));this.tempArray=t.slice();for(var e=[],n=0;n<t.length;n++)t[n]=this._trimAlignValue(t[n],this.props),e.push(n);return{index:-1,upperBound:0,sliderLength:0,value:t,zIndices:e}},componentWillReceiveProps:function(t){var e=this._or(Z(t.value),this.state.value);this.tempArray=e.slice();for(var n=0;n<e.length;n++)this.state.value[n]=this._trimAlignValue(e[n],t);this.state.value.length>e.length&&(this.state.value.length=e.length),0===this.state.upperBound&&this._handleResize()},_or:function(t,e){var n=i.a.Children.count(this.props.children);switch(n){case 0:return t.length>0?t:e;case t.length:return t;case e.length:return e;default:return t.length===n&&e.length===n||console.warn(this.constructor.displayName+": Number of values does not match number of children."),function(t,e,n){for(var r=(e-t)/(n-1),i=[],o=0;o<n;o++)i.push(t+r*o);return i}(this.props.min,this.props.max,n)}},componentDidMount:function(){window.addEventListener("resize",this._handleResize),this._handleResize()},componentWillUnmount:function(){clearTimeout(this.resizeTimeout),window.removeEventListener("resize",this._handleResize)},getValue:function(){return K(this.state.value)},_handleResize:function(){this.resizeTimeout=window.setTimeout(function(){var t=this.refs.slider,e=this.refs.handle0,n=t.getBoundingClientRect(),r=this._sizeKey(),i=n[this._posMaxKey()],o=n[this._posMinKey()];this.setState({upperBound:t[r]-e[r],sliderLength:Math.abs(i-o),handleSize:e[r],sliderStart:this.props.invert?i:o})}.bind(this),0)},_calcOffset:function(t){return(t-this.props.min)/(this.props.max-this.props.min)*this.state.upperBound},_calcValue:function(t){return t/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},_buildHandleStyle:function(t,e){var n={position:"absolute",willChange:this.state.index>=0?this._posMinKey():""};return n[this._posMinKey()]=t+"px",n},_getClosestIndex:function(t){for(var e=Number.MAX_VALUE,n=-1,r=this.state.value,i=r.length,o=0;o<i;o++){var a=this._calcOffset(r[o]),s=Math.abs(t-a);s<e&&(e=s,n=o)}return n},_calcOffsetFromPosition:function(t){var e=t-this.state.sliderStart;return this.props.invert&&(e=this.state.sliderLength-e),e-=this.state.handleSize/2},_forceValueFromPosition:function(t,e){var n=this._calcOffsetFromPosition(t),r=this._getClosestIndex(n),i=this._trimAlignValue(this._calcValue(n)),o=this.state.value.slice();o[r]=i;for(var a=0;a<o.length-1;a+=1)if(o[a+1]-o[a]<this.props.minDistance)return;this.setState({value:o},e.bind(this,r))},_getMousePosition:function(t){return[t["page"+this._axisKey()],t["page"+this._orthogonalAxisKey()]]},_getTouchPosition:function(t){var e=t.touches[0];return[e["page"+this._axisKey()],e["page"+this._orthogonalAxisKey()]]},_getMouseEventMap:function(){return{mousemove:this._onMouseMove,mouseup:this._onMouseUp}},_getTouchEventMap:function(){return{touchmove:this._onTouchMove,touchend:this._onTouchEnd}},_createOnMouseDown:function(t){return function(e){if(!this.props.disabled){var n=this._getMousePosition(e);this._start(t,n[0]),this._addHandlers(this._getMouseEventMap()),G(e)}}.bind(this)},_createOnTouchStart:function(t){return function(e){if(!(this.props.disabled||e.touches.length>1)){var n=this._getTouchPosition(e);this.startPosition=n,this.isScrolling=void 0,this._start(t,n[0]),this._addHandlers(this._getTouchEventMap()),function(t){t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}(e)}}.bind(this)},_addHandlers:function(t){for(var e in t)document.addEventListener(e,t[e],!1)},_removeHandlers:function(t){for(var e in t)document.removeEventListener(e,t[e],!1)},_start:function(t,e){document.activeElement&&document.activeElement!=document.body&&document.activeElement.blur(),this.hasMoved=!1,this._fireChangeEvent("onBeforeChange");var n=this.state.zIndices;n.splice(n.indexOf(t),1),n.push(t),this.setState({startValue:this.state.value[t],startPosition:e,index:t,zIndices:n})},_onMouseUp:function(){this._onEnd(this._getMouseEventMap())},_onTouchEnd:function(){this._onEnd(this._getTouchEventMap())},_onEnd:function(t){this._removeHandlers(t),this.setState({index:-1},this._fireChangeEvent.bind(this,"onAfterChange"))},_onMouseMove:function(t){var e=this._getMousePosition(t);this._move(e[0])},_onTouchMove:function(t){if(!(t.touches.length>1)){var e=this._getTouchPosition(t);if(void 0===this.isScrolling){var n=e[0]-this.startPosition[0],r=e[1]-this.startPosition[1];this.isScrolling=Math.abs(r)>Math.abs(n)}this.isScrolling?this.setState({index:-1}):(G(t),this._move(e[0]))}},_move:function(t){this.hasMoved=!0;var e=this.props,n=this.state,r=n.index,i=n.value,o=i.length,a=i[r],s=t-n.startPosition;e.invert&&(s*=-1);var u=s/(n.sliderLength-n.handleSize)*(e.max-e.min),l=this._trimAlignValue(n.startValue+u),c=e.minDistance;if(!e.pearling){if(r>0){var f=i[r-1];l<f+c&&(l=f+c)}if(r<o-1){var h=i[r+1];l>h-c&&(l=h-c)}}i[r]=l,e.pearling&&o>1&&(l>a?(this._pushSucceeding(i,c,r),this._trimSucceeding(o,i,c,e.max)):l<a&&(this._pushPreceding(i,c,r),this._trimPreceding(o,i,c,e.min))),l!==a&&this.setState({value:i},this._fireChangeEvent.bind(this,"onChange"))},_pushSucceeding:function(t,e,n){var r,i;for(i=t[r=n]+e;null!=t[r+1]&&i>t[r+1];i=t[++r]+e)t[r+1]=this._alignValue(i)},_trimSucceeding:function(t,e,n,r){for(var i=0;i<t;i++){var o=r-i*n;e[t-1-i]>o&&(e[t-1-i]=o)}},_pushPreceding:function(t,e,n){var r,i;for(i=t[r=n]-e;null!=t[r-1]&&i<t[r-1];i=t[--r]-e)t[r-1]=this._alignValue(i)},_trimPreceding:function(t,e,n,r){for(var i=0;i<t;i++){var o=r+i*n;e[i]<o&&(e[i]=o)}},_axisKey:function(){var t=this.props.orientation;return"horizontal"===t?"X":"vertical"===t?"Y":void 0},_orthogonalAxisKey:function(){var t=this.props.orientation;return"horizontal"===t?"Y":"vertical"===t?"X":void 0},_posMinKey:function(){var t=this.props.orientation;return"horizontal"===t?this.props.invert?"right":"left":"vertical"===t?this.props.invert?"bottom":"top":void 0},_posMaxKey:function(){var t=this.props.orientation;return"horizontal"===t?this.props.invert?"left":"right":"vertical"===t?this.props.invert?"top":"bottom":void 0},_sizeKey:function(){var t=this.props.orientation;return"horizontal"===t?"clientWidth":"vertical"===t?"clientHeight":void 0},_trimAlignValue:function(t,e){return this._alignValue(this._trimValue(t,e),e)},_trimValue:function(t,e){return t<=(e=e||this.props).min&&(t=e.min),t>=e.max&&(t=e.max),t},_alignValue:function(t,e){var n=(t-(e=e||this.props).min)%e.step,r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))},_renderHandle:function(t,e,n){var r=this.props.handleClassName+" "+this.props.handleClassName+"-"+n+" "+(this.state.index===n?this.props.handleActiveClassName:"");return i.a.createElement("div",{ref:"handle"+n,key:"handle"+n,className:r,style:q({},Q.handle,t),onMouseDown:this._createOnMouseDown(n),onTouchStart:this._createOnTouchStart(n)},e)},_renderHandles:function(t){for(var e=t.length,n=this.tempArray,r=0;r<e;r++)n[r]=this._buildHandleStyle(t[r],r);var o=this.tempArray,a=this._renderHandle;if(i.a.Children.count(this.props.children)>0)i.a.Children.forEach(this.props.children,function(t,e){o[e]=a(n[e],t,e)});else for(r=0;r<e;r++)o[r]=a(n[r],null,r);return o},_buildBarStyle:function(t,e){var n={position:"absolute",willChange:this.state.index>=0?this._posMinKey()+","+this._posMaxKey():""};return n[this._posMinKey()]=t,n[this._posMaxKey()]=e,n},_renderBar:function(t,e,n){var r=this.props.barClassName+" "+this.props.barClassName+"-"+t,o=this._buildBarStyle(e,this.state.upperBound-n);return o=0===t&&!U()(this.props.defaultValue)||1===t&&U()(this.props.defaultValue)?V()({},o,Q.selectedBar):V()({},o,Q.unselectedBar),i.a.createElement("div",{key:"bar"+t,ref:"bar"+t,className:r,style:q({},Q.bar,o)})},_renderBars:function(t){var e=[],n=t.length-1;e.push(this._renderBar(0,0,t[0]));for(var r=0;r<n;r++)e.push(this._renderBar(r+1,t[r],t[r+1]));return e.push(this._renderBar(n+1,t[n],this.state.upperBound)),e},_onSliderMouseDown:function(t){if(!this.props.disabled){if(this.hasMoved=!1,!this.props.snapDragDisabled){var e=this._getMousePosition(t);this._forceValueFromPosition(e[0],function(t){this._fireChangeEvent("onChange"),this._start(t,e[0]),this._addHandlers(this._getMouseEventMap())}.bind(this))}G(t)}},_onSliderClick:function(t){if(!this.props.disabled&&this.props.onSliderClick&&!this.hasMoved){var e=this._getMousePosition(t),n=this._trimAlignValue(this._calcValue(this._calcOffsetFromPosition(e[0])));this.props.onSliderClick(n)}},_fireChangeEvent:function(t){this.props[t]&&this.props[t](K(this.state.value))},render:function(){for(var t=this.tempArray,e=this.state.value,n=this.state.value.length,r=0;r<n;r++)t[r]=this._calcOffset(e[r],r);var o="vertical"===this.props.orientation?Q.verticalSlider:Q.horizontalSlider;return i.a.createElement("div",{ref:"slider",style:q({},Q.base,o),onMouseDown:this._onSliderMouseDown,onClick:this._onSliderClick},this.props.withBars?this._renderBars(t):null,this._renderHandles(t))}}),Q={base:{position:"relative",borderRadius:6},horizontalSlider:{width:"100%",height:12},verticalSlider:{maxHeight:500,width:12,border:"1px solid grey"},handle:{fontSize:"0.9em",textAlign:"center",backgroundColor:"#FAFAFA",color:"white",border:"1px solid #555",cursor:"pointer",height:12,width:12,borderRadius:12,top:-4},bar:{position:"relative",backgroundColor:"rgb(200,200,200)",borderRadius:2},unselectedBar:{backgroundColor:"#777",height:1,top:2},selectedBar:{backgroundColor:"#CCC",height:6}},tt=n(7),et=n(10);function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ut(t,e,n[e])})}return t}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e){return!e||"object"!==nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lt,ct=Object(s.b)(function(t){return{branchLengthsToDisplay:t.controls.branchLengthsToDisplay,dateMin:t.controls.dateMin,dateMax:t.controls.dateMax,dateMinNumeric:t.controls.dateMinNumeric,dateMaxNumeric:t.controls.dateMaxNumeric,absoluteDateMin:t.controls.absoluteDateMin,absoluteDateMax:t.controls.absoluteDateMax,absoluteDateMinNumeric:t.controls.absoluteDateMinNumeric,absoluteDateMaxNumeric:t.controls.absoluteDateMaxNumeric}})((X=$=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ot(this,at(e).call(this,t))).state={lastSliderUpdateTime:Date.now()},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(e,i.a.Component),function(t,e,n){e&&it(t.prototype,e),n&&it(t,n)}(e,[{key:"getStyles",value:function(){return{base:{fontFamily:u.f,marginBottom:"5px",fontSize:12,fontWeight:400,color:u.b}}}},{key:"maybeClearMapAnimationInterval",value:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference&&(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,this.props.dispatch({type:T.B,data:"Play"}))}},{key:"updateFromSlider",value:function(t,e){if(this.maybeClearMapAnimationInterval(),t){var n=Date.now();if(n<this.state.lastSliderUpdateTime+100)return null;this.setState({lastSliderUpdateTime:n})}var r={min:Object(tt.d)(e[0]),max:Object(tt.d)(e[1])};return this.props.dateMin!==r.min&&this.props.dateMax===r.max?this.props.dispatch(Object(et.c)({newMin:r.min,quickdraw:t})):this.props.dateMin===r.min&&this.props.dateMax!==r.max?this.props.dispatch(Object(et.c)({newMax:r.max,quickdraw:t})):this.props.dateMin!==r.min&&this.props.dateMax!==r.max?this.props.dispatch(Object(et.c)({newMin:r.min,newMax:r.max,quickdraw:t})):!1===t&&this.props.dispatch(Object(et.c)({quickdraw:t})),null}},{key:"render",value:function(){var t=this.props.dateMin,e=this.props.dateMax,n=this.props.absoluteDateMinNumeric,r=this.props.absoluteDateMaxNumeric,o=this.props.dateMinNumeric,a=this.props.dateMaxNumeric,s=this.props.branchLengthsToDisplay,u=_.y*(r-n),l=this.getStyles();return"divOnly"!==s?i.a.createElement("span",{style:{marginTop:"15px"}},i.a.createElement(m,{text:"Date Range"}),i.a.createElement("div",null,i.a.createElement("div",{style:{height:5}}),i.a.createElement("div",{style:{width:_.m}},i.a.createElement(J,{min:n,max:r,defaultValue:[n,r],value:[o,a],onChange:this.updateFromSlider.bind(this,!0),onAfterChange:this.updateFromSlider.bind(this,!1),minDistance:u,pearling:!0,withBars:!0})),i.a.createElement("div",{style:{height:5}}),i.a.createElement("div",{style:{width:_.m}},i.a.createElement("div",{style:rt({},l.base,{float:"left"})},t),i.a.createElement("div",{style:rt({},l.base,{float:"right"})},e)))):i.a.createElement("div",null)}}]),e}(),ut($,"propTypes",{dateMin:a.a.string.isRequired,dateMax:a.a.string.isRequired,absoluteDateMin:a.a.string.isRequired,absoluteDateMax:a.a.string.isRequired,dispatch:a.a.func.isRequired}),Y=X))||Y;function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vt,yt,gt,bt=Object(s.b)(function(t){return{selected:t.controls.selectedBranchLabel,available:t.tree.availableBranchLabels}})(lt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),pt(this,dt(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(e,i.a.Component),function(t,e,n){e&&ht(t.prototype,e),n&&ht(t,n)}(e,[{key:"getStyles",value:function(){return{base:{width:_.m,fontSize:14}}}},{key:"change",value:function(t){this.props.dispatch({type:T.m,value:t.value})}},{key:"render",value:function(){var t=this,e=this.getStyles();return i.a.createElement("div",{style:e.base},i.a.createElement(y,{text:"Branch Labels"}),i.a.createElement(b.a,{name:"selectedBranchLabel",id:"selectedBranchLabel",value:this.props.selected,options:this.props.available.map(function(t){return{value:t,label:t}}),clearable:!1,searchable:!1,multi:!1,onChange:function(e){t.change(e)}}))}}]),e}())||lt,_t=function(t){var e=t.stroke,n=void 0===e?"black":e,r=t.width,o=void 0===r?30:r;return i.a.createElement("svg",{width:o,height:o+5},i.a.createElement("g",{transform:"translate(0,2)"},i.a.createElement("svg",{width:o,height:o,viewBox:"16 19 27 22"},i.a.createElement("g",{id:"Group",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(17.000000, 20.000000)"},i.a.createElement("polyline",{id:"Path-3",stroke:n,points:"2.94117647 12.8571429 2.94117647 18.6083984 17.8459616 18.6083984 17.8459616 16.0260882 24.870031 16.0260882"}),i.a.createElement("polyline",{id:"Path-4",stroke:n,points:"17.8500004 18.5714286 17.8500004 20 25.0119374 20"}),i.a.createElement("polyline",{id:"Path-5",stroke:n,points:"2.94117647 12.8571429 3.00303284 7.21191058 10.2360102 7.11220045 10.4159559 2.99881623 17.1561911 2.93803403 17.1561911 0 24.313534 0"}),i.a.createElement("polyline",{id:"Path-6",stroke:n,points:"17.1599998 2.85714286 17.1599998 4.28571429 24.512941 4.28571429"}),i.a.createElement("path",{d:"M0,12.8571429 L2.94117647,12.8571429",id:"Path-6",stroke:n}),i.a.createElement("polyline",{id:"Path-7",stroke:n,points:"10.2941176 7.14285714 10.2941176 11.4285714 24.5454676 11.4285714"})))))},wt=function(t){var e=t.stroke,n=void 0===e?"black":e,r=t.width,o=void 0===r?30:r;return i.a.createElement("svg",{width:o,height:o+5},i.a.createElement("g",{transform:"translate(0,4)"},i.a.createElement("svg",{width:o,height:o,viewBox:"0 0 30 30 "},i.a.createElement("g",{id:"Group",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(17.000000, 20.000000)"},i.a.createElement("polyline",{id:"Path-3",stroke:n,points:"-15 5 -15 -25 "}),i.a.createElement("polyline",{id:"Path-4",stroke:n,points:"-15 5 25 5"}),i.a.createElement("polyline",{id:"Path-5",stroke:n,points:"-12 3 20 -25 "}),i.a.createElement("circle",{id:"c-1",stroke:n,cx:"-8",cy:"0",r:"2"}),i.a.createElement("circle",{id:"c-2",stroke:n,cx:"4",cy:"-10",r:"2"}),i.a.createElement("circle",{id:"c-3",stroke:n,cx:"4",cy:"-15",r:"2"}),i.a.createElement("circle",{id:"c-4",stroke:n,cx:"-4",cy:"-5",r:"2"}),i.a.createElement("circle",{id:"c-5",stroke:n,cx:"-2",cy:"-11",r:"2"})))))},xt=function(t){var e=t.stroke,n=void 0===e?"black":e,r=t.width,o=void 0===r?30:r;return i.a.createElement("svg",{width:o,height:o+5},i.a.createElement("g",{transform:"translate(0,0)"},i.a.createElement("svg",{width:o,height:o,viewBox:"14 14 25 26"},i.a.createElement("g",{id:"Group",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(15.000000, 15.000000)"},i.a.createElement("path",{d:"M15,15 L17.6450195,15",id:"Path-12",stroke:n}),i.a.createElement("path",{d:"M15.229248,22.5795898 L15.229248,18.2854004 C15.229248,18.2854004 17.8465223,17.6291504 17.8508301,15.0574951 C17.8551378,12.4858398 15.2944336,11.9138184 15.2944336,11.9138184 L15.229248,7.53540039",id:"Path-13",stroke:n}),i.a.createElement("path",{d:"M7.63037109,6.10498047 L10.230957,9.08325195 C10.230957,9.08325195 12.25,7.08233714 15.126709,7.04162598 C18.003418,7.00091481 20.5390625,8.91748047 20.5390625,8.91748047 L22.9765625,5.60839844",id:"Path-14",stroke:n}),i.a.createElement("path",{d:"M0.15942005,4.99135298 L2.76065146,7.96962446 C2.76065146,7.96962446 4.78019556,5.96870965 7.65761856,5.92799848 C10.5350415,5.88728732 13.0713154,7.80385298 13.0713154,7.80385298 L15.5094204,4.49477094",id:"Path-14",stroke:n,transform:"translate(7.834420, 6.232198) rotate(-34.000000) translate(-7.834420, -6.232198) "}),i.a.createElement("path",{d:"M7.5,21.496582 L10.1005859,24.4748535 C10.1005859,24.4748535 12.1196289,22.4739387 14.9963379,22.4332275 C17.8730469,22.3925164 20.4086914,24.309082 20.4086914,24.309082 L22.8461914,21",id:"Path-14",stroke:n,transform:"translate(15.173096, 22.737427) scale(1, -1) translate(-15.173096, -22.737427) "})))))},Et=function(t){var e=t.stroke,n=void 0===e?"black":e,r=t.width,o=void 0===r?30:r;return i.a.createElement("svg",{width:o,height:o+5},i.a.createElement("g",{transform:"translate(0,2)"},i.a.createElement("svg",{width:o,height:o,viewBox:"106 49 150 118"},i.a.createElement("polyline",{id:"Path-2",stroke:n,strokeWidth:"4",fill:"none",points:"108 77 125.182237 87.8599894 133.381156 119.402591 111.867082 144.368016"}),i.a.createElement("path",{d:"M125.2,87.5 L137.624777,70",id:"Path-3",stroke:n,strokeWidth:"4",fill:"none"}),i.a.createElement("polyline",{id:"Path-4",stroke:n,strokeWidth:"4",fill:"none",points:"133 119.331781 192.127357 119.400002 215.445998 80.3916603 203.946476 51.4000015"}),i.a.createElement("path",{d:"M215.5,80.5 L253.378522,73",id:"Path-5",stroke:n,strokeWidth:"4",fill:"none"}),i.a.createElement("path",{d:"M192,119.2 L229.854937,164.55391",id:"Path-6",stroke:n,strokeWidth:"4",fill:"none"}))))},St=function(t){var e=t.stroke,n=void 0===e?"black":e,r=t.width,o=void 0===r?30:r;return i.a.createElement("svg",{width:o,height:o+5},i.a.createElement("g",{transform:"translate(0,7)"},i.a.createElement("svg",{width:o,height:o,viewBox:"0 0 30 30 "},i.a.createElement("g",{id:"Group",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("line",{stroke:n,x1:"3.3",y1:"3.8",x2:"27.7",y2:"3.8"}),i.a.createElement("line",{stroke:n,x1:"3.3",y1:"9.2",x2:"27.7",y2:"9.2"}),i.a.createElement("line",{stroke:n,x1:"3.3",y1:"14.5",x2:"27.7",y2:"14.5"}),i.a.createElement("line",{stroke:n,x1:"3.3",y1:"19.9",x2:"27.7",y2:"19.9"}),i.a.createElement("line",{stroke:n,x1:"3.3",y1:"25.2",x2:"27.7",y2:"25.2"})))))},Tt=function(t){var e=t.stroke,n=void 0===e?"black":e,r=t.width,o=void 0===r?30:r;return i.a.createElement("svg",{width:o,height:o+5},i.a.createElement("g",{transform:"translate(0,6)"},i.a.createElement("svg",{width:o,height:o,viewBox:"0 0 30 30 "},i.a.createElement("g",{id:"Group",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},i.a.createElement("rect",{fill:"none",stroke:n,x:"1",y:"1",width:"14",height:"17"}),i.a.createElement("rect",{fill:"none",stroke:n,x:"15",y:"1",width:"14",height:"17"}),i.a.createElement("rect",{fill:"none",stroke:n,x:"1",y:"18",width:"28",height:"8"})))))},kt=function(t){var e=t.stroke,n=void 0===e?"black":e,r=t.width,o=void 0===r?30:r;return i.a.createElement("svg",{width:o,height:o+5},i.a.createElement("g",{transform:"translate(0,6)"},i.a.createElement("svg",{width:o,height:o,viewBox:"0 0 30 30 "},i.a.createElement("g",{id:"Group",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},i.a.createElement("rect",{fill:"none",stroke:n,x:"1",y:"1",width:"7",height:"25"}),i.a.createElement("rect",{fill:"none",stroke:n,x:"8",y:"1",width:"20",height:"25"})))))};function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jt=Object(s.b)(function(t){return{layout:t.controls.layout,showTreeToo:t.controls.showTreeToo,branchLengthsToDisplay:t.controls.branchLengthsToDisplay}})((gt=yt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Mt(this,At(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,i.a.Component),function(t,e,n){e&&Ct(t.prototype,e),n&&Ct(t,n)}(e,[{key:"getStyles",value:function(){return{container:{marginBottom:10},title:{margin:5,position:"relative",top:-1}}}},{key:"render",value:function(){var t=this;if(this.props.showTreeToo)return null;var e=this.getStyles(),n=this.props.layout;return"divAndDate"===this.props.branchLengthsToDisplay?i.a.createElement("div",{style:e.container},i.a.createElement(y,{text:"Layout",extraStyles:{marginTop:"0px"}}),i.a.createElement("div",{style:{margin:5}},i.a.createElement(_t,{width:25,stroke:"rect"===n?u.a:u.b}),i.a.createElement("button",{key:1,style:"rect"===n?u.j:u.i,onClick:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(A("change-layout-rectangular"),t.props.dispatch({type:T.q,data:"rect"}))}},i.a.createElement("span",{style:e.title}," ","rectangular"," "))),i.a.createElement("div",{style:{margin:5}},i.a.createElement(xt,{width:25,stroke:"radial"===n?u.a:u.b}),i.a.createElement("button",{key:2,style:"radial"===n?u.j:u.i,onClick:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(A("change-layout-radial"),t.props.dispatch({type:T.q,data:"radial"}))}},i.a.createElement("span",{style:e.title}," ","radial"," "))),i.a.createElement("div",{style:{margin:5}},i.a.createElement(Et,{width:25,stroke:"unrooted"===n?u.a:u.b}),i.a.createElement("button",{key:3,style:"unrooted"===n?u.j:u.i,onClick:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(A("change-layout-unrooted"),t.props.dispatch({type:T.q,data:"unrooted"}))}},i.a.createElement("span",{style:e.title}," ","unrooted"," "))),i.a.createElement("div",{style:{margin:5}},i.a.createElement(wt,{width:25,stroke:"clock"===n?u.a:u.b}),i.a.createElement("button",{key:4,style:"clock"===n?u.j:u.i,onClick:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(A("change-layout-clock"),t.props.dispatch({type:T.q,data:"clock"}))}},i.a.createElement("span",{style:e.title}," ","clock"," ")))):i.a.createElement("div",{style:e.container},i.a.createElement(y,{text:"Layout",extraStyles:{marginTop:"0px"}}),i.a.createElement("div",{style:{margin:5}},i.a.createElement(_t,{width:25,stroke:"rect"===n?u.a:u.b}),i.a.createElement("button",{key:1,style:"rect"===n?u.j:u.i,onClick:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(A("change-layout-rectangular"),t.props.dispatch({type:T.q,data:"rect"}))}},i.a.createElement("span",{style:e.title}," ","rectangular"," "))),i.a.createElement("div",{style:{margin:5}},i.a.createElement(xt,{width:25,stroke:"radial"===n?u.a:u.b}),i.a.createElement("button",{key:2,style:"radial"===n?u.j:u.i,onClick:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(A("change-layout-radial"),t.props.dispatch({type:T.q,data:"radial"}))}},i.a.createElement("span",{style:e.title}," ","radial"," "))),i.a.createElement("div",{style:{margin:5}},i.a.createElement(Et,{width:25,stroke:"unrooted"===n?u.a:u.b}),i.a.createElement("button",{key:3,style:"unrooted"===n?u.j:u.i,onClick:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(A("change-layout-unrooted"),t.props.dispatch({type:T.q,data:"unrooted"}))}},i.a.createElement("span",{style:e.title}," ","unrooted"," "))))}}]),e}(),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(yt,"propTypes",{layout:a.a.string.isRequired,dispatch:a.a.func.isRequired}),vt=gt))||vt,Lt=n(29);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt,zt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Bt(this,It(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(e,i.a.Component),function(t,e,n){e&&Nt(t.prototype,e),n&&Nt(t,n)}(e,[{key:"getStyles",value:function(){return{base:{width:_.m,fontSize:14}}}},{key:"createDataPath",value:function(t){var e=this.props.choice_tree.length>0?"/":"";return"live"!==this.props.source&&(e+=this.props.source+"/"),e=(e+=this.props.choice_tree.join("/")+"/"+t).replace(/\/+/,"/")}},{key:"changeDataset",value:function(t){A("change-virus-to-".concat(t.replace(/\//g,""))),window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference&&(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,this.props.dispatch({type:T.B,data:"Play"})),this.props.dispatch(Object(Lt.a)({path:t}))}},{key:"getDatasetOptions",value:function(){var t={};return this.props.options&&(t=this.props.options.map(function(t){return{value:t,label:t}})),t}},{key:"render",value:function(){var t=this,e=this.getStyles(),n=this.getDatasetOptions();return i.a.createElement("div",{style:e.base},i.a.createElement(b.a,{name:"selectDataset",id:"selectDataset",value:this.props.selected,options:n,clearable:!1,searchable:!1,multi:!1,onChange:function(e){t.changeDataset(t.createDataPath(e.value))}}))}}]),e}();function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gt,Zt=Object(s.b)(function(t){return{available:t.controls.available,datasetFields:t.controls.datasetFields,source:t.controls.source}})(Rt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ut(this,qt(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(e,i.a.Component),function(t,e,n){e&&Wt(t.prototype,e),n&&Wt(t,n)}(e,[{key:"render",value:function(){var t=this;if(!this.props.available)return"github"===this.props.source?function(){var t=window.location.pathname.split("/"),e="github.com/".concat(t[2],"/").concat(t[3]);return i.a.createElement("div",{style:{fontSize:14,marginTop:5,marginBottom:5}},i.a.createElement("i",{className:"fa fa-clone fa-lg",style:{color:u.b},"aria-hidden":"true"}),i.a.createElement("span",{style:{position:"relative"}}," "),i.a.createElement("a",{href:"https://".concat(e),target:"_blank"},e))}():"dropped"===this.props.source?i.a.createElement("div",{style:{fontSize:14,marginTop:5,marginBottom:5}},i.a.createElement("i",{className:"fa fa-clone fa-lg",style:{color:u.b},"aria-hidden":"true"}),i.a.createElement("span",{style:{position:"relative"}}," dropped files")):function(t,e){return i.a.createElement("div",{style:{fontSize:14}},"Source: ".concat(t||"unknown"),i.a.createElement("p",null),"Datapath: ".concat(e?e.join("/"):"unknown"))}(this.props.source,this.props.datasetFields);var e=this.props.datasetFields,n=[[]];this.props.available.forEach(function(t){-1===n[0].indexOf(t[0])&&n[0].push(t[0])});for(var r=function(r){n[r]=[],t.props.available.forEach(function(t){(function(t,e,n){return t.slice(0,n).every(function(t,n){return t===e[n]})})(t,e,r)&&-1===n[r].indexOf(t[r])&&n[r].push(t[r])})},o=1;o<e.length;o++)r(o);for(var a=[],s=0;s<n.length;s++)a.push(i.a.createElement("div",{key:s},i.a.createElement(zt,{dispatch:this.props.dispatch,source:this.props.source,choice_tree:e.slice(0,s),selected:e[s],options:n[s]})));return i.a.createElement("div",null,a)}}]),e}())||Rt,Kt=n(104);function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e){return!e||"object"!==Yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ee,ne,re,ie=Object(s.b)(function(t){return{available:t.controls.available,datasetFields:t.controls.datasetFields,source:t.controls.source,treeName:t.tree.name,showTreeToo:t.controls.showTreeToo}})(Gt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Jt(this,Qt(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}(e,i.a.Component),function(t,e,n){e&&Xt(t.prototype,e),n&&Xt(t,n)}(e,[{key:"render",value:function(){var t=this;if(!(this.props.available&&this.props.datasetFields&&this.props.source&&this.props.treeName))return null;var e=this.props.datasetFields.indexOf(this.props.treeName),n=this.props.available.slice().filter(function(n){if(n.length!==t.props.datasetFields.length)return!1;for(var r=0;r<n.length;r++)if(r===e){if(n[r]===t.props.datasetFields[r])return!1}else if(n[r]!==t.props.datasetFields[r])return!1;return!0}).map(function(t){return t[e]});return this.props.showTreeToo&&n.unshift("REMOVE"),i.a.createElement("div",null,i.a.createElement(y,{key:"treetootitle",text:"Second Tree"}),i.a.createElement("div",{key:"treetooselect",style:{width:_.m,fontSize:14}},i.a.createElement(b.a,{name:"selectTreeToo",id:"selectTreeToo",value:this.props.showTreeToo,options:n.map(function(t){return{value:t,label:t}}),clearable:!1,searchable:!1,multi:!1,onChange:function(n){if("REMOVE"===n.value)t.props.dispatch({type:T.I});else{var r=$t(t.props.datasetFields);r.splice(e,1,n.value),t.props.dispatch(Object(Kt.b)(n.value,r))}}})))}}]),e}())||Gt,oe=function(t){var e=t.display,n=t.on,r=t.callback,o=t.label,a=t.style,s=void 0===a?{}:a,u=t.sliderStyle,l=void 0===u?{marginLeft:"40px"}:u,c=t.labelStyle,f=void 0===c?{marginLeft:"40px",marginTop:"4px",width:"200px"}:c;return e?i.a.createElement("div",{style:s},i.a.createElement("label",{className:"switch"},i.a.createElement("input",{className:"switch",type:"checkbox",style:l,checked:n,onChange:r}),i.a.createElement("div",{className:"slider round"}),""===o?null:i.a.createElement(y,{text:o,extraStyles:f}))):null};function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ue(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fe,he=Object(s.b)(function(t){return{distanceMeasure:t.controls.distanceMeasure,showTreeToo:t.controls.showTreeToo,branchLengthsToDisplay:t.controls.branchLengthsToDisplay,temporalConfidence:t.controls.temporalConfidence}})((re=ne=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ue(this,le(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(e,i.a.Component),function(t,e,n){e&&se(t.prototype,e),n&&se(t,n)}(e,[{key:"getStyles",value:function(){return{container:{marginBottom:0},title:{margin:5,position:"relative",top:-1},toggle:{margin:5}}}},{key:"render",value:function(){var t=this,e=this.getStyles(),n=this.props.distanceMeasure,r=this.props.showTreeToo?{marginTop:"0px"}:{};return"divAndDate"===this.props.branchLengthsToDisplay?i.a.createElement("div",{style:e.container},i.a.createElement(y,{text:"Branch Length",extraStyles:r}),i.a.createElement("button",{key:1,style:"num_date"===n?u.j:u.i,onClick:function(){A("tree-metric-temporal"),t.props.dispatch({type:T.o,data:"num_date"})}},i.a.createElement("span",{style:e.title}," ","time"," ")),i.a.createElement("button",{key:2,style:"div"===n?u.j:u.i,onClick:function(){A("tree-metric-divergence"),t.props.dispatch({type:T.o,data:"div"})}},i.a.createElement("span",{style:e.title}," ","divergence"," ")),this.props.showTreeToo?null:i.a.createElement("div",{style:e.toggle},i.a.createElement(oe,{display:this.props.temporalConfidence.display,on:this.props.temporalConfidence.on,callback:function(){return t.props.dispatch(Object(et.d)())},label:"Show confidence intervals"}))):i.a.createElement("div",null)}}]),e}(),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ne,"propTypes",{temporalConfidence:a.a.object.isRequired,dispatch:a.a.func.isRequired}),ee=re))||ee;function pe(t){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function me(t,e){return!e||"object"!==pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ge,be=Object(s.b)(function(t){return{panelLayout:t.controls.panelLayout,canTogglePanelLayout:t.controls.canTogglePanelLayout}})(fe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),me(this,ve(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(e,i.a.Component),function(t,e,n){e&&de(t.prototype,e),n&&de(t,n)}(e,[{key:"getStyles",value:function(){return{container:{marginTop:0,marginBottom:10},title:{margin:5,position:"relative",top:-1},toggle:{margin:5}}}},{key:"render",value:function(){var t=this;if(!this.props.canTogglePanelLayout)return null;var e=this.getStyles();return i.a.createElement("div",{style:e.container},i.a.createElement(kt,{width:22,stroke:"full"===this.props.panelLayout?u.a:u.b}),i.a.createElement("button",{key:1,style:"full"===this.props.panelLayout?u.j:u.i,onClick:function(){A("change-layout-full"),t.props.dispatch({type:T.r,data:"full"})}},i.a.createElement("span",{style:e.title}," ","full"," ")),i.a.createElement(Tt,{width:22,stroke:"grid"===this.props.panelLayout?u.a:u.b}),i.a.createElement("button",{key:2,style:"grid"===this.props.panelLayout?u.j:u.i,onClick:function(){A("change-layout-grid"),t.props.dispatch({type:T.r,data:"grid"})}},i.a.createElement("span",{style:e.title}," ","grid"," ")))}}]),e}())||fe;function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xe(t,e){return!e||"object"!==_e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Se(t,e){return(Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Te,ke=Object(s.b)(function(t){return{metadata:t.metadata,geoResolution:t.controls.geoResolution}})(ge=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),xe(this,Ee(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}(e,i.a.Component),function(t,e,n){e&&we(t.prototype,e),n&&we(t,n)}(e,[{key:"getStyles",value:function(){return{base:{marginBottom:10,width:_.m,fontSize:14}}}},{key:"getGeoResolutionOptions",value:function(){var t=[];return this.props.metadata.loaded&&(t=Object.keys(this.props.metadata.geo).map(function(t){return{value:t,label:t}})),t}},{key:"changeGeoResolution",value:function(t){A("change-geo-resolution"),this.props.dispatch({type:T.p,data:t})}},{key:"render",value:function(){var t=this,e=this.getStyles(),n=this.getGeoResolutionOptions();return i.a.createElement("div",{style:e.base},i.a.createElement(b.a,{name:"selectGeoResolution",id:"selectGeoResolution",value:this.props.geoResolution,options:n,clearable:!1,searchable:!1,multi:!1,onChange:function(e){t.changeGeoResolution(e.value)}}))}}]),e}())||ge;function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e){return!e||"object"!==Oe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var je,Le=Object(s.b)(function(t){return{branchLengthsToDisplay:t.controls.branchLengthsToDisplay,mapAnimationStartDate:t.controls.mapAnimationStartDate,mapAnimationDurationInMilliseconds:t.controls.mapAnimationDurationInMilliseconds,mapAnimationCumulative:t.controls.mapAnimationCumulative,mapAnimationShouldLoop:t.controls.mapAnimationShouldLoop}})(Te=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Me(this,Ae(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(e,i.a.Component),function(t,e,n){e&&Ce(t.prototype,e),n&&Ce(t,n)}(e,[{key:"handleChangeAnimationTimeClicked",value:function(t){var e=this;return function(){var n;window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(A("change-animation-time"),"slow"===t?n=6e4:"medium"===t?n=3e4:"fast"===t?n=15e3:console.warn("Odd... controls/map-animation.js tried to set an animation speed we don't offer..."),e.props.dispatch({type:T.l,data:n}))}}},{key:"render",value:function(){var t=this;return"divOnly"!==this.props.branchLengthsToDisplay?i.a.createElement("div",{id:"mapAnimationControls"},i.a.createElement("div",{style:{marginTop:5,marginBottom:5}},i.a.createElement(y,{text:"Animation speed"}),i.a.createElement("button",{style:6e4===this.props.mapAnimationDurationInMilliseconds?u.j:u.i,onClick:this.handleChangeAnimationTimeClicked("slow")},"Slow"),i.a.createElement("button",{style:3e4===this.props.mapAnimationDurationInMilliseconds?u.j:u.i,onClick:this.handleChangeAnimationTimeClicked("medium")},"Medium"),i.a.createElement("button",{style:15e3===this.props.mapAnimationDurationInMilliseconds?u.j:u.i,onClick:this.handleChangeAnimationTimeClicked("fast")},"Fast")),i.a.createElement(oe,{display:!0,on:this.props.mapAnimationShouldLoop,callback:function(){t.props.dispatch({type:T.j,data:!t.props.mapAnimationShouldLoop})},label:"Loop animation"}),i.a.createElement("br",null),i.a.createElement(oe,{display:!0,on:this.props.mapAnimationCumulative,callback:function(){A("change-animation-cumulative"),t.props.dispatch({type:T.i,data:!t.props.mapAnimationCumulative})},label:"Animate cumulative history"})):i.a.createElement("div",null)}}]),e}())||Te;function De(t){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t,e){return!e||"object"!==De(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ie(t){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Re,ze=Object(s.b)(function(t){return{panelsAvailable:t.controls.panelsAvailable,panelsToDisplay:t.controls.panelsToDisplay,showTreeToo:t.controls.showTreeToo}})(je=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Be(this,Ie(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(e,i.a.Component),function(t,e,n){e&&Ne(t.prototype,e),n&&Ne(t,n)}(e,[{key:"render",value:function(){var t=this,e=this.props.panelsAvailable.slice();return this.props.showTreeToo&&-1!==e.indexOf("map")&&e.splice(e.indexOf("map"),1),e.map(function(e){return i.a.createElement(oe,{key:e,display:!0,on:-1!==t.props.panelsToDisplay.indexOf(e),callback:function(){return t.props.dispatch(function(t){return function(e,n){var r,i=n().controls,o=i.panelsToDisplay.indexOf(t);-1===o?r=i.panelsAvailable.filter(function(e){return-1!==i.panelsToDisplay.indexOf(e)||e===t}):(r=i.panelsToDisplay.slice()).splice(o,1);var a=i.panelLayout;-1!==r.indexOf("tree")&&-1!==r.indexOf("map")||(a="full"),e({type:T.L,panelsToDisplay:r,panelLayout:a})}}(e))},label:"Show "+e,style:{paddingBottom:"10px"}})})}}]),e}())||je,Ve=n(253),We=n.n(Ve);n(553);function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e){return!e||"object"!==Ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ke,Ye=function(t){var e=t.onClick;return t.show?i.a.createElement("div",{className:"boxed-item-icon",style:{float:"right",height:"23px",width:"23px",borderTopRightRadius:"2px",borderBottomRightRadius:"2px",borderRightWidth:"1px",fontSize:18},onClick:e},"×"):null},$e=Object(s.b)(function(t){return{nodes:t.tree.nodes,version:t.tree.version,visibility:t.tree.visibility,selectedStrain:t.tree.selectedStrain}})(Re=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=He(this,Ge(e).call(this))).state={awesomplete:void 0,show:!1},t.removeSelection=function(){t.ref.value=null,t.props.dispatch(Object(et.f)({tipSelected:{clear:!0}})),t.props.dispatch(Object(et.e)()),t.setState({show:!1})},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ze(t,e)}(e,i.a.Component),function(t,e,n){e&&qe(t.prototype,e),n&&qe(t,n)}(e,[{key:"componentDidMount",value:function(){var t=this,e=new We.a(this.ref,{maxItems:1e3});this.ref.addEventListener("awesomplete-selectcomplete",function(e){for(var n=e.text.value,r=0;r<t.props.nodes.length;r++)if(t.props.nodes[r].strain===n){t.props.dispatch(Object(et.f)({tipSelected:{treeIdx:t.props.nodes[r].arrayIdx}})),t.props.dispatch(Object(et.e)({tipSelectedIdx:t.props.nodes[r].arrayIdx}));break}t.setState({show:!0})}),this.setState({awesomplete:e})}},{key:"componentWillReceiveProps",value:function(t){this.props.selectedStrain&&!t.selectedStrain&&(this.ref.value=null,this.setState({show:!1}))}},{key:"updateVisibleStrains",value:function(){var t=this;this.state.awesomplete.list=this.props.nodes.filter(function(e){return!e.hasChildren&&t.props.visibility[e.arrayIdx]===_.b}).map(function(t){return t.strain}),this.state.awesomplete.evaluate()}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{style:{fontFamily:u.c,color:u.b,fontSize:14,display:"inline-block"}},i.a.createElement(y,{text:"Search Strains"}),i.a.createElement("div",{style:{width:"80%",display:"inline-block"}},i.a.createElement("input",{style:{fontFamily:"inherit",color:"inherit",fontSize:"inherit",width:"100%",height:"23px",paddingLeft:"7px",borderRadius:"4px",border:"1px solid #ccc"},ref:function(e){t.ref=e},onFocus:function(){return t.updateVisibleStrains()}})),i.a.createElement(Ye,{show:this.state.show,onClick:this.removeSelection}))}}]),e}())||Re;function Xe(t){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qe(t,e){return!e||"object"!==Xe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tn(t){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nn=Object(s.b)(function(t){return{showTreeToo:t.controls.showTreeToo,showTangle:t.controls.showTangle}})(Ke=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qe(this,tn(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&en(t,e)}(e,i.a.Component),function(t,e,n){e&&Je(t.prototype,e),n&&Je(t,n)}(e,[{key:"render",value:function(){var t=this;return this.props.showTreeToo?i.a.createElement(oe,{display:!0,on:this.props.showTangle,callback:function(){return t.props.dispatch({type:T.M})},label:"Show Tanglegram",style:{paddingTop:"10px"}}):null}}]),e}())||Ke,rn=function(t){var e=t.mapOn;return i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignContent:"stretch",flexWrap:"nowrap",height:"100%",order:0,flexGrow:0,flexShrink:1,flexBasis:"auto",alignSelf:"auto",padding:"0px 20px 20px 20px"}},i.a.createElement(m,{text:"Dataset"}),i.a.createElement(Zt,null),i.a.createElement(ct,null),i.a.createElement(m,{text:"Color By"}),i.a.createElement(I,null),i.a.createElement(m,{text:"Tree Options"}),i.a.createElement(jt,null),i.a.createElement(he,null),i.a.createElement(bt,null),i.a.createElement($e,null),i.a.createElement(ie,null),i.a.createElement(nn,null),e?i.a.createElement("span",{style:{marginTop:"15px"}},i.a.createElement(m,{text:"Map Options"}),i.a.createElement(y,{text:"Geographic resolution",extraStyles:{marginTop:"5px"}}),i.a.createElement(ke,null),i.a.createElement(Le,null)):null,i.a.createElement(m,{text:"Panel Options",extraStyles:{paddingTop:"10px"}}),i.a.createElement(be,null),i.a.createElement(ze,null))},on="http://www.w3.org/1999/xhtml",an={svg:"http://www.w3.org/2000/svg",xhtml:on,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sn=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),an.hasOwnProperty(e)?{space:an[e],local:t}:t};var un=function(t){var e=sn(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===on&&e.documentElement.namespaceURI===on?e.createElement(t):e.createElementNS(n,t)}})(e)},ln=0;function cn(){this._="@"+(++ln).toString(36)}cn.prototype=function(){return new cn}.prototype={constructor:cn,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var fn=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var hn=document.documentElement;if(!hn.matches){var pn=hn.webkitMatchesSelector||hn.msMatchesSelector||hn.mozMatchesSelector||hn.oMatchesSelector;fn=function(t){return function(){return pn.call(this,t)}}}}var dn=fn,mn={},vn=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(mn={mouseenter:"mouseover",mouseleave:"mouseout"}));function yn(t,e,n){return t=gn(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function gn(t,e,n){return function(r){var i=vn;vn=r;try{t.call(this,this.__data__,e,n)}finally{vn=i}}}function bn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function _n(t,e,n){var r=mn.hasOwnProperty(t.type)?yn:gn;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function wn(t,e,n,r){var i=vn;t.sourceEvent=vn,vn=t;try{return e.apply(n,r)}finally{vn=i}}var xn=function(){for(var t,e=vn;t=e.sourceEvent;)e=t;return e},En=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Sn=function(t){var e=xn();return e.changedTouches&&(e=e.changedTouches[0]),En(t,e)};function Tn(){}var kn=function(t){return null==t?Tn:function(){return this.querySelector(t)}};function On(){return[]}var Cn=function(t){return null==t?On:function(){return this.querySelectorAll(t)}},Mn=function(t){return new Array(t.length)};function An(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}An.prototype={constructor:An,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Pn="$";function jn(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new An(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Ln(t,e,n,r,i,o,a){var s,u,l,c={},f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=l=Pn+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<h;++s)(u=c[l=Pn+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new An(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&c[p[s]]===u&&(i[s]=u)}function Dn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Nn=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Bn(t){return t.trim().split(/^|\s+/)}function In(t){return t.classList||new Fn(t)}function Fn(t){this._node=t,this._names=Bn(t.getAttribute("class")||"")}function Rn(t,e){for(var n=In(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function zn(t,e){for(var n=In(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}Fn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Vn(){this.textContent=""}function Wn(){this.innerHTML=""}function Un(){this.nextSibling&&this.parentNode.appendChild(this)}function qn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hn(){return null}function Gn(){var t=this.parentNode;t&&t.removeChild(this)}function Zn(t,e,n){var r=Nn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var Kn=[null];function Yn(t,e){this._groups=t,this._parents=e}function $n(){return new Yn([[document.documentElement]],Kn)}Yn.prototype=$n.prototype={constructor:Yn,select:function(t){"function"!=typeof t&&(t=kn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Yn(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Cn(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new Yn(r,i)},filter:function(t){"function"!=typeof t&&(t=dn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Yn(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n=e?Ln:jn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,p=t.call(c,c&&c.__data__,l,r),d=p.length,m=s[l]=new Array(d),v=a[l]=new Array(d);n(c,f,m,v,u[l]=new Array(h),p,e);for(var y,g,b=0,_=0;b<d;++b)if(y=m[b]){for(b>=_&&(_=b+1);!(g=v[_])&&++_<d;);y._next=g||null}}return(a=new Yn(a,r))._enter=s,a._exit=u,a},enter:function(){return new Yn(this._enter||this._groups.map(Mn),this._parents)},exit:function(){return new Yn(this._exit||this._groups.map(Mn),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Yn(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Dn);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new Yn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=sn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||Nn(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=Bn(t+"");if(arguments.length<2){for(var r=In(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Rn:zn)(this,t)}}:e?function(t){return function(){Rn(this,t)}}:function(t){return function(){zn(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Vn:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Wn:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Un)},lower:function(){return this.each(qn)},append:function(t){var e="function"==typeof t?t:un(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:un(t),r=null==e?Hn:"function"==typeof e?e:kn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Gn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?_n:bn,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Zn(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Zn(this,t,e)}})(t,e))}};var Xn=$n,Jn=function(t){return"string"==typeof t?new Yn([[document.querySelector(t)]],[document.documentElement]):new Yn([[t]],Kn)},Qn=function(t,e,n){arguments.length<3&&(n=e,e=xn().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return En(t,r);return null};function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){nr(t,e,n[e])})}return t}function nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ir(t,e){return!e||"object"!==tr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ar(t,e){return(ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ir(this,or(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ar(t,e)}(e,i.a.Component),function(t,e,n){e&&rr(t.prototype,e),n&&rr(t,n)}(e,[{key:"getStyles",value:function(){return{base:{backgroundColor:"#FFFFFF",display:"inline-block",marginLeft:14,marginRight:0,marginTop:0,marginBottom:10,paddingLeft:6,paddingRight:6,paddingBottom:6,overflow:"hidden",position:"relative"},title:{fontFamily:u.f,color:u.b,fontSize:16,marginLeft:0,marginTop:0,marginBottom:8,fontWeight:500,backgroundColor:"#FFFFFF",borderTop:"thin solid #BBB",minHeight:"15px"}}}},{key:"getStylesInfoCard",value:function(){return{base:{backgroundColor:"#FFFFFF",display:"inline-block",marginLeft:14,marginRight:0,marginTop:0,marginBottom:10,paddingLeft:6,paddingRight:6,paddingBottom:6,overflow:"hidden",position:"relative"},title:{fontFamily:u.f,color:"#fff",fontSize:16,marginLeft:0,marginTop:0,marginBottom:8,fontWeight:500,backgroundColor:"#FFFFFF"}}}},{key:"render",value:function(){var t=this.props.infocard?this.getStylesInfoCard():this.getStyles();return i.a.createElement("div",{id:"".concat(this.props.title,"Card"),style:er({},t.base,this.props.style)},i.a.createElement("div",{id:"CardTitle",style:er({},t.title,this.props.titleStyles)},this.props.title),i.a.createElement("div",{id:"CardContentContainer",style:{display:"flex",justifyContent:this.props.center?"center":"flex-start"}},this.props.children))}}]),e}(),ur=n(19),lr=Array.prototype.slice,cr=function(t){return t},fr=1,hr=2,pr=3,dr=4,mr=1e-6;function vr(t){return"translate("+t+",0)"}function yr(t){return"translate(0,"+t+")"}function gr(){return!this.__axis}function br(t,e){var n,r=[],i=null,o=null,a=6,s=6,u=3,l=t===fr||t===dr?-1:1,c=t===dr||t===hr?(n="x","y"):(n="y","x"),f=t===fr||t===pr?vr:yr;function h(h){var p=null==i?e.ticks?e.ticks.apply(e,r):e.domain():i,d=null==o?e.tickFormat?e.tickFormat.apply(e,r):cr:o,m=Math.max(a,0)+u,v=e.range(),y=v[0]+.5,g=v[v.length-1]+.5,b=(e.bandwidth?function(t){var e=t.bandwidth()/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}:cr)(e.copy()),_=h.selection?h.selection():h,w=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(p,e).order(),E=x.exit(),S=x.enter().append("g").attr("class","tick"),T=x.select("line"),k=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),x=x.merge(S),T=T.merge(S.append("line").attr("stroke","#000").attr(n+"2",l*a).attr(c+"1",.5).attr(c+"2",.5)),k=k.merge(S.append("text").attr("fill","#000").attr(n,l*m).attr(c,.5).attr("dy",t===fr?"0em":t===pr?"0.71em":"0.32em")),h!==_&&(w=w.transition(h),x=x.transition(h),T=T.transition(h),k=k.transition(h),E=E.transition(h).attr("opacity",mr).attr("transform",function(t){return isFinite(t=b(t))?f(t):this.getAttribute("transform")}),S.attr("opacity",mr).attr("transform",function(t){var e=this.parentNode.__axis;return f(e&&isFinite(e=e(t))?e:b(t))})),E.remove(),w.attr("d",t===dr||t==hr?"M"+l*s+","+y+"H0.5V"+g+"H"+l*s:"M"+y+","+l*s+"V0.5H"+g+"V"+l*s),x.attr("opacity",1).attr("transform",function(t){return f(b(t))}),T.attr(n+"2",l*a),k.attr(n,l*m).text(d),_.filter(gr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===hr?"start":t===dr?"end":"middle"),_.each(function(){this.__axis=b})}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return r=lr.call(arguments),h},h.tickArguments=function(t){return arguments.length?(r=null==t?[]:lr.call(t),h):r.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:lr.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(o=t,h):o},h.tickSize=function(t){return arguments.length?(a=s=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(s=+t,h):s},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h}function _r(t){return br(pr,t)}function wr(t){return br(dr,t)}var xr=n(8),Er=Math.PI,Sr=2*Er,Tr=Sr-1e-6;function kr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Or(){return new kr}kr.prototype=Or.prototype={constructor:kr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var h=n-o,p=r-a,d=s*s+u*u,m=h*h+p*p,v=Math.sqrt(d),y=Math.sqrt(f),g=i*Math.tan((Er-Math.acos((d+f-m)/(2*v*y)))/2),b=g/y,_=g/v;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(e+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*p)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%Sr+Sr),f>Tr?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Er)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Cr=Or,Mr=function(t){return function(){return t}},Ar=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12),Pr=Math.PI,jr=2*Pr;function Lr(t){this._context=t}Lr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Dr=function(t){return new Lr(t)};function Nr(t){return t[0]}function Br(t){return t[1]}var Ir=function(){var t=Nr,e=Br,n=Mr(!0),r=null,i=Dr,o=null;function a(a){var s,u,l,c=a.length,f=!1;for(null==r&&(o=i(l=Cr())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,s,a),+e(u,s,a));if(l)return o=null,l+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Mr(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Mr(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Mr(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},Fr=function(){var t=Nr,e=null,n=Mr(0),r=Br,i=Mr(!0),o=null,a=Dr,s=null;function u(u){var l,c,f,h,p,d=u.length,m=!1,v=new Array(d),y=new Array(d);for(null==o&&(s=a(p=Cr())),l=0;l<=d;++l){if(!(l<d&&i(h=u[l],l,u))===m)if(m=!m)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=l-1;f>=c;--f)s.point(v[f],y[f]);s.lineEnd(),s.areaEnd()}m&&(v[l]=+t(h,l,u),y[l]=+n(h,l,u),s.point(e?+e(h,l,u):v[l],r?+r(h,l,u):y[l]))}if(p)return s=null,p+""||null}function l(){return Ir().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Mr(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Mr(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Mr(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Mr(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:Mr(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Mr(+t),u):r},u.lineX0=u.lineY0=function(){return l().x(t).y(n)},u.lineY1=function(){return l().x(t).y(r)},u.lineX1=function(){return l().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:Mr(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u};zr(Dr);function Rr(t){this._curve=t}function zr(t){function e(e){return new Rr(t(e))}return e._curve=t,e}Rr.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array.prototype.slice;Math.sqrt(1/3);var Vr=Math.sin(Pr/10)/Math.sin(7*Pr/10),Wr=(Math.sin(jr/10),Math.cos(jr/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function Ur(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qr(t){this._context=t}qr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ur(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ur(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hr(t){this._context=t}Hr.prototype={areaStart:Wr,areaEnd:Wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ur(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gr(t){this._context=t}Gr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ur(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zr(t,e){this._basis=new qr(t),this._beta=e}Zr.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new qr(t):new Zr(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function Kr(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Yr(t,e){this._context=t,this._k=(1-e)/6}Yr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Kr(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Kr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Yr(t,e)}return n.tension=function(e){return t(+e)},n})(0);function $r(t,e){this._context=t,this._k=(1-e)/6}$r.prototype={areaStart:Wr,areaEnd:Wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Kr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new $r(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Xr(t,e){this._context=t,this._k=(1-e)/6}Xr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Kr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new Xr(t,e)}return n.tension=function(e){return t(+e)},n})(0);function Jr(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Ar){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Ar){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Qr(t,e){this._context=t,this._alpha=e}Qr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Jr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new Qr(t,e):new Yr(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function ti(t,e){this._context=t,this._alpha=e}ti.prototype={areaStart:Wr,areaEnd:Wr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Jr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new ti(t,e):new $r(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function ei(t,e){this._context=t,this._alpha=e}ei.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new ei(t,e):new Xr(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function ni(t){this._context=t}ni.prototype={areaStart:Wr,areaEnd:Wr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ri(t){return t<0?-1:1}function ii(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ri(o)+ri(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function oi(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ai(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function si(t){this._context=t}function ui(t){this._context=new li(t)}function li(t){this._context=t}function ci(t){this._context=t}function fi(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ai(this,this._t0,oi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ai(this,oi(this,n=ii(this,t,e)),n);break;default:ai(this,this._t0,n=ii(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ui.prototype=Object.create(si.prototype)).point=function(t,e){si.prototype.point.call(this,e,t)},li.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=fi(t),i=fi(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hi(t,e){this._context=t,this._t=e}hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var pi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.multiplier,r=void 0!==n&&n,i=e.trim,o=void 0===i?0:i,a=e.camelCase,s=void 0===a||a,u=e.removeComma,l=void 0!==u&&u,c=e.stripEtAl,f=void 0!==c&&c;if(!t&&0!==t)return"";if("string"==typeof t)return o>0&&t.length>o&&(t=t.slice(0,o)+"..."),-1!==["usvi","usa","uk"].indexOf(t.toLowerCase())?t.toUpperCase():(t=t.replace(/_/g," "),s&&(t=t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})),l&&(t=t.replace(/,/g,"")),f&&(t=t.replace("et al.","").replace("Et Al.","").replace("et al","").replace("Et Al","")),t);if("number"==typeof t){var h=parseFloat(t),p=Math.ceil(Math.log10(Math.abs(h)+1e-10));return r?h.toFixed(5-p)+"×":h.toFixed(5-p)}return t},di=function(t){var e=pi(t);return-1!==e.indexOf("Et Al")?i.a.createElement("span",null,e.replace(" Et Al",""),i.a.createElement("em",null," et al")):e},mi=function(t){var e=t;return e.startsWith("https_")?e=e.replace(/^https_/,"https:"):e.startsWith("http_")&&(e=e.replace(/^https_/,"http:")),e},vi=n(64);function yi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var gi=.85,bi=function(t,e){if(e[t])return e[t].legendTitle;if(t.startsWith("gt-nuc"))return"Genotype at Nuc. ".concat(t.split("_")[1]);if(t.startsWith("gt-")){var n=t.split("-")[1].split("_");return"Genotype at ".concat(n[0]," pos ").concat(n[1])}return pi(t)},_i=function(t,e){return{y:Object(ur.a)().domain([0,e]).range([t.height-t.spaceBottom,t.spaceTop]),numTicksY:5}},wi=function(t,e,n){!function(t){t.selectAll(".y.axis").remove()}(t),t.append("g").attr("class","y axis").attr("transform","translate(".concat(e.spaceLeft,",0)")).style("font-family",u.c).style("font-size","12px").call(wr(n.y).ticks(n.numTicksY))};function xi(){Jn(this).attr("opacity",1)}function Ei(){Jn(this).attr("opacity",gi),Jn("#freqinfo").style("visibility","hidden"),Jn("#vline").style("visibility","hidden")}var Si,Ti=function(t){var e=t.matrix,n=t.pivots,r=t.colorScale,i=function(t,e){for(var n=e.legendValues.filter(function(t){return void 0!==t}).reverse().map(function(t){return t.toString()}),r=n.length-1;r>=0;--r)-1===t.indexOf(n[r])&&n.splice(r,1);return t.length>n.length&&t.forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n}(Object.keys(e),r),o=function(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var o=[],a=0;a<e;a++)if(0===i)o.push([0,n[t[i]][a]]);else{var s=r[i-1][a][1];o.push([s,n[t[i]][a]+s])}r.push(o)}return r}(i,n.length,e);return{categories:i,series:o,maxY:function(t){return t[t.length-1].reduce(function(t,e){return Math.max(t,e[1])},0)}(o)}},ki=function(t,e,n,r){var i=n.categories,o=n.series,a=r.colorBy,s=r.colorScale,l=r.colorOptions,c=r.pivots;!function(t){t.selectAll("path").remove(),t.selectAll("line").remove(),t.selectAll("text").remove()}(t);var f=function(t,e){return function(n,r){return t[r]===vi.c?"rgb(190, 190, 190)":Object(xr.f)(e.scale(t[r])).toString()}}(i,s),h=function(t,e){return e.continuous?t.map(function(t){return t===vi.c?vi.c:"".concat(e.legendBounds[t][0].toFixed(2)," - ").concat(e.legendBounds[t][1].toFixed(2))}):t.slice()}(i,s),p=Fr().x(function(t,n){return e.x(c[n])}).y0(function(t){return e.y(t[0])}).y1(function(t){return e.y(t[1])});t.selectAll(".stream").data(o).enter().append("path").attr("d",p).attr("fill",f).attr("opacity",gi).on("mouseover",xi).on("mouseout",Ei).on("mousemove",function(t,n){var r=yi(Sn(this),1)[0],i=e.x.invert(r),o=c.reduce(function(t,e,n,r){return Math.abs(e-i)<Math.abs(r[t]-i)?n:t},0),s=Math.round(100*(t[o][1]-t[o][0]))+"%",u=e.x(c[o]);Jn("#vline").style("visibility","visible").attr("x1",u).attr("x2",u);var f=r>.5*e.x.range()[1]?"":"".concat(r+4,"px"),p=r>.5*e.x.range()[1]?"".concat(e.x.range()[1]-r-4,"px"):"";Jn("#freqinfo").style("left",f).style("right",p).style("top","".concat(70,"px")).style("visibility","visible").html("<p>".concat(bi(a,l),": ").concat(pi(h[n]),"</p>\n        <p>Time point: ").concat(c[o],"</p>\n        <p>Frequency: ").concat(s,"</p>"))}),t.append("line").attr("id","vline").attr("y1",e.y(1)).attr("y2",e.y(0)).style("visibility","hidden").style("pointer-events","none").style("stroke","hsla(0,0%,100%,.9)").style("stroke-width","5"),function(t,e,n,r,i){var o=function(t,e,n,r){return t.map(function(t){for(var i=.15*n.y.domain()[1],o=0;o<t.length-r;o++){var a=o+r;if(t[o][1]-t[o][0]>i&&t[a][1]-t[a][0]>i)return[n.x(e[o+1]),(n.y((t[o][1]+t[o][0])/2)+n.y((t[a][1]+t[a][0])/2))/2]}return[void 0,void 0]})}(e,n,i,3);t.selectAll(".streamLabels").data(r).enter().append("text").attr("x",function(t,e){return o[e][0]}).attr("y",function(t,e){return o[e][1]}).style("pointer-events","none").style("fill","white").style("font-family",u.c).style("font-size",14).style("alignment-baseline","middle").text(function(t,e){return o[e][0]?pi(t):""})}(t,o,c,h,e)};n(232);function Oi(t){return(Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ci(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Mi(t,e,n[e])})}return t}function Mi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pi(t,e){return!e||"object"!==Oi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ji(t){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Li(t,e){return(Li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Di=Object(s.b)(function(t){return{data:t.frequencies.data,pivots:t.frequencies.pivots,ticks:t.frequencies.ticks,matrix:t.frequencies.matrix,version:t.frequencies.version,browserDimensions:t.browserDimensions.browserDimensions,colorBy:t.controls.colorBy,colorScale:t.controls.colorScale,colorOptions:t.metadata.colorOptions}})(Si=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Pi(this,ji(e).call(this,t))).state={maxY:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Li(t,e)}(e,i.a.Component),function(t,e,n){e&&Ai(t.prototype,e),n&&Ai(t,n)}(e,[{key:"calcChartGeom",value:function(t,e){return{width:t,height:e,spaceLeft:40,spaceRight:10,spaceBottom:20,spaceTop:10}}},{key:"recomputeRedrawAll",value:function(t,e){var n=this.calcChartGeom(e.width,e.height),r=Ti(Ci({},e));t.maxY=r.maxY,t.categories=r.categories;var i=function(t,e,n){return{x:Object(ur.a)().domain([e[0],e[e.length-1]]).range([t.spaceLeft,t.width-t.spaceRight]),numTicksX:n.length}}(n,e.pivots,e.ticks),o=_i(n,r.maxY);t.scales=Ci({},i,o),function(t,e,n){!function(t){t.selectAll(".x.axis").remove()}(t),t.append("g").attr("class","x axis").attr("transform","translate(0,".concat(e.height-e.spaceBottom,")")).style("font-family",u.c).style("font-size","12px").call(_r(n.x).ticks(n.numTicksX,".1f"))}(t.svg,n,i),wi(t.svg,n,o),ki(t.svgStreamGroup,t.scales,r,Ci({},e))}},{key:"recomputeRedrawPartial",value:function(t,e,n){var r=Ti(Ci({},n)),i=t.maxY!==r.maxY,o=!function(t,e){return t.length===e.length&&!t.filter(function(t,n){return t!==e[n]}).length}(t.categories,r.categories);if(!i&&!o)return!1;var a,s=this.calcChartGeom(n.width,n.height);if(i){var u=_i(s,r.maxY);wi(t.svg,s,u),a=Ci({},t.scales,u)}else a=Ci({},t.scales);return ki(t.svgStreamGroup,a,r,Ci({},n)),Ci({},t,{scales:a,maxY:r.maxY,categories:r.categories})}},{key:"componentDidMount",value:function(){var t=Jn(this.domRef),e={svg:t,svgStreamGroup:t.append("g")};this.props.matrix&&this.recomputeRedrawAll(e,this.props),this.setState(e)}},{key:"componentWillReceiveProps",value:function(t){if(this.props.version===t.version);else if(!this.props.loaded&&t.loaded){var e=Ci({},this.state);this.recomputeRedrawAll(e,t),this.setState(e)}else{var n=this.recomputeRedrawPartial(this.state,this.props,t);n&&this.setState(n)}}},{key:"componentDidUpdate",value:function(t){if(t.width!==this.props.width||t.height!==this.props.height){var e=Ci({},this.state);this.recomputeRedrawAll(e,this.props),this.setState(e)}}},{key:"render",value:function(){var t=this;return i.a.createElement(sr,{title:"Frequencies (coloured by ".concat(bi(this.props.colorBy,this.props.colorOptions),")")},i.a.createElement("div",{id:"freqinfo",style:{zIndex:20,position:"absolute",borderRadius:"5px",padding:"10px",backgroundColor:"hsla(0,0%,100%,.9)",pointerEvents:"none",visibility:"hidden",fontSize:"14px"}}),i.a.createElement("svg",{style:{pointerEvents:"auto"},width:this.props.width,height:this.props.height,id:"d3frequenciesSVG"},i.a.createElement("g",{ref:function(e){t.domRef=e},id:"d3frequencies"})))}}]),e}())||Si,Ni=n(47),Bi={value:function(){}};function Ii(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Fi(r)}function Fi(t){this._=t}function Ri(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function zi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Bi,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Fi.prototype=Ii.prototype={constructor:Fi,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=zi(r[n],t.name,e);else if(null==e)for(n in r)r[n]=zi(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Ri(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Fi(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Vi=Ii;var Wi=function(){vn.preventDefault(),vn.stopImmediatePropagation()},Ui=function(t){var e=t.document.documentElement,n=Jn(t).on("dragstart.drag",Wi,!0);"onselectstart"in e?n.on("selectstart.drag",Wi,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function qi(t,e){var n=t.document.documentElement,r=Jn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Wi,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Hi(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}Hi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Gi,Zi,Ki=n(13),Yi=0,$i=0,Xi=0,Ji=1e3,Qi=0,to=0,eo=0,no="object"==typeof performance&&performance.now?performance:Date,ro="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function io(){return to||(ro(oo),to=no.now()+eo)}function oo(){to=0}function ao(){this._call=this._time=this._next=null}function so(t,e,n){var r=new ao;return r.restart(t,e,n),r}function uo(){io(),++Yi;for(var t,e=Gi;e;)(t=to-e._time)>=0&&e._call.call(null,t),e=e._next;--Yi}function lo(){to=(Qi=no.now())+eo,Yi=$i=0;try{uo()}finally{Yi=0,function(){var t,e,n=Gi,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Gi=e);Zi=t,fo(r)}(),to=0}}function co(){var t=no.now(),e=t-Qi;e>Ji&&(eo-=e,Qi=t)}function fo(t){Yi||($i&&($i=clearTimeout($i)),t-to>24?(t<1/0&&($i=setTimeout(lo,t-no.now()-eo)),Xi&&(Xi=clearInterval(Xi))):(Xi||(Qi=no.now(),Xi=setInterval(co,Ji)),Yi=1,ro(lo)))}ao.prototype=so.prototype={constructor:ao,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?io():+n)+(null==e?0:+e),this._next||Zi===this||(Zi?Zi._next=this:Gi=this,Zi=this),this._call=t,this._time=n,fo()},stop:function(){this._call&&(this._call=null,this._time=1/0,fo())}};var ho=function(t,e,n){var r=new ao;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},po=Vi("start","end","interrupt"),mo=[],vo=0,yo=1,go=2,bo=3,_o=4,wo=5,xo=6,Eo=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,c,f,h;if(n.state!==yo)return s();for(l in i)if((h=i[l]).name===n.name){if(h.state===bo)return ho(o);h.state===_o?(h.state=xo,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<e&&(h.state=xo,h.timer.stop(),delete i[l])}if(ho(function(){n.state===bo&&(n.state=_o,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=go,n.on.call("start",t,t.__data__,n.index,n.group),n.state===go){for(n.state=bo,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=wo,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===wo&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=xo,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=so(function(t){n.state=yo,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:po,tween:mo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:vo})};function So(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>vo)throw new Error("too late");return n}function To(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>go)throw new Error("too late");return n}function ko(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}var Oo=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>go&&n.state<wo,n.state=xo,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function Co(t,e,n){var r=t._id;return t.each(function(){var t=To(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ko(t,r).value[e]}}var Mo=function(t,e){var n;return("number"==typeof e?Ki.d:e instanceof xr.a?Ki.e:(n=Object(xr.a)(e))?(e=n,Ki.e):Ki.g)(t,e)};var Ao=Xn.prototype.constructor;var Po=0;function jo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Lo(){return++Po}var Do=Xn.prototype;function No(t){return+t}jo.prototype=function(t){return Xn().transition(t)}.prototype={constructor:jo,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=kn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u=t.call(s,s.__data__,h,l))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,Eo(f[h],e,n,h,f,ko(s,n)));return new jo(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Cn(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var h,p=t.call(u,u.__data__,f,l),d=ko(u,n),m=0,v=p.length;m<v;++m)(h=p[m])&&Eo(h,e,n,m,p,d);o.push(p),a.push(u)}return new jo(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=dn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new jo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new jo(a,this._parents,this._name,this._id)},selection:function(){return new Ao(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Lo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=ko(a,e);Eo(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new jo(r,this._parents,t,n)},call:Do.call,nodes:Do.nodes,node:Do.node,size:Do.size,empty:Do.empty,each:Do.each,on:function(t,e){var n=this._id;return arguments.length<2?ko(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?So:To;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=sn(t),r="transform"===n?Ki.i:Mo;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,r,Co(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=sn(t);return this.tween(n,(r.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Ki.h:Mo;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Nn(this).getComputedStyle(this,null),a=o.getPropertyValue(t),s=(this.style.removeProperty(t),o.getPropertyValue(t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,i,o;return function(){var a=Nn(this).getComputedStyle(this,null),s=a.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=a.getPropertyValue(t)),s===u?null:s===r&&u===i?o:o=e(r=s,i=u)}}(t,r,Co(this,"style."+t,e)):function(t,e,n){var r,i;return function(){var o=Nn(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===r?i:i=e(r=o,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Co(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ko(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=To(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=To(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){So(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){So(this,t).delay=e}})(e,t)):ko(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){To(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){To(this,t).duration=e}})(e,t)):ko(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){To(this,t).ease=e}}(e,t)):ko(this.node(),e).ease}};(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI;(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var Bo=2*Math.PI,Io=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Bo);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Bo)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Bo);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Bo)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Bo);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Bo)},i.period=function(n){return t(e,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function Fo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Io.time=io(),Io;return n}Xn.prototype.interrupt=function(t){return this.each(function(){Oo(this,t)})},Xn.prototype.transition=function(t){var e,n;t instanceof jo?(e=t._id,t=t._name):(e=Lo(),(n=Io).time=io(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Eo(a,t,e,l,s,n||Fo(a,e));return new jo(r,this._parents,t,e)};var Ro=function(t){return function(){return t}};function zo(t,e,n){this.k=t,this.x=e,this.y=n}zo.prototype={constructor:zo,scale:function(t){return 1===t?this:new zo(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new zo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vo=new zo(1,0,0);function Wo(){vn.stopImmediatePropagation()}zo.prototype;var Uo=function(){vn.preventDefault(),vn.stopImmediatePropagation()};function qo(){return!vn.button}function Ho(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Go(){return this.__zoom||Vo}var Zo=function(t){return function(){return t}},Ko=function(t,e,n){this.target=t,this.type=e,this.selection=n};function Yo(){vn.stopImmediatePropagation()}var $o=function(){vn.preventDefault(),vn.stopImmediatePropagation()},Xo={name:"drag"},Jo={name:"space"},Qo={name:"handle"},ta={name:"center"},ea={name:"x",handles:["e","w"].map(ua),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},na={name:"y",handles:["n","s"].map(ua),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ra=(["n","e","s","w","nw","ne","se","sw"].map(ua),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),ia={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},oa={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},aa={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},sa={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ua(t){return{type:t}}function la(){return!vn.button}function ca(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function fa(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function ha(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function pa(t){var e,n=ca,r=la,i=Vi(a,"start","brush","end"),o=6;function a(e){var n=e.property("__brush",f).selectAll(".overlay").data([ua("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ra.overlay).merge(n).each(function(){var t=fa(this).extent;Jn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([ua("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ra.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return ra[t.type]}),e.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",c)}function s(){var t=Jn(this),e=fa(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-o/2:e[0][0]-o/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-o/2:e[0][1]-o/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+o:o}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+o:o})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e){return t.__brush.emitter||new l(t,e)}function l(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function c(){if(vn.touches){if(vn.changedTouches.length<vn.touches.length)return $o()}else if(e)return;if(r.apply(this,arguments)){var n,i,o,a,l,c,f,h,p,d,m,v,y,g=this,b=vn.target.__data__.type,_="selection"===(vn.metaKey?b="overlay":b)?Xo:vn.altKey?ta:Qo,w=t===na?null:aa[b],x=t===ea?null:sa[b],E=fa(g),S=E.extent,T=E.selection,k=S[0][0],O=S[0][1],C=S[1][0],M=S[1][1],A=w&&x&&vn.shiftKey,P=Sn(g),j=P,L=u(g,arguments).beforestart();"overlay"===b?E.selection=T=[[n=t===na?k:P[0],o=t===ea?O:P[1]],[l=t===na?C:n,f=t===ea?M:o]]:(n=T[0][0],o=T[0][1],l=T[1][0],f=T[1][1]),i=n,a=o,c=l,h=f;var D=Jn(g).attr("pointer-events","none"),N=D.selectAll(".overlay").attr("cursor",ra[b]);if(vn.touches)D.on("touchmove.brush",I,!0).on("touchend.brush touchcancel.brush",R,!0);else{var B=Jn(vn.view).on("keydown.brush",function(){switch(vn.keyCode){case 16:A=w&&x;break;case 18:_===Qo&&(w&&(l=c-p*w,n=i+p*w),x&&(f=h-d*x,o=a+d*x),_=ta,F());break;case 32:_!==Qo&&_!==ta||(w<0?l=c-p:w>0&&(n=i-p),x<0?f=h-d:x>0&&(o=a-d),_=Jo,N.attr("cursor",ra.selection),F());break;default:return}$o()},!0).on("keyup.brush",function(){switch(vn.keyCode){case 16:A&&(v=y=A=!1,F());break;case 18:_===ta&&(w<0?l=c:w>0&&(n=i),x<0?f=h:x>0&&(o=a),_=Qo,F());break;case 32:_===Jo&&(vn.altKey?(w&&(l=c-p*w,n=i+p*w),x&&(f=h-d*x,o=a+d*x),_=ta):(w<0?l=c:w>0&&(n=i),x<0?f=h:x>0&&(o=a),_=Qo),N.attr("cursor",ra[b]),F());break;default:return}$o()},!0).on("mousemove.brush",I,!0).on("mouseup.brush",R,!0);Ui(vn.view)}Yo(),Oo(g),s.call(g),L.start()}function I(){var t=Sn(g);!A||v||y||(Math.abs(t[0]-j[0])>Math.abs(t[1]-j[1])?y=!0:v=!0),j=t,m=!0,$o(),F()}function F(){var t;switch(p=j[0]-P[0],d=j[1]-P[1],_){case Jo:case Xo:w&&(p=Math.max(k-n,Math.min(C-l,p)),i=n+p,c=l+p),x&&(d=Math.max(O-o,Math.min(M-f,d)),a=o+d,h=f+d);break;case Qo:w<0?(p=Math.max(k-n,Math.min(C-n,p)),i=n+p,c=l):w>0&&(p=Math.max(k-l,Math.min(C-l,p)),i=n,c=l+p),x<0?(d=Math.max(O-o,Math.min(M-o,d)),a=o+d,h=f):x>0&&(d=Math.max(O-f,Math.min(M-f,d)),a=o,h=f+d);break;case ta:w&&(i=Math.max(k,Math.min(C,n-p*w)),c=Math.max(k,Math.min(C,l+p*w))),x&&(a=Math.max(O,Math.min(M,o-d*x)),h=Math.max(O,Math.min(M,f+d*x)))}c<i&&(w*=-1,t=n,n=l,l=t,t=i,i=c,c=t,b in ia&&N.attr("cursor",ra[b=ia[b]])),h<a&&(x*=-1,t=o,o=f,f=t,t=a,a=h,h=t,b in oa&&N.attr("cursor",ra[b=oa[b]])),E.selection&&(T=E.selection),v&&(i=T[0][0],c=T[1][0]),y&&(a=T[0][1],h=T[1][1]),T[0][0]===i&&T[0][1]===a&&T[1][0]===c&&T[1][1]===h||(E.selection=[[i,a],[c,h]],s.call(g),L.brush())}function R(){if(Yo(),vn.touches){if(vn.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),D.on("touchmove.brush touchend.brush touchcancel.brush",null)}else qi(vn.view,m),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),N.attr("cursor",ra.overlay),E.selection&&(T=E.selection),ha(T)&&(E.selection=null,s.call(g)),L.end()}}function f(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return a.move=function(e,n){e.selection?e.on("start.brush",function(){u(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){u(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,i=u(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),l=Object(Ki.a)(o,a);function c(t){r.selection=1===t&&ha(a)?null:l(t),s.call(e),i.brush()}return o&&a?c:c(1)}):e.each(function(){var e=arguments,r=this.__brush,i=t.input("function"==typeof n?n.apply(this,e):n,r.extent),o=u(this,e).beforestart();Oo(this),r.selection=null==i||ha(i)?null:i,s.call(this),o.start().brush().end()})},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){wn(new Ko(a,e,t.output(this.state.selection)),i.apply,i,[e,this.that,this.args])}},a.extent=function(t){return arguments.length?(n="function"==typeof t?t:Zo([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),a):n},a.filter=function(t){return arguments.length?(r="function"==typeof t?t:Zo(!!t),a):r},a.handleSize=function(t){return arguments.length?(o=+t,a):o},a.on=function(){var t=i.on.apply(i,arguments);return t===i?a:t},a}var da=n(105),ma=n.n(da),va=n(84),ya=function(t,e,n,r,i){this.svg=Jn(t),this.annotations=e,this.geneMap=n,this.maxNt=r,this.callbacks=i,this.okToDrawBars=!1};ya.prototype.render=function(t){this.props=t,this.aa="aa"===t.mutType,this.bars=t.bars,this.selectedNodes=t.colorBy.startsWith("gt")?this._getSelectedNodes(Object(va.a)(t.colorBy,t.geneLength)):[],this.svg.selectAll("*").remove(),this._calcOffsets(t.width,t.height),this._drawMainNavElements(),this._addZoomLayers(),this._setScales(this.maxNt+1,t.maxYVal),this.zoomCoordinates=t.colorBy.startsWith("gt")?this._getZoomCoordinates(Object(va.a)(t.colorBy,t.geneLength),t.geneMap):this.scales.xNav.domain(),this.zoomCoordinates[0]=t.zoomMin?t.zoomMin:this.zoomCoordinates[0],this.zoomCoordinates[1]=t.zoomMax?t.zoomMax:this.zoomCoordinates[1],this._drawAxes(),this._addBrush(),this._addClipMask(),this._drawGenes(this.annotations),this._drawZoomGenes(this.annotations),this.okToDrawBars=!0,this._drawBars(),this.zoomed=this._createZoomFn()},ya.prototype.update=function(t){var e=this,n=t.aa,r=void 0===n?void 0:n,i=t.selected,o=void 0===i?void 0:i,a=t.newBars,s=void 0===a?void 0:a,u=t.maxYVal,l=void 0===u?void 0:u,c=t.clearSelected,f=void 0!==c&&c,h=t.gene,p=void 0===h?void 0:h,d=t.start,m=void 0===d?void 0:d,v=t.end,y=void 0===v?void 0:v,g=t.zoomMax,b=void 0===g?void 0:g,_=t.zoomMin,w=void 0===_?void 0:_,x=void 0!==r&&r!==this.aa;if((s||x)&&(x&&(this.aa=r),s&&(this.bars=s),this._updateYScaleAndAxis(l),this._drawBars()),void 0!==o?(this._clearSelectedBars(),this.selectedNodes=this._getSelectedNodes(o),this._highlightSelectedBars()):f&&this._clearSelectedBars(),void 0!==p&&void 0!==m&&void 0!==y){var E="nuc"===p?0:1*(y-m);this.navGraph.select(".brush").call(this.brush.move,function(){return[Math.max(e.scales.xNav(m-E),e.scales.xNav(0)),Math.min(e.scales.xNav(y+E),e.scales.xNav(e.scales.xNav.domain()[1]))]})}if(void 0!==w||void 0!==b){var S=void 0===w?0:w,T=void 0===b?this.scales.xNav.domain()[1]:b;this.navGraph.select(".brush").call(this.brush.move,function(){return[e.scales.xNav(S),e.scales.xNav(T)]})}},ya.prototype._aaToNtCoord=function(t,e){return this.geneMap[t].start+3*e},ya.prototype._getZoomCoordinates=function(t,e){var n=[0,this.scales.xNav.domain()[1]],r=0;if(t[0].aa){var i=t[0].prot;r=1*((n=[e[i].start,e[i].end])[1]-n[0])}else{var o=this.scales.xNav.domain()[1];if(1===t[0].positions.length){var a=t[0].positions[0],s=.05*o;n=a-s<=0?[0,a+s]:a+s>=o?[a-s,o]:[a-s,a+s]}else{var u=Math.min.apply(null,t[0].positions),l=Math.max.apply(null,t[0].positions);n=[u-.05*(l-u),l+.05*(l-u)]}}return[Math.max(n[0]-r,0),Math.min(n[1]+r,this.scales.xNav.domain()[1])]},ya.prototype._getSelectedNodes=function(t){if(this.aa===t[0].aa){var e=[];if(this.aa){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=!0,c=!1,f=void 0;try{for(var h,p=u.positions[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var d=h.value;n.push([u.prot,d])}}catch(t){c=!0,f=t}finally{try{l||null==p.return||p.return()}finally{if(c)throw f}}}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}var m=!0,v=!1,y=void 0;try{for(var g,b=this.bars[Symbol.iterator]();!(m=(g=b.next()).done);m=!0)for(var _=g.value,w=0;w<n.length;w++){var x=n[w];_.prot===x[0]&&_.codon===x[1]&&e.push(_)}}catch(t){v=!0,y=t}finally{try{m||null==b.return||b.return()}finally{if(v)throw y}}}else{var E=!0,S=!1,T=void 0;try{for(var k,O=this.bars[Symbol.iterator]();!(E=(k=O.next()).done);E=!0){var C=k.value;-1!==t[0].positions.indexOf(C.x)&&e.push(C)}}catch(t){S=!0,T=t}finally{try{E||null==O.return||O.return()}finally{if(S)throw T}}}return e}console.error("entropy out of sync")},ya.prototype._drawZoomGenes=function(t){var e=this;this.geneGraph.selectAll("*").remove();var n=t.filter(function(t){return-1===t.readingFrame}),r=0!==n.length&&n.length!==t.length,i=this.scales.xNav.domain()[1]-this.scales.xNav.domain()[0]<1e6?"white":"black",o=function(t){return r?-1===t?20:0:10},a=t.filter(function(t){return t.start<e.scales.xMain.domain()[1]&&t.start>e.scales.xMain.domain()[0]||t.end>e.scales.xMain.domain()[0]&&t.end<e.scales.xMain.domain()[1]||t.start<=e.scales.xMain.domain()[0]&&t.end>=e.scales.xMain.domain()[1]}),s=function(t){return t.start>e.scales.xMain.domain()[0]?e.scales.xMain(t.start):e.offsets.x1},u=function(t){return t.end<e.scales.xMain.domain()[1]?e.scales.xMain(t.end):e.offsets.x2},l=this.geneGraph.selectAll(".gene").data(a).enter().append("g");l.append("rect").attr("class","gene").attr("x",function(t){return s(t)}).attr("y",function(t){return o(t.readingFrame)}).attr("width",function(t){return u(t)-s(t)}).attr("height",20).style("fill",function(t){return t.fill}).style("stroke",function(){return i}),l.append("text").attr("x",function(t){return e.scales.xMain(t.start)+(e.scales.xMain(t.end)-e.scales.xMain(t.start))/2}).attr("y",function(t){return o(t.readingFrame)+5}).attr("dy",".7em").attr("text-anchor","middle").style("fill",function(){return"white"}).text(function(t){return u(t)-s(t)>15?t.prot:""})},ya.prototype._drawGenes=function(t){var e=this,n=this.scales.xNav.domain()[1]-this.scales.xNav.domain()[0]<1e6?"white":"black",r=this.navGraph.selectAll(".gene").data(t).enter().append("g");r.append("rect").attr("class","gene").attr("x",function(t){return e.scales.xNav(t.start)}).attr("y",function(t){return t.readingFrame,5}).attr("width",function(t){return e.scales.xNav(t.end)-e.scales.xNav(t.start)}).attr("height",20).style("fill",function(t){return t.fill}).style("stroke",function(){return n}),r.append("text").attr("x",function(t){return e.scales.xNav(t.start)+(e.scales.xNav(t.end)-e.scales.xNav(t.start))/2}).attr("y",function(t){return t.readingFrame,10}).attr("dy",".7em").attr("text-anchor","middle").style("fill",function(){return"white"}).text(function(t){return function(t){return t.end<e.scales.xNav.domain()[1]?e.scales.xNav(t.end):e.offsets.x2}(t)-function(t){return t.start>e.scales.xNav.domain()[0]?e.scales.xNav(t.start):e.offsets.x1}(t)>10?t.prot:""})},ya.prototype._clearSelectedBars=function(){var t=this,e=!0,n=!1,r=void 0;try{for(var i,o=this.selectedNodes[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=this.aa?"#prot".concat(a.prot).concat(a.codon):"#nt".concat(a.x),l=this.aa?function(e){return t.geneMap[e.prot].idx%2?u.k:u.b}:function(e){return e.prot?t.geneMap[e.prot].idx%2?u.k:u.b:u.h};Jn(s).style("fill",l)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}this.selectedNodes=[]},ya.prototype._highlightSelectedBars=function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.selectedNodes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;if(this.aa&&!o.prot)return;var a=this.aa?"#prot".concat(o.prot).concat(o.codon):"#nt".concat(o.x),s=this.aa?this.geneMap[o.prot].fill:o.prot?this.geneMap[o.prot].fill:"red";Jn(a).style("fill",s)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}},ya.prototype._drawBars=function(){var t=this;if(this.okToDrawBars){this.mainGraph.selectAll("*").remove();var e=this.scales.xMain.domain()[1]-this.scales.xMain.domain()[0];this.aa&&(e/=3);var n=e>1e4?2:e>1e3?2:e>100?3:5,r=this.mainGraph.append("g").attr("clip-path","url(#clip)").selectAll(".bar"),i=this.aa?function(t){return"prot"+t.prot+t.codon}:function(t){return"nt"+t.x},o=this.aa?function(e){return t.scales.xMain(t._aaToNtCoord(e.prot,e.codon))}:function(e){return t.scales.xMain(e.x)},a=this.aa?function(e){return t.geneMap[e.prot].idx%2?u.k:u.b}:function(e){return e.prot?t.geneMap[e.prot].idx%2?u.k:u.b:u.h};r.data(this.bars).enter().append("rect").attr("class","bar").attr("id",i).attr("x",o).attr("y",function(e){return t.scales.y(e.y)}).attr("width",n).attr("height",function(e){return t.offsets.heightMain-t.scales.y(e.y)}).style("fill",a).on("mouseover",function(e){t.callbacks.onHover(e,vn.pageX,vn.pageY)}).on("mouseout",function(e){t.callbacks.onLeave(e)}).on("click",function(e){t.callbacks.onClick(e)}).style("cursor","pointer"),this._highlightSelectedBars()}},ya.prototype._setScales=function(t,e){this.scales={},this.scales.xMax=t,this.scales.yMax=e,this.scales.yMin=0,this.scales.xMin=0,this.scales.xMain=Object(ur.a)().domain([0,t]).range([this.offsets.x1,this.offsets.x2]),this.scales.xNav=Object(ur.a)().domain([0,t]).range([this.offsets.x1,this.offsets.x2]),this.scales.y=Object(ur.a)().domain([this.scales.yMin,1.2*e]).range([this.offsets.y2Main,this.offsets.y1Main])},ya.prototype._drawAxes=function(){this.axes={},this.axes.y=wr(this.scales.y).ticks(4),this.axes.xMain=_r(this.scales.xMain).ticks(16),this.axes.xNav=_r(this.scales.xNav).ticks(20,",f"),this.scales.xNav.domain()[1]-this.scales.xNav.domain()[0]>1e6&&this.axes.xNav.tickFormat(Object(Ni.a)(".1e")),this.svg.append("g").attr("class","y axis").attr("id","entropyYAxis").attr("transform","translate("+(this.offsets.x1+15)+","+this.offsets.y1Main+")").call(this.axes.y),this.svg.append("g").attr("class","xMain axis").attr("transform","translate("+this.offsets.x1+","+this.offsets.y2Main+")").call(this.axes.xMain),this.svg.append("g").attr("class","xNav axis").attr("transform","translate("+this.offsets.x1+","+this.offsets.y2Nav+")").call(this.axes.xNav)},ya.prototype._updateYScaleAndAxis=function(t){this.scales.y=Object(ur.a)().domain([this.scales.yMin,1.2*t]).range([this.offsets.y2Main,this.offsets.y1Main]),this.axes.y=wr(this.scales.y).ticks(4),this.svg.select("#entropyYAxis").remove(),this.svg.append("g").attr("class","y axis").attr("id","entropyYAxis").attr("transform","translate("+(this.offsets.x1+15)+","+this.offsets.y1Main+")").call(this.axes.y)},ya.prototype._calcOffsets=function(t,e){this.offsets={x1:15,x2:t-32,y1Main:0,y1Nav:e-65,y2Main:e-130,y2Nav:e-35,y1Gene:e-107,y2Gene:e-95},this.offsets.heightMain=this.offsets.y2Main-this.offsets.y1Main,this.offsets.heightNav=this.offsets.y2Nav-this.offsets.y1Nav,this.offsets.heightGene=this.offsets.y2Gene-this.offsets.y1Gene,this.offsets.width=this.offsets.x2-this.offsets.x1},ya.prototype._addBrush=function(){var t=this;this.brushed=function(){var t=this,e=(vn.selection||this.scales.xNav.range()).map(this.scales.xNav.invert,this.scales.xNav);this.zoomCoordinates=e.map(Math.round),vn.selection?this._zoom(e[0],e[1]):this.navGraph.select(".brush").call(this.brush.move,function(){return t.zoomCoordinates=t.scales.xNav.range().map(Math.round),t.scales.xNav.range()})},this.brushFinished=function(){this.brushed(),vn.sourceEvent instanceof MouseEvent&&(!vn.selection||"d3entropyParent"===vn.sourceEvent.target.id||""===vn.sourceEvent.target.id)?this.props.dispatch(Object(E.b)(this.zoomCoordinates)):this.props.dispatch(Object(E.b)([void 0,void 0]))},this._zoom=function(t,e){var n=this,r=[t,e];this.scales.xMain.domain(r),this.axes.xMain=this.axes.xMain.scale(this.scales.xMain),this.svg.select(".xMain.axis").call(this.axes.xMain),this._drawBars(),this._drawZoomGenes(this.annotations),this.brushHandle&&this.brushHandle.attr("display",null).attr("transform",function(t,e){return"translate("+n.scales.xNav(r[e])+","+(n.offsets.heightNav+25)+")"})},this.brush=pa(ea).extent([[this.offsets.x1,0],[this.offsets.width+20,this.offsets.heightNav-1+25]]).on("brush",function(){t.brushed()}).on("end",function(){t.brushFinished()}),this.gBrush=this.navGraph.append("g").attr("class","brush").attr("stroke-width",0).call(this.brush).call(this.brush.move,function(){return t.zoomCoordinates.map(t.scales.xNav)}),this.brushHandle=this.gBrush.selectAll(".handle--custom").data([{type:"w"},{type:"e"}]).enter().append("path").attr("class","handle--custom").attr("fill",u.b).attr("cursor","ew-resize").attr("d","M0,0 0,0 -5,11 5,11 0,0 Z").attr("transform",function(e){return"e"===e.type?"translate("+(t.scales.xNav(t.zoomCoordinates[1])-1)+","+(t.offsets.heightNav+25)+")":"translate("+(t.scales.xNav(t.zoomCoordinates[0])+1)+","+(t.offsets.heightNav+25)+")"})},ya.prototype._addZoomLayers=function(){var t=this,e=[[this.offsets.x1,this.offsets.y1Main],[this.offsets.width,this.offsets.y2Main]];this.zoom=function(){var t,e,n=qo,r=Ho,i=0,o=1/0,a=-o,s=o,u=a,l=s,c=250,f=Ki.j,h=[],p=Vi("start","zoom","end"),d=500,m=150;function v(t){t.on("wheel.zoom",S).on("mousedown.zoom",T).on("dblclick.zoom",k).on("touchstart.zoom",O).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Go)}function y(t,e){return(e=Math.max(i,Math.min(o,e)))===t.k?t:new zo(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new zo(t.k,r,i)}function b(t,e){var n=t.invertX(e[0][0])-a,r=t.invertX(e[1][0])-s,i=t.invertY(e[0][1])-u,o=t.invertY(e[1][1])-l;return t.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n){t.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=x(this,t),o=r.apply(this,t),a=n||_(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),u=this.__zoom,l="function"==typeof e?e.apply(this,t):e,c=f(u.invert(a).concat(s/u.k),l.invert(a).concat(s/l.k));return function(t){if(1===t)t=l;else{var e=c(t),n=s/e[2];t=new zo(n,a[0]-e[0]*n,a[1]-e[1]*n)}i.zoom(null,t)}})}function x(t,e){for(var n,r=0,i=h.length;r<i;++r)if((n=h[r]).that===t)return n;return new E(t,e)}function E(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=r.apply(t,e)}function S(){if(n.apply(this,arguments)){var t=x(this,arguments),e=this.__zoom,r=Math.max(i,Math.min(o,e.k*Math.pow(2,-vn.deltaY*(vn.deltaMode?120:1)/500))),a=Sn(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],Oo(this),t.start()}Uo(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},m),t.zoom("mouse",b(g(y(e,r),t.mouse[0],t.mouse[1]),t.extent))}}function T(){if(!e&&n.apply(this,arguments)){var t=x(this,arguments),r=Jn(vn.view).on("mousemove.zoom",function(){Uo(),t.moved=!0,t.zoom("mouse",b(g(t.that.__zoom,t.mouse[0]=Sn(t.that),t.mouse[1]),t.extent))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),qi(vn.view,t.moved),Uo(),t.end()},!0),i=Sn(this);Ui(vn.view),Wo(),t.mouse=[i,this.__zoom.invert(i)],Oo(this),t.start()}}function k(){if(n.apply(this,arguments)){var t=this.__zoom,e=Sn(this),i=t.invert(e),o=b(g(y(t,t.k*(vn.shiftKey?.5:2)),e,i),r.apply(this,arguments));Uo(),c>0?Jn(this).transition().duration(c).call(w,o,e):Jn(this).call(v.transform,o)}}function O(){if(n.apply(this,arguments)){var e,r,i,o,a=x(this,arguments),s=vn.changedTouches,u=s.length;for(Wo(),r=0;r<u;++r)i=s[r],o=[o=Qn(this,s,i.identifier),this.__zoom.invert(o),i.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!a.touch1))return a.end(),void((o=Jn(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout(function(){t=null},d),Oo(this),a.start())}}function C(){var e,n,r,i,o=x(this,arguments),a=vn.changedTouches,s=a.length;for(Uo(),t&&(t=clearTimeout(t)),e=0;e<s;++e)n=a[e],r=Qn(this,a,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],l=o.touch0[1],c=o.touch1[0],f=o.touch1[1],h=(h=c[0]-u[0])*h+(h=c[1]-u[1])*h,p=(p=f[0]-l[0])*p+(p=f[1]-l[1])*p;n=y(n,Math.sqrt(h/p)),r=[(u[0]+c[0])/2,(u[1]+c[1])/2],i=[(l[0]+f[0])/2,(l[1]+f[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",b(g(n,r,i),o.extent))}function M(){var t,n,r=x(this,arguments),i=vn.changedTouches,o=i.length;for(Wo(),e&&clearTimeout(e),e=setTimeout(function(){e=null},d),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return v.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Go),t!==n?w(t,e):n.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},v.scaleBy=function(t,e){v.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},v.scaleTo=function(t,e){v.transform(t,function(){var t=r.apply(this,arguments),n=this.__zoom,i=_(t),o=n.invert(i);return b(g(y(n,"function"==typeof e?e.apply(this,arguments):e),i,o),t)})},v.translateBy=function(t,e,n){v.transform(t,function(){return b(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments))})},E.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){wn(new function(t,e,n){this.target=t,this.type=e,this.transform=n}(v,t,this.that.__zoom),p.apply,p,[t,this.that,this.args])}},v.filter=function(t){return arguments.length?(n="function"==typeof t?t:Ro(!!t),v):n},v.extent=function(t){return arguments.length?(r="function"==typeof t?t:Ro([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):r},v.scaleExtent=function(t){return arguments.length?(i=+t[0],o=+t[1],v):[i,o]},v.translateExtent=function(t){return arguments.length?(a=+t[0][0],s=+t[1][0],u=+t[0][1],l=+t[1][1],v):[[a,u],[s,l]]},v.duration=function(t){return arguments.length?(c=+t,v):c},v.interpolate=function(t){return arguments.length?(f=t,v):f},v.on=function(){var t=p.on.apply(p,arguments);return t===p?v:t},v}().translateExtent(e).extent(e).on("zoom",function(){return t.zoomed()});var n=["option","shift"];ma.a.bind(n,function(){t.svg.append("rect").attr("class","overlay").attr("text","zoom").attr("transform","translate("+t.offsets.x1+","+t.offsets.y1Main+")").attr("width",t.offsets.width).attr("height",t.offsets.y2Nav+30-t.offsets.y1Main).call(t.zoom).on("wheel",function(){vn.preventDefault()})},"keydown"),ma.a.bind(n,function(){t.svg.selectAll(".overlay").remove(),t.svg.selectAll(".brush").remove(),t._addBrush()},"keyup")},ya.prototype._createZoomFn=function(){return function(){var t=this,e=vn.transform,n=this.zoomCoordinates[1]-this.zoomCoordinates[0],r=(n-n/e.k)/2,i=[Math.max(this.zoomCoordinates[0]+r,this.scales.xNav(0)),Math.min(this.zoomCoordinates[1]-r,this.scales.xNav.domain()[1])];i[1]-i[0]<500&&e.k>1||(this.zoomCoordinates=i,e.rescaleX(this.scales.xMain),this.axes.xMain=this.axes.xMain.scale(this.scales.xMain),this.svg.select(".xMain.axis").call(this.axes.xMain),this._drawBars(),this._drawZoomGenes(this.annotations),this.navGraph.select(".brush").call(this.brush.move,function(){return t.zoomCoordinates.map(t.scales.xNav)}))}},ya.prototype._drawMainNavElements=function(){this.mainGraph=this.svg.append("g").attr("class","main").attr("transform","translate("+this.offsets.x1+","+this.offsets.y1Main+")"),this.navGraph=this.svg.append("g").attr("class","nav").attr("transform","translate("+this.offsets.x1+","+this.offsets.y1Nav+")"),this.geneGraph=this.svg.append("g").attr("class","Gene").attr("transform","translate("+this.offsets.x1+","+this.offsets.y1Gene+")")},ya.prototype._addClipMask=function(){this.svg.append("g").append("clipPath").attr("class","clipPath").attr("transform","translate("+this.offsets.x1+","+this.offsets.y1Main+")").attr("id","clip").append("rect").attr("id","cliprect").attr("width",this.offsets.width).attr("height",this.offsets.heightMain)};var ga,ba,_a,wa=ya,xa=function(t){var e=t.hovered,n=t.width,r=t.height,o=t.mutType,a=t.showCounts;if(!e)return null;var s={container:{position:"absolute",width:200,padding:"10px",borderRadius:10,zIndex:1e3,pointerEvents:"none",fontFamily:u.g.panel.fontFamily,fontSize:14,lineHeight:1,fontWeight:u.g.panel.fontWeight,color:u.g.panel.color,backgroundColor:u.g.panel.backgroundColor,wordWrap:"break-word",wordBreak:"break-word"}},l=document.getElementById("entropyYAxis").getBoundingClientRect(),c={x:e.x-l.left+15,y:e.y-l.top};return c.x<.7*n?s.container.left=c.x:s.container.right=n-c.x,c.y<.5*r?s.container.top=c.y:s.container.bottom=r-c.y,i.a.createElement("div",{style:s.container},i.a.createElement("div",{className:"tooltip",style:u.g.tooltip},i.a.createElement("div",null,"aa"===o?"Codon ".concat(e.d.codon," in protein ").concat(e.d.prot):e.d.prot?"Nucleotide ".concat(e.d.x," (in protein ").concat(e.d.prot,")"):"Nucleotide ".concat(e.d.x)),i.a.createElement("p",null),i.a.createElement("div",null,a?"Num mutations: ".concat(e.d.y):"entropy: ".concat(e.d.y)),i.a.createElement("div",{style:u.g.comment},"Click to color tree & map")))};function Ea(t){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Ma(t,e,n[e])})}return t}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ka(t,e){return!e||"object"!==Ea(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oa(t){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ca(t,e){return(Ca=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ma(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Aa,Pa=Object(s.b)(function(t){return{mutType:t.controls.mutType,bars:t.entropy.bars,annotations:t.entropy.annotations,geneMap:t.entropy.geneMap,geneLength:t.controls.geneLength,maxYVal:t.entropy.maxYVal,showCounts:t.entropy.showCounts,loaded:t.entropy.loaded,colorBy:t.controls.colorBy,zoomMin:t.controls.zoomMin,zoomMax:t.controls.zoomMax,defaultColorBy:t.controls.defaults.colorBy,shouldReRender:!1,panelLayout:t.controls.panelLayout,narrativeMode:t.narrative.display}})((_a=ba=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ka(this,Oa(e).call(this,t))).state={hovered:!1,chart:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ca(t,e)}(e,i.a.Component),function(t,e,n){e&&Ta(t.prototype,e),n&&Ta(t,n)}(e,[{key:"onHover",value:function(t,e,n){this.setState({hovered:{d:t,type:".tip",x:e,y:n}})}},{key:"onLeave",value:function(){this.setState({hovered:!1})}},{key:"onClick",value:function(t){if(!this.props.narrativeMode){var e=function(t,e){return t?"gt-".concat(e.prot,"_").concat(e.codon):"gt-nuc_".concat(e.x)}("aa"===this.props.mutType,t);A("color-by-genotype"),this.props.dispatch(k(e)),this.setState({hovered:!1})}}},{key:"changeMutTypeCallback",value:function(t){t!==this.props.mutType&&(this.props.dispatch(k(this.props.defaultColorBy)),this.props.dispatch(Object(E.a)(t)))}},{key:"aaNtSwitch",value:function(t){var e=this;return this.props.narrativeMode?null:i.a.createElement("div",{style:Sa({},u.o,t.aaNtSwitch)},i.a.createElement("button",{key:1,style:"aa"===this.props.mutType?u.q:u.p,onClick:function(){return e.changeMutTypeCallback("aa")}},i.a.createElement("span",{style:t.switchTitle}," ","AA"," ")),i.a.createElement("button",{key:2,style:"aa"!==this.props.mutType?u.q:u.p,onClick:function(){return e.changeMutTypeCallback("nuc")}},i.a.createElement("span",{style:t.switchTitle}," ","NT"," ")))}},{key:"entropyCountSwitch",value:function(t){var e=this;return this.props.narrativeMode?null:i.a.createElement("div",{style:Sa({},u.o,t.entropyCountSwitch)},i.a.createElement("button",{key:1,style:this.props.showCounts?u.p:u.q,onClick:function(){return e.props.dispatch(Object(E.c)(!1))}},i.a.createElement("span",{style:t.switchTitle}," ","entropy"," ")),i.a.createElement("button",{key:2,style:this.props.showCounts?u.q:u.p,onClick:function(){return e.props.dispatch(Object(E.c)(!0))}},i.a.createElement("span",{style:t.switchTitle}," ","events"," ")))}},{key:"setUp",value:function(t){var e=new wa(this.d3entropy,t.annotations,t.geneMap,t.geneLength.nuc,{onHover:this.onHover.bind(this),onLeave:this.onLeave.bind(this),onClick:this.onClick.bind(this)});e.render(t),t.narrativeMode&&Jn(this.d3entropy).selectAll(".handle--custom").style("visibility","hidden"),this.setState({chart:e})}},{key:"componentDidMount",value:function(){this.props.loaded&&this.setUp(this.props)}},{key:"componentWillReceiveProps",value:function(t){if(t.loaded||this.setState({chart:!1}),this.state.chart){if(this.props.width!==t.width||this.props.height!==t.height)this.state.chart.render(t);else{var e={};if(this.props.zoomMax===t.zoomMax&&this.props.zoomMin===t.zoomMin||(e.zoomMax=t.zoomMax,e.zoomMin=t.zoomMin),this.props.bars!==t.bars&&(e.aa="aa"===t.mutType,e.newBars=t.bars,e.maxYVal=t.maxYVal),this.props.colorBy!==t.colorBy&&(this.props.colorBy.startsWith("gt")||t.colorBy.startsWith("gt")))if(t.colorBy.startsWith("gt")){if(t.colorBy.startsWith("gt-nuc")){var n,r,i=t.colorBy.split(/-|_/)[2].split(",").map(function(t){return parseInt(t,10)}),o=this.state.chart.zoomCoordinates,a=this.state.chart.maxNt;if(i.length>1){var s=Math.min.apply(null,i),u=Math.max.apply(null,i);n=s-.05*(u-s),r=u+.05*(u-s)}else{var l=i[0],c=.05*a,f=l-c<=0?[0,l+c]:l+c>=a?[l-c,a]:[l-c,l+c];n=f[0],r=f[1]}n>o[0]-.4*a&&n<o[0]+.4*a&&r>o[1]-.4*a&&r<o[1]+.4*a&&i.every(function(t){return t>o[0]})&&i.every(function(t){return t<o[1]})||(e.gene="nuc",e.start=n,e.end=r)}else e.gene=t.colorBy.split(/-|_/)[1],e.start=t.geneMap[e.gene].start,e.end=t.geneMap[e.gene].end;e.selected=Object(va.a)(t.colorBy,t.geneLength)}else e.clearSelected=!0;Object.keys(e).length&&this.state.chart.update(e)}this.props.narrativeMode!==t.narrativeMode&&(t.narrativeMode?Jn(this.d3entropy).selectAll(".handle--custom").style("visibility","hidden"):Jn(this.d3entropy).selectAll(".handle--custom").style("visibility","visible"))}else t.loaded&&this.setUp(t)}},{key:"render",value:function(){var t=this,e=function(t){return{switchContainer:{position:"absolute",marginTop:-5,paddingLeft:t-100},switchContainerWide:{position:"absolute",marginTop:-25,paddingLeft:t-185},switchTitle:{margin:5,position:"relative",top:-1},aaNtSwitch:{position:"absolute",right:5,top:0,zIndex:100},entropyCountSwitch:{position:"absolute",right:74,top:0,zIndex:100}}}(this.props.width);return i.a.createElement(sr,{title:"Diversity"},i.a.createElement(xa,{hovered:this.state.hovered,width:this.props.width,height:this.props.height,mutType:this.props.mutType,showCounts:this.props.showCounts}),i.a.createElement("svg",{id:"d3entropyParent",style:{pointerEvents:"auto"},width:this.props.width,height:this.props.height},i.a.createElement("g",{ref:function(e){t.d3entropy=e},id:"d3entropy"})),this.aaNtSwitch(e),this.entropyCountSwitch(e))}}]),e}(),Ma(ba,"propTypes",{dispatch:a.a.func.isRequired,entropy:a.a.object,loaded:a.a.bool.isRequired,colorBy:a.a.string,defaultColorBy:a.a.string,mutType:a.a.string.isRequired}),ga=_a))||ga,ja=n(27),La=n(58),Da=n(254),Na=function(t){t||(t=window.event),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},Ba=function(t,e){return i.a.createElement("tr",{key:t},i.a.createElement("th",{style:u.g.item},t),i.a.createElement("td",{style:u.g.item},e))},Ia=function(t){return"?"!==t&&void 0!==t&&"undefined"!==t},Fa=function(t,e){return e in t&&Ia(t[e])},Ra=function(t){var e=t.tip,n=t.goAwayCallback,r=t.metadata;if(!e)return null;var o=!!Fa(e.n.attr,"url")&&function(t){return void 0!==t&&t.startsWith("https_")?t.replace("https_","https:"):void 0!==t&&t.startsWith("http_")?t.replace("http_","http:"):t}(e.n.attr.url),a="num_date_confidence"in e.n.attr&&e.n.attr.num_date_confidence[0]!==e.n.attr.num_date_confidence[1],s=e.n.attr.authors||void 0,l={author:{n:null,title:null,journal:null,paper_url:null}};return r.author_info&&(l=r.author_info),i.a.createElement("div",{style:u.g.modalContainer,onClick:function(){return n(e)}},i.a.createElement("div",{className:"panel",style:u.g.panel,onClick:function(t){return Na(t)}},i.a.createElement("p",{style:u.g.modalHeading},"".concat(e.n.strain)),i.a.createElement("table",null,i.a.createElement("tbody",null,function(t){return t.n.vaccineDate?i.a.createElement("tr",null,i.a.createElement("th",null,"Vaccine strain"),i.a.createElement("td",null,t.n.vaccineDate)):null}(e),["country","region","division"].map(function(t){return Fa(e.n.attr,t)?Ba(pi(t),pi(e.n.attr[t])):null}),Ba(a?"Inferred collection date":"Collection date",pi(e.n.attr.date)),a?function(t){return Ba("Collection date confidence","(".concat(Object(tt.d)(t[0]),", ").concat(Object(tt.d)(t[1]),")"))}(e.n.attr.num_date_confidence):null,l[s]&&l[s].title&&Ia(l[s].title)?Ba("Publication",pi(l[s].title,{trim:80,camelCase:!1})):null,Fa(e.n.attr,"authors")?Ba("Authors",di(e.n.attr.authors)):null,o&&Fa(e.n.attr,"accession")?function(t,e){return i.a.createElement("tr",null,i.a.createElement("th",null,"Accession"),i.a.createElement("td",null,i.a.createElement("a",{href:t,target:"_blank"},e)))}(o,e.n.attr.accession):o?function(t){return i.a.createElement("tr",null,i.a.createElement("th",null,"URL"),i.a.createElement("td",null,i.a.createElement("a",{href:t,target:"_blank"},i.a.createElement("em",null,"click here"))))}(o):Fa(e.n.attr,"accession")?Ba("Accession",e.n.attr.accession):null)),i.a.createElement("p",{style:u.g.comment},"Click outside this box to go back to the tree")))},za=n(26),Va=function(t){var e=t.dispatch,n=t.transform,r=t.legendRectSize,o=t.legendSpacing,a=t.rectStroke,s=t.rectFill,l=t.label,c=t.value;return i.a.createElement("g",{transform:n,onMouseEnter:function(){e(Object(et.e)({selectedLegendItem:c}))},onMouseLeave:function(){e(Object(et.e)())}},i.a.createElement("rect",{style:{strokeWidth:2},width:r,height:r,fill:s,stroke:a}),i.a.createElement("text",{x:r+o+5,y:r-o,style:{fontSize:12,fill:u.b,fontFamily:u.c}},l))};function Wa(t){return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ua(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ha(t,e){return!e||"object"!==Wa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ga(t){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Za(t,e){return(Za=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ka=Object(s.b)(function(t){return{colorBy:t.controls.colorBy,colorOptions:t.metadata.colorOptions,colorScale:t.controls.colorScale}})(Aa=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ha(this,Ga(e).call(this,t))).state={legendVisible:!0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Za(t,e)}(e,i.a.Component),function(t,e,n){e&&qa(t.prototype,e),n&&qa(t,n)}(e,[{key:"componentWillMount",value:function(){this.updateLegendVisibility(this.props.width,this.props.colorScale)}},{key:"componentWillReceiveProps",value:function(t){this.props.width===t.width&&this.props.colorScale.version===t.colorScale.version||this.updateLegendVisibility(t.width,t.colorScale)}},{key:"updateLegendVisibility",value:function(t,e){t<600||e.legendValues.length>32?this.setState({legendVisible:!1}):this.setState({legendVisible:!0})}},{key:"getSVGHeight",value:function(){if(!this.state.legendVisible)return 18;var t=this.props.colorScale.legendValues.length;return Math.ceil(t/2)*(_.w+_.x)+_.x+20||100}},{key:"getSVGWidth",value:function(){return this.state.legendVisible?290:this.getTitleWidth()+20}},{key:"getTransformationForLegendItem",value:function(t){var e=this.props.colorScale.legendValues.length,n=Math.ceil(e/2);return"translate("+(145*Math.floor(t/n)+10)+","+t%n*(_.w+_.x)+")"}},{key:"getTitleString",value:function(){var t=Object(w.e)(this.props.colorBy);return t?"nuc"===t?"Genotype at position "+this.props.colorBy.replace("gt-","").replace("nuc_",""):"Genotype at "+this.props.colorBy.replace("gt-","").replace("_"," site "):void 0===this.props.colorOptions[this.props.colorBy]?"":this.props.colorOptions[this.props.colorBy].legendTitle}},{key:"getTitleWidth",value:function(){return 15+5.3*this.getTitleString().length}},{key:"toggleLegend",value:function(){var t=!this.state.legendVisible;this.setState({legendVisible:t})}},{key:"legendTitle",value:function(){return i.a.createElement("g",{id:"Title"},i.a.createElement("rect",{width:this.getTitleWidth(),height:"12",fill:"rgba(255,255,255,.85)"}),i.a.createElement("text",{x:5,y:10,style:{fontSize:12,fill:u.b,fontFamily:u.f,backgroundColor:"#fff"}},this.getTitleString()))}},{key:"legendChevron",value:function(){var t=this.state.legendVisible?-180:0,e=this.getTitleWidth();return i.a.createElement("g",{id:"Chevron",transform:"translate(".concat(e,",0)")},i.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 1792 1792"},i.a.createElement("rect",{width:"1792",height:"1792",fill:"rgba(255,255,255,.85)"}),i.a.createElement("path",{fill:u.b,style:{transform:"rotate(".concat(t,"deg)"),transformOrigin:"50% 50%",transition:"".concat(_.s,"ms ease-in-out")},d:"M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"})))}},{key:"styleLabelText",value:function(t){if("clade_membership"===this.props.colorBy)return t;if("num_date"===this.props.colorBy){var e=this.props.colorScale.legendValues;if(e[e.length-1]-e[0]>10&&e[e.length-1]-parseInt(t,10)>=10)return parseInt(t,10);var n=Ua(Object(tt.d)(t).split("-"),3),r=n[0],i=n[1];n[2];return"".concat(_.z[i]," ").concat(r)}return this.props.colorScale.continuous?t:pi(t)}},{key:"legendItems",value:function(){var t=this,e=this.props.colorScale.legendValues.filter(function(t){return void 0!==t}).map(function(e,n){return i.a.createElement(Va,{dispatch:t.props.dispatch,legendRectSize:_.w,legendSpacing:_.x,rectFill:Object(xr.f)(t.props.colorScale.scale(e)).brighter([.35]).toString(),rectStroke:Object(xr.f)(t.props.colorScale.scale(e)).toString(),transform:t.getTransformationForLegendItem(n),key:e,value:e,label:t.styleLabelText(e),index:n})});return i.a.createElement("g",{id:"ItemsContainer"},i.a.createElement("rect",{width:"290",height:this.getSVGHeight(),fill:"rgba(255,255,255,.85)"}),i.a.createElement("g",{id:"Items",transform:"translate(0,20)"},e))}},{key:"getStyles",value:function(){return{svg:{position:"absolute",left:5,top:26,borderRadius:4,zIndex:1e3}}}},{key:"render",value:function(){var t=this;if(!this.props.colorScale)return null;var e=this.getStyles();return i.a.createElement("svg",{id:"TreeLegendContainer",width:this.getSVGWidth(),height:this.getSVGHeight(),style:e.svg},this.legendItems(),i.a.createElement("g",{id:"TitleAndChevron",onClick:function(){return t.toggleLegend()},style:{cursor:"pointer"}},this.legendTitle(),this.legendChevron()))}}]),e}())||Aa,Ya=n(25),$a=function(t){return 1===t["stroke-width"]?0:t["stroke-width"]>6?t["stroke-width"]+6:2*t["stroke-width"]},Xa=function(t){var e=t.n.hidden;return e&&("always"===e||"timetree"===e&&"num_date"===t.that.distance||"divtree"===e&&"div"===t.that.distance)?"hidden":"visible"};function Ja(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Qa={attrs:{".tip":{r:function(t){return t.r},cx:function(t){return t.xTip},cy:function(t){return t.yTip}},".branch":{},".vaccineCross":{d:function(t){return t.vaccineCross}},".conf":{d:function(t){return t.confLine}}},styles:{".tip":{fill:function(t){return t.fill},stroke:function(t){return t.tipStroke},visibility:function(t){return t.visibility===_.b?"visible":"hidden"}},".conf":{stroke:function(t){return t.branchStroke},"stroke-width":$a},".branch":{stroke:function(t){return t.branchStroke},"stroke-width":function(t){return t["stroke-width"]+"px"},cursor:function(t){return t.visibility===_.b?"pointer":"default"},visibility:Xa}}},ts=function(t,e){return function(n){Qa.attrs[t]&&Ja(e).filter(function(e){return Qa.attrs[t][e]}).forEach(function(e){n.attr(e,Qa.attrs[t][e])}),Qa.styles[t]&&Ja(e).filter(function(e){return Qa.styles[t][e]}).forEach(function(e){n.style(e,Qa.styles[t][e])})}},es=function(t,e,n,r){t.selectAll(e).filter(function(t){return t.update}).transition().duration(r).call(n),r||uo()},ns=n(9),rs=function t(e,n){e.x=e.px+e.branchLength*Math.cos(e.tau+.5*e.w),e.y=e.py+e.branchLength*Math.sin(e.tau+.5*e.w);var r=e.tau;if(!e.terminal)for(var i=0;i<e.children.length;i++){var o=e.children[i];o.w=2*Math.PI*o.leafCount/n,o.tau=r,r+=o.w,o.px=e.x,o.py=e.y,t(o,n)}},is=function(t){var e=Math.floor(Math.log10(t)),n=Math.pow(10,e);return t/n<2?n/=5:t/n<5&&(n/=2),n},os=function(t){return"aa"===t?"10px":"14px"},as=function(t){return"aa"===t?"500":"700"},ss=function(t,e,n){if("clade"===t)return"visible";return function(t){return t.n.tipCount>.05*n&&"rect"===e?"visible":"hidden"}},us=function(t,e){var n=this;this.grid=!1,this.attributes=["r","cx","cy","id","class","d"],this.params={regressionStroke:u.b,regressionWidth:6,majorGridStroke:"#CCC",majorGridWidth:2,minorGridStroke:"#DDD",minorGridWidth:1,tickLabelSize:12,tickLabelFill:u.b,minorTicksTimeTree:3,minorTicks:4,orientation:[1,1],margins:{left:25,right:15,top:10,bottom:30},showGrid:!0,fillSelected:"#A73",radiusSelected:5,branchStroke:"#AAA",branchStrokeWidth:2,tipStroke:"#AAA",tipFill:"#CCC",tipStrokeWidth:1,tipRadius:4,fontFamily:u.c,branchLabelKey:!1,branchLabelFont:u.c,branchLabelFill:"#777",branchLabelFontWeight:500,branchLabelPadX:8,branchLabelPadY:5,tipLabels:!0,tipLabelFont:u.c,tipLabelFill:"#555",tipLabelPadX:8,tipLabelPadY:2,mapToScreenDebounceTime:500,tipLabelFontSizeL1:8,tipLabelFontSizeL2:10,tipLabelFontSizeL3:12,tipLabelBreakL1:75,tipLabelBreakL2:50,tipLabelBreakL3:25},this.groups={},this.debugId=e,this.nodes=t.map(function(t){var e={that:n,n:t,x:0,y:0,terminal:void 0===t.children,inView:void 0===t.inView||t.inView};return t.shell=e,e}),this.numberOfTips=Object(Ya.c)(this.nodes),Object(Ya.d)(this.nodes),this.xScale=Object(ur.a)(),this.yScale=Object(ur.a)(),this.zoomNode=this.nodes[0],Object(Ya.a)(this.nodes[0]),this.strainToNode={},this.nodes.forEach(function(t){n.strainToNode[t.n.strain]=t})};us.prototype.change=function(t){var e=t.changeColorBy,n=void 0!==e&&e,r=t.changeVisibility,i=void 0!==r&&r,o=t.changeTipRadii,a=void 0!==o&&o,s=t.changeBranchThickness,u=void 0!==s&&s,l=t.showConfidences,c=void 0!==l&&l,f=t.removeConfidences,h=void 0!==f&&f,p=t.zoomIntoClade,d=void 0!==p&&p,m=t.svgHasChangedDimensions,v=void 0!==m&&m,y=t.newDistance,g=void 0===y?void 0:y,b=t.newLayout,_=void 0===b?void 0:b,w=t.newBranchLabellingKey,x=void 0===w?void 0:w,E=t.branchStroke,S=void 0===E?void 0:E,T=t.tipStroke,k=void 0===T?void 0:T,O=t.fill,C=void 0===O?void 0:O,M=t.visibility,A=void 0===M?void 0:M,P=t.tipRadii,j=void 0===P?void 0:P,L=t.branchThickness,D=void 0===L?void 0:L,N=new Set,B={},I=new Set,F=!1,R=500;Date.now()-this.timeLastRenderRequested<1e3&&(R=0),n&&(N.add(".branch").add(".tip").add(".conf"),I.add("stroke").add("fill"),B.branchStroke=S,B.tipStroke=k,B.fill=C),i&&(N.add(".tip"),I.add("visibility").add("cursor"),B.visibility=A),a&&(N.add(".tip"),I.add("r"),B.r=j),u&&(N.add(".branch").add(".conf"),I.add("stroke-width"),B["stroke-width"]=D),(g||_||d||v)&&(N.add(".tip").add(".branch.S").add(".branch.T").add(".branch"),N.add(".vaccineCross").add(".vaccineDottedLine").add(".conf"),N.add(".branchLabel").add(".tipLabel"),N.add(".grid").add(".regression"),I.add("cx").add("cy").add("d").add("opacity").add("visibility")),_&&(F=!0),function(t,e){t.forEach(function(t,n){for(var r in t.update=!1,e){var i=e[r][n];i!==t[r]&&(t[r]=i,t.update=!0)}})}(this.nodes,B),d&&(this.nodes.forEach(function(t){t.inView=!1,t.update=!0}),this.zoomNode=d.terminal?d.parent:d,Object(Ya.b)(this.zoomNode,function(t){t.inView=!0})),v&&this.nodes.forEach(function(t){t.update=!0}),g&&this.setDistance(g),(g||_)&&this.setLayout(_||this.layout),(I.has(["stroke-width"])||g||_||d||v)&&this.mapToScreen();var z={removeConfidences:h,showConfidences:c,newBranchLabellingKey:x};z.timeSliceHasPotentiallyChanged=i||g,F?this.modifySVGInStages(N,I,R,1e3):this.modifySVG(N,I,R,z),this.timeLastRenderRequested=Date.now()},us.prototype.modifySVG=function(t,e,n,r){var i,o=this,a=[".tip",".vaccineDottedLine",".vaccineCross",".branch"];if(t.has(".branch.S")||t.has(".branch.T")){var s=t.has(".branch");s&&a.splice(a.indexOf(".branch"),1),[".S",".T"].forEach(function(r,a){t.has(".branch".concat(r))&&(i=s?function(t){ts(".branch",e)(t),t.attr("d",function(t){return t.branch[a]})}:function(t){t.attr("d",function(t){return t.branch[a]})},es(o.svg,".branch".concat(r),i,n))})}a.forEach(function(r){t.has(r)&&(i=ts(r,e),es(o.svg,r,i,n))}),t.has(".branchLabel")&&this.updateBranchLabels(n),t.has(".tipLabel")&&this.updateTipLabels(),t.has(".grid")&&(this.grid&&"unrooted"!==this.layout?this.addGrid():this.hideGrid()),t.has(".regression")&&(this.removeRegression(),"clock"===this.layout&&"num_date"===this.distance&&this.drawRegression()),r.removeConfidences&&this.confidencesInSVG?this.removeConfidence():r.showConfidences&&!this.confidencesInSVG?this.drawConfidence():t.has(".conf")&&this.confidencesInSVG&&("rect"===this.layout&&"num_date"===this.distance?(i=ts(".conf",e),es(this.svg,".conf",i,n)):this.removeConfidence()),r.timeSliceHasPotentiallyChanged&&this.addTemporalSlice(),r.newBranchLabellingKey&&(this.removeBranchLabels(),"none"!==r.newBranchLabellingKey&&this.drawBranchLabels(r.newBranchLabellingKey))},us.prototype.modifySVGInStages=function(t,e,n,r){var i=this;t.delete(".tip"),this.hideGrid();var o=0,a=function(){i.drawBranches(),i.params.showGrid&&i.addGrid(),i.svg.selectAll(".tip").remove(),i.drawTips(),i.vaccines&&i.drawVaccines(),i.addTemporalSlice(),"clock"===i.layout&&"num_date"===i.distance&&i.drawRegression(),t.has(".branchLabel")&&i.drawBranchLabels(i.params.branchLabelKey)};this.confidencesInSVG=!1,this.svg.selectAll(Ja(t).join(", ")).transition().duration(n).style("opacity",0).remove().on("start",function(){return o++}).on("end",function(){if(!--o){var t=ts(".tip",e);es(i.svg,".tip",t,r),setTimeout(a,r)}}),this.removeTemporalSlice(),n||uo()},us.prototype.render=function(t,e,n,r,i,o,a,s,u,l,c,f,h,p){var d=this;this.svg=t,this.params=Object.assign(this.params,r),this.callbacks=i,this.vaccines=u?u.map(function(t){return t.shell}):void 0,this.dateRange=p,this.setDistance(n),this.setLayout(e),this.mapToScreen(),this.nodes.forEach(function(t,e){t.branchStroke=l[e],t.tipStroke=c[e],t.fill=f[e],t.visibility=a[e],t["stroke-width"]=o[e],t.r=h?h[e]:d.params.tipRadius}),this.params.showGrid&&(this.addGrid(),this.addTemporalSlice()),this.drawBranches(),this.drawTips(),this.params.branchLabelKey&&this.drawBranchLabels(this.params.branchLabelKey),this.vaccines&&this.drawVaccines(),"clock"===this.layout&&"num_date"===this.distance&&this.drawRegression(),this.confidencesInSVG=!1,s&&this.drawConfidence(),this.updateTipLabels(),this.timeLastRenderRequested=Date.now()},us.prototype.clearSVG=function(){this.svg.selectAll("*").remove()},us.prototype.drawTips=function(){var t=this.params;"tips"in this.groups||(this.groups.tips=this.svg.append("g").attr("id","tips")),this.groups.tips.selectAll(".tip").data(this.nodes.filter(function(t){return t.terminal})).enter().append("circle").attr("class","tip").attr("id",function(t){return"tip_"+t.n.clade}).attr("cx",function(t){return t.xTip}).attr("cy",function(t){return t.yTip}).attr("r",function(t){return t.r}).on("mouseover",this.callbacks.onTipHover).on("mouseout",this.callbacks.onTipLeave).on("click",this.callbacks.onTipClick).style("pointer-events","auto").style("visibility",function(t){return t.visibility===_.b?"visible":"hidden"}).style("fill",function(e){return e.fill||t.tipFill}).style("stroke",function(e){return e.tipStroke||t.tipStroke}).style("stroke-width",function(){return t.tipStrokeWidth}).style("cursor","pointer")},us.prototype.drawBranches=function(){var t=this.params;"branchTee"in this.groups||(this.groups.branchTee=this.svg.append("g").attr("id","branchTee")),"clock"===this.layout||"unrooted"===this.layout?this.groups.branchTee.selectAll("*").remove():this.groups.branchTee.selectAll(".branch").data(this.nodes.filter(function(t){return!t.terminal})).enter().append("path").attr("class","branch T").attr("id",function(t){return"branch_T_"+t.n.clade}).attr("d",function(t){return t.branch[1]}).style("stroke",function(e){return e.branchStroke||t.branchStroke}).style("stroke-width",function(e){return e["stroke-width"]||t.branchStrokeWidth}).style("fill","none").style("pointer-events","auto"),"branchStem"in this.groups||(this.groups.branchStem=this.svg.append("g").attr("id","branchStem")),this.groups.branchStem.selectAll(".branch").data(this.nodes).enter().append("path").attr("class","branch S").attr("id",function(t){return"branch_S_"+t.n.clade}).attr("d",function(t){return t.branch[0]}).style("stroke",function(e){return e.branchStroke||t.branchStroke}).style("stroke-linecap","round").style("stroke-width",function(t){return t["stroke-width"]+"px"||!1}).style("fill","none").style("visibility",Xa).style("cursor",function(t){return t.visibility===_.b?"pointer":"default"}).style("pointer-events","auto").on("mouseover",this.callbacks.onBranchHover).on("mouseout",this.callbacks.onBranchLeave).on("click",this.callbacks.onBranchClick)},us.prototype.drawVaccines=function(){this.vaccines&&this.vaccines.length&&("vaccines"in this.groups||(this.groups.vaccines=this.svg.append("g").attr("id","vaccines")),this.groups.vaccines.selectAll(".vaccineCross").data(this.vaccines).enter().append("path").attr("class","vaccineCross").attr("d",function(t){return t.vaccineCross}).style("stroke","#333").style("stroke-width",2*this.params.branchStrokeWidth).style("fill","none").style("cursor","pointer").style("pointer-events","auto").on("mouseover",this.callbacks.onTipHover).on("mouseout",this.callbacks.onTipLeave).on("click",this.callbacks.onTipClick))},us.prototype.drawRegression=function(){var t=this.yScale(this.regression.intercept+this.xScale.domain()[0]*this.regression.slope),e=this.yScale(this.regression.intercept+this.xScale.domain()[1]*this.regression.slope),n="M "+this.xScale.range()[0].toString()+" "+t.toString()+" L "+this.xScale.range()[1].toString()+" "+e.toString();"clockRegression"in this.groups||(this.groups.clockRegression=this.svg.append("g").attr("id","clockRegression")),this.groups.clockRegression.append("path").attr("d",n).attr("class","regression").style("fill","none").style("visibility","visible").style("stroke",this.params.regressionStroke).style("stroke-width",this.params.regressionWidth),this.groups.clockRegression.append("text").text("rate estimate: ".concat(this.regression.slope.toExponential(2)," subs per site per year")).attr("class","regression").attr("x",this.xScale.range()[1]/2-75).attr("y",this.yScale.range()[0]+50).style("fill",this.params.regressionStroke).style("font-size",this.params.tickLabelSize+8).style("font-weight",400).style("font-family",this.params.fontFamily)},us.prototype.removeRegression=function(){"clockRegression"in this.groups&&this.groups.clockRegression.selectAll("*").remove()},us.prototype.setDistance=function(t){this.nodes.forEach(function(t){t.update=!0}),this.distance=void 0===t?"div":t;var e=this.distance;this.nodes.forEach(function(t){t.depth=t.n.attr[e],t.pDepth=t.n.parent.attr[e],t.n.attr[e+"_confidence"]?t.conf=t.n.attr[e+"_confidence"]:t.conf=[t.depth,t.depth]}),this.vaccines&&this.vaccines.forEach(function(t){t.crossDepth=t.depth})},us.prototype.setLayout=function(t){void 0!==t&&t===this.layout||this.nodes.forEach(function(t){t.update=!0}),this.layout=void 0===t?"rect":t,"rect"===this.layout?this.rectangularLayout():"clock"===this.layout?this.timeVsRootToTip():"radial"===this.layout?this.radialLayout():"unrooted"===this.layout&&this.unrootedLayout()},us.prototype.rectangularLayout=function(){this.nodes.forEach(function(t){t.y=t.n.yvalue,t.x=t.depth,t.px=t.pDepth,t.py=t.y}),this.vaccines&&this.vaccines.forEach(function(t){t.xCross=t.crossDepth,t.yCross=t.y})},us.prototype.timeVsRootToTip=function(){this.nodes.forEach(function(t){t.y=t.n.attr.div,t.x=t.n.attr.num_date,t.px=t.n.parent.attr.num_date,t.py=t.n.parent.attr.div}),this.vaccines&&this.vaccines.forEach(function(t){t.xCross=t.x,t.yCross=t.y});var t=this.numberOfTips,e=this.nodes[0].depth,n=Object(ns.i)(this.nodes.filter(function(t){return t.terminal}).map(function(t){return t.y*(t.depth-e)}))/t/(Object(ns.i)(this.nodes.filter(function(t){return t.terminal}).map(function(t){return(t.depth-e)*(t.depth-e)}))/t),r=-e*n;this.regression={slope:n,intercept:r}},us.prototype.unrootedLayout=function(){var t=this.numberOfTips;Object(Ya.a)(this.nodes[0]),this.nodes.forEach(function(t){t.branchLength=t.depth-t.pDepth}),this.nodes[0].x=0,this.nodes[0].y=0,this.nodes[0].px=0,this.nodes[0].py=0,this.nodes[0].w=2*Math.PI,this.nodes[0].tau=0;for(var e=1.5*Math.PI,n=0;n<this.nodes[0].children.length;n++)this.nodes[0].children[n].px=0,this.nodes[0].children[n].py=0,this.nodes[0].children[n].w=2*Math.PI*this.nodes[0].children[n].leafCount/t,this.nodes[0].children[n].tau=e,e+=this.nodes[0].children[n].w,rs(this.nodes[0].children[n],t);this.vaccines&&this.vaccines.forEach(function(t){var e=t.crossDepth-t.depth;t.xCross=t.px+e*Math.cos(t.tau+.5*t.w),t.yCross=t.py+e*Math.sin(t.tau+.5*t.w)})},us.prototype.radialLayout=function(){var t=this,e=this.numberOfTips,n=this.nodes[0].depth;this.nodes.forEach(function(t){var r=1.9*Math.PI*t.yRange[0]/e,i=1.9*Math.PI*t.yRange[1]/e;t.angle=1.9*Math.PI*t.n.yvalue/e,t.y=(t.depth-n)*Math.cos(t.angle),t.x=(t.depth-n)*Math.sin(t.angle),t.py=t.y*(t.pDepth-n)/(t.depth-n+1e-15),t.px=t.x*(t.pDepth-n)/(t.depth-n+1e-15),t.yCBarStart=(t.depth-n)*Math.cos(r),t.xCBarStart=(t.depth-n)*Math.sin(r),t.yCBarEnd=(t.depth-n)*Math.cos(i),t.xCBarEnd=(t.depth-n)*Math.sin(i),t.smallBigArc=Math.abs(i-r)>1*Math.PI}),this.vaccines&&this.vaccines.forEach(function(e){"div"===t.distance?(e.xCross=e.x,e.yCross=e.y):(e.xCross=(e.crossDepth-n)*Math.sin(e.angle),e.yCross=(e.crossDepth-n)*Math.cos(e.angle))})},us.prototype.setScales=function(t){var e=parseInt(this.svg.attr("width"),10),n=parseInt(this.svg.attr("height"),10);if("radial"===this.layout||"unrooted"===this.layout){var r=e-(t.left||0)-(t.right||0),i=n-(t.top||0)-(t.top||0),o=Object(ns.f)([r,i]),a=r-o,s=i-o;this.xScale.range([.5*a+t.left||0,e-.5*a-(t.right||0)]),this.yScale.range([.5*s+t.top||0,n-.5*s-(t.bottom||0)])}else this.params.orientation[0]>0?this.xScale.range([t.left||0,e-(t.right||0)]):this.xScale.range([e-(t.right||0),t.left||0]),this.params.orientation[1]>0?this.yScale.range([t.top||0,n-(t.bottom||0)]):this.yScale.range([n-(t.bottom||0),t.top||0])},us.prototype.mapToScreen=function(){var t=this,e={left:this.params.margins.left,right:this.params.margins.right,top:this.params.margins.top,bottom:this.params.margins.bottom},n=this.nodes.filter(function(t){return t.terminal}).filter(function(t){return t.inView});if(n.length<this.params.tipLabelBreakL1){var r=this.params.tipLabelFontSizeL1;n.length<this.params.tipLabelBreakL2&&(r=this.params.tipLabelFontSizeL2),n.length<this.params.tipLabelBreakL3&&(r=this.params.tipLabelFontSizeL3);var i=0;n.forEach(function(t){i<t.n.strain.length&&(i=.65*t.n.strain.length*r)}),e.right+=i}this.setScales(e);var o=1e6,a=0,s=1e6,u=0;if(this.nodes.filter(function(t){return t.inView}).forEach(function(t){t.x>u&&(u=t.x),t.y>a&&(a=t.y),t.x<s&&(s=t.x),t.y<o&&(o=t.y)}),s===u&&(s-=.005,u+=.005),n.length<30){var l=.05*(a-o);o-=l,a+=l}if("radial"===this.layout||"unrooted"===this.layout){var c=u-s,f=a-o,h=Object(ns.d)([f,c]),p=c>f?.5*(c-f):0,d=c<f?.5*(f-c):0;this.xScale.domain([s-d,s+h-d]),this.yScale.domain([o-p,o+h-p])}else"clock"===this.layout?(this.xScale.domain([s,u]),this.yScale.domain([a,o])):(this.xScale.domain([s,u]),this.yScale.domain([o,a]));if(this.nodes.forEach(function(e){e.xTip=t.xScale(e.x),e.yTip=t.yScale(e.y),e.xBase=t.xScale(e.px),e.yBase=t.yScale(e.py)}),this.vaccines&&this.vaccines.forEach(function(e){var n=t.xScale(e.xCross),r=t.yScale(e.yCross);e.vaccineCross=" M ".concat(n-6,",").concat(r-6," L ").concat(n+6,",").concat(r+6," M ").concat(n-6,",").concat(r+6," L ").concat(n+6,",").concat(r-6)}),"clock"===this.layout||"unrooted"===this.layout)this.nodes.forEach(function(t){t.branch=[" M "+t.xBase.toString()+","+t.yBase.toString()+" L "+t.xTip.toString()+","+t.yTip.toString(),""]});else if("rect"===this.layout)this.nodes.forEach(function(e){var n=.5*(e.parent["stroke-width"]-e["stroke-width"])||0,r=[t.yScale(e.yRange[0]),t.yScale(e.yRange[1])];e.branch=[" M ".concat(e.xBase-n,",").concat(e.yBase," L ").concat(e.xTip,",").concat(e.yTip," M ").concat(e.xTip,",").concat(r[0]," L ").concat(e.xTip,",").concat(r[1])],t.params.confidence&&(e.confLine=" M ".concat(t.xScale(e.conf[0]),",").concat(e.yBase," L ").concat(t.xScale(e.conf[1]),",").concat(e.yTip))});else if("radial"===this.layout){var m=this.nodes[0].depth,v=this.nodes.map(function(t){return.5*(t.parent["stroke-width"]-t["stroke-width"])||0});this.nodes.forEach(function(e){e.cBarStart=t.yScale(e.yRange[0])}),this.nodes.forEach(function(e){e.cBarEnd=t.yScale(e.yRange[1])}),this.nodes.forEach(function(e,n){e.branch=[" M "+(e.xBase-v[n]*Math.sin(e.angle)).toString()+" "+(e.yBase-v[n]*Math.cos(e.angle)).toString()+" L "+e.xTip.toString()+" "+e.yTip.toString(),""],e.terminal||(e.branch[1]=[" M "+t.xScale(e.xCBarStart).toString()+" "+t.yScale(e.yCBarStart).toString()+" A "+(t.xScale(e.depth)-t.xScale(m)).toString()+" "+(t.yScale(e.depth)-t.yScale(m)).toString()+" 0 "+(e.smallBigArc?"1 ":"0 ")+" 1  "+t.xScale(e.xCBarEnd).toString()+","+t.yScale(e.yCBarEnd).toString()])})}},us.prototype.removeConfidence=function(t){this.confidencesInSVG=!1,"confidenceIntervals"in this.groups&&(t?this.groups.confidenceIntervals.selectAll("*").transition().duration(t).style("opacity",0).remove():this.groups.confidenceIntervals.selectAll("*").remove())},us.prototype.drawConfidence=function(t){var e=this;this.confidencesInSVG=!0,"confidenceIntervals"in this.groups||(this.groups.confidenceIntervals=this.svg.append("g").attr("id","confidenceIntervals")),t?(this.groups.confidenceIntervals.selectAll(".conf").data(this.nodes).enter().call(function(t){return e.drawSingleCI(t,0)}),this.groups.confidenceIntervals.transition().duration(t).style("opacity",.5)):this.groups.confidenceIntervals.selectAll(".conf").data(this.nodes).enter().call(function(t){return e.drawSingleCI(t,.5)})},us.prototype.drawSingleCI=function(t,e){t.append("path").attr("class","conf").attr("id",function(t){return"conf_"+t.n.clade}).attr("d",function(t){return t.confLine}).style("stroke",function(t){return t.branchStroke||"#888"}).style("opacity",e).style("fill","none").style("stroke-width",$a).style("pointer-events","none")},us.prototype.drawBranchLabels=function(t){var e=this;this.params.branchLabelKey=t;var n=os(t),r=as(t),i=ss(t,this.layout,this.zoomNode.n.tipCount);"branchLabels"in this.groups||(this.groups.branchLabels=this.svg.append("g").attr("id","branchLabels")),this.groups.branchLabels.selectAll(".branchLabel").data(this.nodes.filter(function(e){return e.n.attr.labels&&e.n.attr.labels[t]})).enter().append("text").attr("class","branchLabel").attr("x",function(t){return t.xTip+(e.params.orientation[0]>0?-5:5)}).attr("y",function(t){return t.yTip-e.params.branchLabelPadY}).style("text-anchor",this.params.orientation[0]>0?"end":"start").style("visibility",i).style("fill",this.params.branchLabelFill).style("font-family",this.params.branchLabelFont).style("font-weight",r).style("font-size",n).text(function(e){return e.n.attr.labels[t]})},us.prototype.removeBranchLabels=function(){"branchLabels"in this.groups&&this.groups.branchLabels.selectAll("*").remove()},us.prototype.updateBranchLabels=function(t){var e=this,n=ss(this.params.branchLabelKey,this.layout,this.zoomNode.n.tipCount),r=os(this.params.branchLabelKey),i=as(this.params.branchLabelKey);this.groups.branchLabels.selectAll(".branchLabel").transition().duration(t).attr("x",function(t){return t.xTip-5}).attr("y",function(t){return t.yTip-e.params.branchLabelPadY}).style("visibility",n).style("font-weight",i).style("font-size",r),t||uo()},us.prototype.updateTipLabels=function(t){var e=this;"tipLabels"in this.groups?this.groups.tipLabels.selectAll("*").remove():this.groups.tipLabels=this.svg.append("g").attr("id","tipLabels");var n=this.callbacks.tipLabel,r=this.params.tipLabelPadX,i=this.params.tipLabelPadY,o=this.nodes.filter(function(t){return t.terminal}).filter(function(t){return t.inView});if(o.length<this.params.tipLabelBreakL1){var a=this.params.tipLabelFontSizeL1;o.length<this.params.tipLabelBreakL2&&(a=this.params.tipLabelFontSizeL2),o.length<this.params.tipLabelBreakL3&&(a=this.params.tipLabelFontSizeL3),window.setTimeout(function(){e.groups.tipLabels.selectAll(".tipLabel").data(o).enter().append("text").attr("x",function(t){return t.xTip+r}).attr("y",function(t){return t.yTip+i}).text(function(t){return n(t)}).attr("class","tipLabel").style("font-size",a.toString()+"px").style("visibility","visible")},t)}},us.prototype.hideGrid=function(){"majorGrid"in this.groups&&this.groups.majorGrid.selectAll("*").style("visibility","hidden"),"minorGrid"in this.groups&&this.groups.minorGrid.selectAll("*").style("visibility","hidden"),"gridText"in this.groups&&this.groups.gridText.selectAll("*").style("visibility","hidden")},us.prototype.addGrid=function(){var t=this.layout;if(function(t,e){"temporalWindow"in t||(t.temporalWindow=e.append("g").attr("id","temporalWindow")),"majorGrid"in t||(t.majorGrid=e.append("g").attr("id","majorGrid")),"minorGrid"in t||(t.minorGrid=e.append("g").attr("id","minorGrid")),"gridText"in t||(t.gridText=e.append("g").attr("id","gridText"))}(this.groups,this.svg),"unrooted"!==t){for(var e=Object(ns.f)(this.yScale.domain()),n=Object(ns.d)(this.yScale.domain()),r="radial"===t?this.nodes[0].depth:this.xScale.domain()[0],i="radial"===t?r+Object(ns.d)([this.xScale.domain()[1],this.yScale.domain()[1],-this.xScale.domain()[0],-this.yScale.domain()[0]]):this.xScale.domain()[1],o=is(i-r),a=[],s=[],u=Math.floor(r/o)*o,l="radial"===t?r:u,c=i,f=0;f<=(i-u)/o+3;f++){var h=u+o*f;a.push([h,h<l||h>c?"hidden":"visible","x"])}for(var p=o/("num_date"===this.distanceMeasure?this.params.minorTicksTimeTree:this.params.minorTicks),d=0;d<=(i-u)/p+30;d++){var m=u+p*d;s.push([m,m<l||m>c+p?"hidden":"visible","x"])}var v=function(t,e,n){return function(o){var a="";if("x"===o[2]){if("rect"===n||"clock"===n){var s=t(o[0]);a="M"+s.toString()+" "+e.range()[1].toString()+" L "+s.toString()+" "+e.range()[0].toString()}else if("radial"===n){var u=t(o[0]-r);a="M "+u.toString()+"  "+e(0).toString()+" A "+(u-t(0)).toString()+" "+(e(o[0])-e(r)).toString()+" 0 1 0 "+u.toString()+" "+(e(0)+.001).toString()}}else if("y"===o[2]){var l=e(o[0]);a="M".concat(t(r)+20," ").concat(l," L ").concat(t(i)," ").concat(l)}return a}},y=0;if("clock"===this.layout){y=is(n-e);for(var g=Math.floor(e/y)*y,b=n,_=g,w=1;w<=(n-g)/y+10;w++){var x=g+y*w;a.push([x,x<_||x>b?"hidden":"visible","y"])}}this.groups.majorGrid.selectAll("*").remove(),this.groups.majorGrid.selectAll(".majorGrid").data(a).enter().append("path").attr("d",v(this.xScale,this.yScale,t)).attr("class","majorGrid").style("fill","none").style("visibility",function(t){return t[1]}).style("stroke",this.params.majorGridStroke).style("stroke-width",this.params.majorGridWidth),this.groups.minorGrid.selectAll("*").remove(),this.svg.selectAll(".minorGrid").remove(),this.groups.minorGrid.selectAll(".minorGrid").data(s).enter().append("path").attr("d",v(this.xScale,this.yScale,t)).attr("class","minorGrid").style("fill","none").style("visibility",function(t){return t[1]}).style("stroke",this.params.minorGridStroke).style("stroke-width",this.params.minorGridWidth);var E=Math.max(0,-Math.floor(Math.log10(o))),S=Math.max(0,-Math.floor(Math.log10(y)));this.groups.gridText.selectAll("*").remove(),this.svg.selectAll(".gridText").remove(),this.groups.gridText.selectAll(".gridText").data(a).enter().append("text").text(function(t){return t[0].toFixed("y"===t[2]?S:E)}).attr("class","gridText").style("font-size",this.params.tickLabelSize).style("font-family",this.params.fontFamily).style("fill",this.params.tickLabelFill).style("text-anchor",function(t){return function(e){return"x"===e[2]?"radial"===t?"end":"middle":"start"}}(t)).style("visibility",function(t){return t[1]}).attr("x",function(t,e){return function(n){return"x"===n[2]?t("radial"===e?0:n[0]):t.range()[0]-15}}(this.xScale,t)).attr("y",function(t,e){return function(n){return"x"===n[2]?"radial"===e?t(n[0]-r)-5:t.range()[1]+18:t(n[0])}}(this.yScale,t)),this.grid=!0}},us.prototype.addTemporalSlice=function(){if(this.removeTemporalSlice(),"rect"===this.layout&&"num_date"===this.distance){var t=[this.xScale(this.dateRange[0]),this.xScale(this.dateRange[1])],e=this.yScale.range()[1],n=-1===this.params.orientation[0],r=this.xScale(this.nodes[0].x),i=n?this.xScale.range()[0]:this.xScale.range()[1];i+=this.params.margins.left+this.params.margins.right,Math.abs(t[0]-r)>30&&this.groups.temporalWindow.append("rect").attr("x",n?t[0]:0).attr("width",n?i-t[0]:t[0]).attr("y",0).attr("height",e).attr("fill","#EEE");var o=n?this.params.margins.right:t[1],a=n?t[1]-this.params.margins.right:i-this.params.margins.right-t[1];a>30&&this.groups.temporalWindow.append("rect").attr("x",o).attr("width",a).attr("y",0).attr("height",e).attr("fill","#EEE")}},us.prototype.removeTemporalSlice=function(){this.groups.temporalWindow.selectAll("*").remove()};var ls=us,cs=function(t,e){return i.a.createElement("span",null,i.a.createElement("span",{style:{fontWeight:"500"}},t+" "),i.a.createElement("span",{style:{fontWeight:"300"}},e))},fs=function(t,e){return i.a.createElement("div",null,i.a.createElement("p",{style:{marginBottom:"-0.7em",fontWeight:"500"}},t),e.map(function(t){return i.a.createElement("p",{key:t,style:{fontWeight:"300",marginBottom:"-0.9em",marginLeft:"0em"}},t)}),i.a.createElement("br",null))},hs=function(t){return i.a.createElement("p",null,cs("Divergence:",pi(t.attr.div.toExponential(3))))},ps=function(t,e){var n=t.attr.date||Object(tt.d)(t.attr.num_date),r=!1;return e&&t.attr.num_date_confidence&&(r=[Object(tt.d)(t.attr.num_date_confidence[0]),Object(tt.d)(t.attr.num_date_confidence[1])]),r&&r[0]!==r[1]?i.a.createElement("p",null,cs("Inferred Date:",n),i.a.createElement("br",null),cs("Date Confidence Interval:","(".concat(r[0],", ").concat(r[1],")"))):i.a.createElement("p",null,cs("Date:",n))},ds=function(t){var e=t.mutType,n=t.temporalConfidence,r=t.distanceMeasure,o=t.hovered,a=t.colorBy,s=t.colorByConfidence,l=t.colorScale,c=t.panelDims;if(!o)return null;var f,h=".tip"===o.type,p=o.d,d=function(t,e){var n=-1===t.that.params.orientation[0]?e.width/2+e.spaceBetweenTrees+t.xTip:t.xTip,r=t.yTip,i={container:{position:"absolute",width:200,padding:"10px",borderRadius:10,zIndex:1e3,pointerEvents:"none",fontFamily:u.g.panel.fontFamily,fontSize:14,lineHeight:1,fontWeight:u.g.panel.fontWeight,color:u.g.panel.color,backgroundColor:u.g.panel.backgroundColor,wordWrap:"break-word",wordBreak:"break-word"}};return n<.6*e.width?i.container.left=n+10:i.container.right=e.width-n+10,r<.55*e.height?i.container.top=r+40:i.container.bottom=e.height-r+10,i}(p,c);return f=h?i.a.createElement("span",null,function(t){return t.n.vaccineDate?i.a.createElement("span",null,cs("Vaccine strain:",t.n.vaccineDate),i.a.createElement("p",null)):null}(p),function(t,e,n,r,i,o){if("num_date"===e)return"num_date"===n?null:ps(t.n,r);if("gt"===e.slice(0,2)){var a="nuc"===i?"Nucleotide at pos "+e.replace("gt-","").replace("nuc_",""):"Amino Acid at "+e.replace("gt-","").replace("_"," site "),s=Object(w.g)(t.n,o);return cs(a+":",s)}return cs(pi(e)+":",pi(t.n.attr[e]))}(p,a,r,n,e,l),"div"===r?hs(p.n):ps(p.n,n)):i.a.createElement("span",null,function(t){return 1===t.fullTipCount?i.a.createElement("span",null,cs("Branch leading to",t.strain),i.a.createElement("p",null)):i.a.createElement("span",null,cs("Number of descendants:",t.fullTipCount),i.a.createElement("p",null))}(p.n),function(t,e){if("nuc"===e){if(void 0!==t.muts&&t.muts.length){var n=t.muts.filter(function(t){return"N"===t.slice(-1)||"-"===t.slice(-1)||"N"===t.slice(0,1)||"-"===t.slice(0,1)}),r=n.length,o=t.muts.filter(function(t){return"N"!==t.slice(-1)&&"-"!==t.slice(-1)&&"N"!==t.slice(0,1)&&"-"!==t.slice(0,1)}),a=o.length,s=o.slice(0,Math.min(9,a)).join(", ");s+=a>9?" + "+(a-9)+" more":"";var u=n.slice(0,Math.min(4,r)).join(", ");return u+=r>4?" + "+(r-4)+" more":"",0===r?cs("Nucleotide mutations:",s):0===a?cs("Gap/N mutations:",u):i.a.createElement("p",null,cs("Nucleotide mutations:",s),i.a.createElement("div",{height:"5"}),cs("Gap/N mutations:",u))}return cs("No nucleotide mutations","")}if(void 0!==t.aa_muts){for(var l=Object.keys(t.aa_muts),c={},f=0;f<l.length;f++){var h=l[f];c[h]=t.aa_muts[h].length}if(l.map(function(t){return c[t]}).reduce(function(t,e){return t+e},0)){var p=0,d=[];return l.forEach(function(e){if(c[e]&&p<7){var n=e+":  "+t.aa_muts[e].slice(0,Math.min(3,c[e])).join(", ");c[e]>3&&(n+=" + "+(c[e]-3)+" more"),d.push(n),7==++p&&d.push("(protein mutations truncated)")}}),fs("AA mutations:",d)}return cs("No amino acid mutations","")}return console.warn("Error parsing mutations for branch",t.strain),null}(p.n,e),"div"===r?hs(p.n):ps(p.n,n),function(t,e,n,r,i){if("gt"===i.slice(0,2))return null;if("num_date"===i)return i!==e?ps(t,n):null;if(!0===r){var o=i+"_confidence";if(-1===Object.keys(t.attr).indexOf(o))return console.error("Error - couldn't find confidence vals for ",o),null;var a=Object.keys(t.attr[o]).sort(function(e,n){return t.attr[o][e]>t.attr[o][n]?-1:1}).slice(0,4).map(function(e){return"".concat(pi(e)," (").concat((100*t.attr[o][e]).toFixed(0),"%)")});return fs("".concat(pi(i)," (confidence):"),a)}return cs(pi(i),pi(t.attr[i]))}(p.n,r,n,s,a)),i.a.createElement("div",{style:d.container},i.a.createElement("div",{className:"tooltip",style:u.g.tooltip},i.a.createElement("div",{style:u.g.tooltipHeading},h?p.n.strain:null),f,i.a.createElement("p",null),i.a.createElement("div",{style:u.g.comment},h?"Click on tip to display more info":"Click to zoom into clade")))},ms=function(t,e,n,r){var i={},o={},a=t?n.tree:n.treeToo,s=t?r.tree:r.treeToo;if(e.dateRange=[r.dateMinNumeric,r.dateMaxNumeric],a.selectedStrain&&!s.selectedStrain&&(o.selectedTip=null,o.hovered=null),!s.nodeColorsVersion||a.nodeColorsVersion===s.nodeColorsVersion&&r.colorByConfidence===n.colorByConfidence||(i.changeColorBy=!0,i.branchStroke=Object(w.c)(s,r.colorByConfidence,r.colorBy),i.tipStroke=s.nodeColors,i.fill=s.nodeColors.map(function(t){return Object(xr.f)(t).brighter([.65]).toString()})),s.visibilityVersion&&a.visibilityVersion!==s.visibilityVersion&&(i.changeVisibility=!0,i.visibility=s.visibility),s.tipRadiiVersion&&a.tipRadiiVersion!==s.tipRadiiVersion&&(i.changeTipRadii=!0,i.tipRadii=s.tipRadii),a.branchThicknessVersion!==s.branchThicknessVersion&&(i.changeBranchThickness=!0,i.branchThickness=s.branchThickness),n.distanceMeasure!==r.distanceMeasure&&(i.newDistance=r.distanceMeasure),n.selectedBranchLabel!==r.selectedBranchLabel&&(i.newBranchLabellingKey=r.selectedBranchLabel),!0===n.temporalConfidence.display&&!1===r.temporalConfidence.display?i.removeConfidences=!0:!0===n.temporalConfidence.on&&!1===r.temporalConfidence.on?i.removeConfidences=!0:!0===r.temporalConfidence.display&&!1===n.temporalConfidence.on&&!0===r.temporalConfidence.on&&(i.showConfidences=!0),n.layout!==r.layout&&(i.newLayout=r.layout),a.idxOfInViewRootNode!==s.idxOfInViewRootNode){var u=e.nodes[s.idxOfInViewRootNode];i.zoomIntoClade=u,o.selectedBranch=0===s.idxOfInViewRootNode?null:u,o.selectedTip=null,o.hovered=null}n.width===r.width&&n.height===r.height||(i.svgHasChangedDimensions=!0),t&&n.showTreeToo!==r.showTreeToo&&(i.svgHasChangedDimensions=!0);var l=Object.keys(i).length;return l&&e.change(i),[!!Object.keys(o).length&&o,l]},vs=function(t){(1===t.that.params.orientation[0]?this.state.tree:this.state.treeToo).svg.select("#tip_"+t.n.clade).attr("r",function(t){return t.r}),this.setState({selectedTip:null,hovered:null}),this.props.dispatch(Object(et.f)({tipSelected:{clear:!0},cladeSelected:this.props.tree.selectedClade}))},ys=function(t,e,n,r){var i=e?t.domRefs.mainTree:t.domRefs.secondTree,o=e?r.tree:r.treeToo;o.loaded?n.render(Jn(i),r.layout,r.distanceMeasure,{grid:!0,confidence:r.temporalConfidence.display,branchLabelKey:r.selectedBranchLabel,orientation:e?[1,1]:[-1,1],tipLabels:!0,showTipLabels:!0},{onTipHover:function(t){t.visibility===_.b&&((1===t.that.params.orientation[0]?this.state.tree:this.state.treeToo).svg.select("#tip_"+t.n.clade).attr("r",function(t){return t.r+4}),this.setState({hovered:{d:t,type:".tip"}}))}.bind(t),onTipClick:function(t){if(t.visibility===_.b&&!this.props.narrativeMode){this.setState({hovered:null,selectedTip:t});var e=1===t.that.params.orientation[0]?{treeIdx:t.n.arrayIdx}:{treeTooIdx:t.n.arrayIdx};this.props.dispatch(Object(et.f)({tipSelected:e,cladeSelected:this.props.tree.selectedClade}))}}.bind(t),onBranchHover:function(t){var e=this;if(t.visibility===_.b){for(var n=["#branch_S_"+t.n.clade,"#branch_T_"+t.n.clade],r=0;r<n.length;r++){var i=n[r];this.props.colorByConfidence?this.state.tree.svg.select(i).style("stroke",function(t){var n=Object(w.b)(e.props.tree.nodes[t.n.arrayIdx].attr[e.props.colorBy+"_entropy"]),r=e.props.tree.nodeColors[t.n.arrayIdx],i=t.branchStroke;return Object(xr.f)(Object(Ki.e)(r,i)(n)).toString()}):this.state.tree.svg.select(i).style("stroke",function(t){return e.props.tree.nodeColors[t.n.arrayIdx]})}if(this.props.temporalConfidence.exists&&this.props.temporalConfidence.display&&!this.props.temporalConfidence.on){var o=1===t.that.params.orientation[0]?this.state.tree:this.state.treeToo;"confidenceIntervals"in o.groups||(o.groups.confidenceIntervals=o.svg.append("g").attr("id","confidenceIntervals")),o.groups.confidenceIntervals.selectAll(".conf").data([t]).enter().call(function(t){return o.drawSingleCI(t,.5)})}this.setState({hovered:{d:t,type:".branch"}})}}.bind(t),onBranchClick:function(t){if(t.visibility===_.b&&!this.props.narrativeMode){var e,n=[void 0,void 0];void 0!==t.n.attr.labels&&void 0!==t.n.attr.labels.clade&&(e=t.n.attr.labels.clade),1===t.that.params.orientation[0]?n[0]=t.n.arrayIdx:n[1]=t.n.arrayIdx,this.props.dispatch(Object(et.f)({root:n,cladeSelected:e}))}}.bind(t),onBranchLeave:function(t){for(var e=["#branch_T_"+t.n.clade,"#branch_S_"+t.n.clade],n=0;n<e.length;n++){var r=e[n];this.state.tree.svg.select(r).style("stroke",function(t){return t.branchStroke})}this.props.temporalConfidence.exists&&this.props.temporalConfidence.display&&!this.props.temporalConfidence.on&&(1===t.that.params.orientation[0]?this.state.tree:this.state.treeToo).removeConfidence();this.state.hovered&&this.setState({hovered:null})}.bind(t),onTipLeave:function(t){var e=1===t.that.params.orientation[0]?this.state.tree:this.state.treeToo;this.state.selectedTip||e.svg.select("#tip_"+t.n.clade).attr("r",function(t){return t.r}),this.state.hovered&&this.setState({hovered:null})}.bind(t),tipLabel:function(t){return t.n.strain}},o.branchThickness,o.visibility,r.temporalConfidence.on,o.vaccines,Object(w.c)(o,r.colorByConfidence,r.colorBy),o.nodeColors,o.nodeColors.map(function(t){return Object(xr.f)(t).brighter([.65]).toString()}),o.tipRadii,[r.dateMinNumeric,r.dateMaxNumeric]):console.warn("can't run renderTree (not loaded)")};function gs(t){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_s(t,e,n[e])})}return t}function _s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ws(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xs(t,e){return!e||"object"!==gs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Es(t){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ss(t,e){return(Ss=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ts=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=xs(this,Es(e).call(this,t))).state={left:0,top:31,lookup:void 0,drawn:!1},n.timeout=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ss(t,e)}(e,i.a.Component),function(t,e,n){e&&ws(t.prototype,e),n&&ws(t,n)}(e,[{key:"shouldComponentUpdate",value:function(t){return this.props.width!==t.width||this.props.height!==t.height||this.props.leftTreeName!==t.leftTreeName||this.props.rightTreeName!==t.rightTreeName}},{key:"drawLines",value:function(t){t||(t=this.props);var e=t.lookup.length>750?.25:t.lookup.length>100?.5:1;Jn(this.d3ref).selectAll("*").remove();var n=function(t){return function(e){var n=t.leftNodes[e[0]].shell,r=t.rightNodes[e[1]].shell;return"M ".concat(n.xTip,",").concat(n.yTip," H ").concat(t.width/2-t.spaceBetweenTrees/2," L ").concat(t.width/2+t.spaceBetweenTrees/2,",").concat(r.yTip," H ").concat(t.width/2+t.spaceBetweenTrees/2+r.xTip)}}(t);Jn(this.d3ref).selectAll(".tangleLine").data(t.lookup).enter().append("path").attr("class","tangleLine").attr("d",n).attr("stroke-width",e).attr("stroke",function(e){return t.colors[e[0]]}).attr("fill","none")}},{key:"componentWillReceiveProps",value:function(t){!this.state.drawn&&t.rightNodes[0].shell&&(this.drawLines(t),this.setState({drawn:!0}))}},{key:"componentDidMount",value:function(){!this.state.drawn&&this.props.rightNodes[0].shell&&(this.drawLines(this.props),this.setState({drawn:!0}))}},{key:"componentDidUpdate",value:function(t){this.props.width===t.width&&this.props.height===t.height||(this.timeout?window.clearTimeout(this.timeout):Jn(this.d3ref).selectAll(".tangleLine").remove(),this.timeout=window.setTimeout(this.drawLines.bind(this),1e3))}},{key:"render",value:function(){var t=this,e={position:"absolute",top:5,zIndex:100,fontSize:16,color:"#000",fontWeight:500},n=[this.props.width/2-this.props.spaceBetweenTrees/2,this.props.width/2+this.props.spaceBetweenTrees/2];return i.a.createElement("div",{id:"TangleContainer"},i.a.createElement("div",{id:"MainTreeTitle",style:bs({},e,{left:n[0]-100,width:100,textAlign:"right"})},this.props.leftTreeName),i.a.createElement("div",{id:"SecondTreeTitle",style:bs({},e,{left:n[1],textAlign:"left"})},this.props.rightTreeName),i.a.createElement("div",{id:"TangleSvgContainer",style:{position:"absolute",left:this.state.left,top:this.state.top,zIndex:100,pointerEvents:"none"}},i.a.createElement("svg",{id:"Tangle",style:{cursor:"default",width:this.props.width,height:this.props.height},ref:function(e){t.d3ref=e}})))}}]),e}(),ks=function(t,e){for(var n=0,r=0,i=0,o=0,a=0,s=0,u=0;u<e.nodes.length;u++){var l=e.nodes[u].n;if(!l.children&&t.strainToNode[l.strain]){var c=t.strainToNode[l.strain].n.yvalue,f=l.yvalue;n++,r+=c,i+=f,o+=Math.pow(c,2),a+=Math.pow(f,2),s+=c*f}}return o/=n,a/=n,((s/=n)-(r/=n)*(i/=n))/Math.sqrt((o-Math.pow(r,2))*(a-Math.pow(i,2)))},Os=function(t,e){var n=ks(t,e);!function(t,e){for(var n=ks(t,e),r=0;r<e.nodes.length;r++){var i=e.nodes[r],o=i.n;if(i.children){for(var a=o,s=function(){var t=a.children[0];a.children.forEach(function(e){e.yvalue<t.yvalue&&(t=e)}),a=t};a.hasChildren;)s();var u=a.yvalue-1;i.children.reverse(),o.children.reverse(),Object(Ya.e)(i,u);var l=ks(t,e);n>l?(i.children.reverse(),o.children.reverse(),Object(Ya.e)(i,u)):n=l}}}(t,e),console.log("Untangling ".concat(n," -> ").concat(ks(t,e))),Object(Ya.d)(e.nodes)};function Cs(t){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ms(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function As(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function js(t,e){return(js=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ls(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ds(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ns=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ds(Ls(Ls(n=function(t,e){return!e||"object"!==Cs(e)&&"function"!=typeof e?Ls(t):e}(this,Ps(e).call(this,t)))),"getStyles",function(){var t=0!==n.props.tree.idxOfInViewRootNode||0!==n.props.treeToo.idxOfInViewRootNode;return{resetTreeButton:{zIndex:100,position:"absolute",right:5,top:0,cursor:t?"pointer":"auto",color:t?u.b:u.h}}}),n.domRefs={mainTree:void 0,secondTree:void 0},n.tangleRef=void 0,n.state={hover:null,selectedBranch:null,selectedTip:null,tree:null,treeToo:null},n.clearSelectedTip=vs.bind(Ls(Ls(n))),n.redrawTree=function(){n.props.dispatch(Object(et.f)({root:[0,0]}))},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&js(t,e)}(e,i.a.Component),function(t,e,n){e&&As(t.prototype,e),n&&As(t,n)}(e,[{key:"setUpAndRenderTreeToo",value:function(t,e){e.treeToo=new ls(t.treeToo.nodes,"RIGHT"),_.f&&Os(e.tree,e.treeToo),ys(this,!1,e.treeToo,t)}},{key:"componentDidMount",value:function(){if(this.props.tree.loaded){var t={};t.tree=new ls(this.props.tree.nodes,"LEFT"),ys(this,!0,t.tree,this.props),this.props.showTreeToo&&this.setUpAndRenderTreeToo(this.props,t),this.setState(t)}}},{key:"componentDidUpdate",value:function(t){var e={},n=!1,r=Ms(ms(!0,this.state.tree,t,this.props),2),i=r[0],o=r[1];if(i&&(e=i),t.showTreeToo!==this.props.showTreeToo)this.props.showTreeToo?(this.state.treeToo&&this.state.treeToo.clearSVG(),e.tree=this.state.tree,this.setUpAndRenderTreeToo(this.props,e),this.tangleRef&&this.tangleRef.drawLines()):e.treeToo=null;else if(this.state.treeToo){var a=Ms(ms(!1,this.state.treeToo,t,this.props),2);a[0],n=a[1]}this.tangleRef&&(o||n)&&this.tangleRef.drawLines(),Object.keys(e).length&&this.setState(e)}},{key:"renderTreeDiv",value:function(t){var e=this,n=t.width,r=t.height,o=t.mainTree;return i.a.createElement("svg",{id:o?"MainTree":"SecondTree",style:{pointerEvents:"auto",cursor:"default"},width:n,height:r,ref:function(t){o?e.domRefs.mainTree=t:e.domRefs.secondTree=t}})}},{key:"render",value:function(){var t=this,e=this.getStyles(),n=this.props.showTreeToo?(this.props.width-100)/2:this.props.width;return i.a.createElement(sr,{center:!0,title:"Phylogeny"},i.a.createElement(Ka,{width:this.props.width}),i.a.createElement(ds,{mutType:this.props.mutType,temporalConfidence:this.props.temporalConfidence.display,distanceMeasure:this.props.distanceMeasure,hovered:this.state.hovered,colorBy:this.props.colorBy,colorByConfidence:this.props.colorByConfidence,colorScale:this.props.colorScale,panelDims:{width:this.props.width,height:this.props.height,spaceBetweenTrees:100}}),i.a.createElement(Ra,{goAwayCallback:this.clearSelectedTip,tip:this.state.selectedTip,metadata:this.props.metadata}),this.props.showTangle&&this.state.tree&&this.state.treeToo?i.a.createElement(Ts,{ref:function(e){t.tangleRef=e},width:this.props.width,height:this.props.height,lookup:this.props.treeToo.tangleTipLookup,leftNodes:this.props.tree.nodes,rightNodes:this.props.treeToo.nodes,colors:this.props.tree.nodeColors,cVersion:this.props.tree.nodeColorsVersion,vVersion:this.props.tree.visibilityVersion,metric:this.props.distanceMeasure,spaceBetweenTrees:100,leftTreeName:this.props.tree.name.toUpperCase(),rightTreeName:this.props.showTreeToo.toUpperCase()}):null,this.renderTreeDiv({width:n,height:this.props.height,mainTree:!0}),this.props.showTreeToo?i.a.createElement("div",{id:"treeSpacer",style:{width:100}}):null,this.props.showTreeToo?this.renderTreeDiv({width:n,height:this.props.height,mainTree:!1}):null,this.props.narrativeMode?null:i.a.createElement("button",{style:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Ds(t,e,n[e])})}return t}({},u.r,e.resetTreeButton),onClick:this.redrawTree},"reset layout"))}}]),e}();function Bs(t){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Is,Fs=function(t){return Object.prototype.hasOwnProperty.call(t,"paper_url")&&!t.paper_url.endsWith("/")&&"?"!==t.paper_url},Rs="text/plain;charset=utf-8;",zs="text/tab-separated-values;charset=utf-8;",Vs="image/svg+xml;charset=utf-8",Ws=function(t,e,n){var r=new Blob([n],{type:e}),i=document.createElement("a"),o=URL.createObjectURL(r);i.setAttribute("href",o),i.setAttribute("download",t),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},Us=function(t){return["Strain"].concat(t.map(function(t){return pi(t)}))},qs=function(t,e,n,r){var i=r?e+"_timetree.nwk":e+"_tree.nwk",o=r?"TimeTree":"Tree";Ws(i,Rs,function(t,e){return function t(n,r){var i="";if(n.hasChildren){var o=[];n.children.forEach(function(r){var i=t(r,e?n.attr.num_date:n.attr.div);o.push(i)}),i+="("+o.join(",")+")"+n.strain+":",i+=(e?n.attr.num_date:n.attr.div)-r}else{var a=n.strain+":";i+=a+=(e?n.attr.num_date:n.attr.div)-r}return i}(t,0)+";"}(n,r)),t(Object(za.b)({message:o+" written to "+i}))},Hs=function(t){var e=t.match(/^(<.+?>)(.+)<\/.+?>$/);if(e){var n=e[1].match(/width.+?([0-9.]+).+height.+?([0-9.]+)/);if(n){var r=e[1].match(/viewBox="([0-9-]+)\s([0-9-]+)\s([0-9-]+)\s([0-9-]+)"/);return{x:0,y:0,viewbox:r?r.slice(1):void 0,width:parseFloat(n[1]),height:parseFloat(n[2]),inner:e[2]}}}},Gs=function(t,e,n){var r='<svg id="'.concat(e,'" width="').concat(n.width,'" height="').concat(n.height,'" x="').concat(n.x,'" y="').concat(n.y,'">');t.push(r),t.push(n.inner),t.push("</svg>")},Zs=function(t,e,n,r,i,o){var a=[],s={tree:void 0,mapTiles:void 0,mapD3:void 0,entropy:void 0,frequencies:void 0};if(-1!==n.indexOf("tree")){try{s.tree=Hs((new XMLSerializer).serializeToString(document.getElementById("MainTree"))),s.treeLegend=Hs((new XMLSerializer).serializeToString(document.getElementById("TreeLegendContainer")))}catch(t){s.tree=void 0,a.push("tree"),console.error("Tree SVG save error:",t)}if(s.tree&&document.getElementById("SecondTree"))try{s.secondTree=Hs((new XMLSerializer).serializeToString(document.getElementById("SecondTree"))),document.getElementById("Tangle")&&(s.tangle=Hs((new XMLSerializer).serializeToString(document.getElementById("Tangle"))))}catch(t){a.push("second tree / tanglegram"),console.error("Second Tree / tanglegram SVG save error:",t)}}if(-1!==n.indexOf("entropy"))try{s.entropy=Hs((new XMLSerializer).serializeToString(document.getElementById("d3entropyParent"))),s.entropy.inner=s.entropy.inner.replace(/<text/g,'<text class="txt"'),s.entropy.inner='<style>.txt { font-family: "Lato", "Helvetica Neue", "Helvetica", "sans-serif"; }</style>'.concat(s.entropy.inner)}catch(t){s.entropy=void 0,a.push("entropy"),console.error("Entropy SVG save error:",t)}if(-1!==n.indexOf("frequencies"))try{s.frequencies=Hs((new XMLSerializer).serializeToString(document.getElementById("d3frequenciesSVG")))}catch(t){s.frequencies=void 0,a.push("frequencies"),console.error("Frequencies SVG save error:",t)}if(-1!==n.indexOf("map")&&o){s.mapTiles={x:0,y:0,viewbox:void 0,width:parseFloat(o.mapDimensions.x),height:parseFloat(o.mapDimensions.y),inner:'<image width="'.concat(o.mapDimensions.x,'" height="').concat(o.mapDimensions.y,'" xlink:href="').concat(o.base64map,'"/>')};try{s.mapD3=Hs((new XMLSerializer).serializeToString(document.getElementById("d3DemesTransmissions"))),s.mapD3.width=s.mapTiles.width,s.mapD3.height=s.mapTiles.height,s.mapD3._panOffsets=o.panOffsets}catch(t){s.mapD3=void 0,s.mapTiles=void 0,a.push("map"),console.error("Map demes & tranmisions SVG save error:",t)}}var u=[],l=function(t,e,n){var r=0,i=0;for(var o in t.secondTree&&(t.secondTree.x=100+t.tree.width,t.tree.width+=100+t.secondTree.width),t.tree&&t.mapD3&&t.mapTiles?("grid"===e?(r=t.tree.width+50+t.mapTiles.width,i=Math.max(t.tree.height,t.mapTiles.height),t.mapD3.x=t.tree.width+50):(r=Math.max(t.tree.width,t.mapTiles.width),i=t.tree.height+50+t.mapTiles.height,t.mapD3.y=t.tree.height+50),t.mapTiles.x=t.mapD3.x,t.mapTiles.y=t.mapD3.y):t.tree?(r=t.tree.width,i=t.tree.height):t.mapD3&&t.mapTiles&&(r=t.mapTiles.width,i=t.mapTiles.height),t.mapD3&&(t.mapD3.x+=t.mapD3._panOffsets.x,t.mapD3.y+=t.mapD3._panOffsets.y),t.entropy&&(r<t.entropy.width?r=t.entropy.width:t.entropy.x=(r-t.entropy.width)/2,i?(t.entropy.y=i+50,i+=50+t.entropy.height):i=t.entropy.height),t.frequencies&&(r<t.frequencies.width?r=t.frequencies.width:t.frequencies.x=(r-t.frequencies.width)/2,i?(t.frequencies.y=i+50,i+=50+t.frequencies.height):i=t.frequencies.height),t)t[o]&&(t[o].x+=50,t[o].y+=50);i+=100;var a=36*n+20;return{width:r+=100,height:i+=a,padding:50,textY:i-a,textHeight:a}}(s,r,i.length);for(var c in u.push('<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="'.concat(l.width,'" height="').concat(l.height,'">')),s)s[c]&&Gs(u,c,s[c]);u.push('<foreignObject x="'.concat(l.padding,'" y="').concat(l.height-l.textHeight,'" height="').concat(l.textHeight,'" width="').concat(l.width-2*l.padding,'">')),i.forEach(function(t){u.push('<p xmlns="http://www.w3.org/1999/xhtml" style="font-family:lato,sans-serif;">'),u.push(t),u.push("</p>")}),u.push("</foreignObject>"),u.push("</svg>"),Ws(e+".svg",Vs,u.join("\n")),a.length?t(Object(za.d)({message:"Vector image saved",details:"Saved to ".concat(e,".svg, however there were errors with ").concat(a.join(", "))})):t(Object(za.b)({message:"Vector image saved",details:e+".svg"}))},Ks=function(t){console.warn("getMapTiles errorCallback",t)},Ys=function(t,e,n,r,i){-1!==n.indexOf("map")?window.L.getMapTiles(Zs.bind(void 0,t,e,n,r,i),Ks):Zs(t,e,n,r,i,void 0)};function $s(t){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Js(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qs(t){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tu(t,e){return(tu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var nu,ru=["The data presented here is intended to rapidly disseminate analysis of important pathogens.\n  Unpublished data is included with permission of the data generators, and does not impact their right to publish.","Please contact the respective authors (available via the TSV files below) if you intend to carry out further research using their data.\n  Derived data, such as phylogenies, can be downloaded below - please contact the relevant authors where appropriate."],iu={nextstrain:{author:"Hadfield et al",title:"Nextstrain: real-time tracking of pathogen evolution",year:"2018",journal:"Bioinformatics",href:"https://doi.org/10.1093/bioinformatics/bty407"},treetime:{author:"Sagulenko et al",title:"TreeTime: Maximum-likelihood phylodynamic analysis",journal:"Virus Evolution",year:"2017",href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5758920/"},titers:{author:"Neher et al",titleJournalYear:"Prediction, dynamics, and visualization of antigenic phenotypes of seasonal influenza viruses",journal:"PNAS",year:"2016",href:"http://www.pnas.org/content/113/12/E1701.abstract"}},ou=Object(s.b)(function(t){return{browserDimensions:t.browserDimensions.browserDimensions,show:t.controls.showDownload,colorBy:t.controls.colorBy,metadata:t.metadata,tree:t.tree,nodes:t.tree.nodes,visibleStateCounts:t.tree.visibleStateCounts,filters:t.controls.filters,visibility:t.tree.visibility,treeAttrs:t.tree.attrs,panelsToDisplay:t.controls.panelsToDisplay,panelLayout:t.controls.panelLayout}})(Is=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==$s(e)&&"function"!=typeof e?eu(t):e}(this,Qs(e).call(this,t))).getStyles=function(t,e){return{behind:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"all",zIndex:2e3,backgroundColor:"rgba(80, 80, 80, .20)",display:"flex",justifyContent:"center",alignItems:"center",wordWrap:"break-word",wordBreak:"break-word"},title:{fontWeight:500,fontSize:32,marginTop:"20px",marginBottom:"20px"},secondTitle:{fontWeight:500,marginTop:"0px",marginBottom:"20px"},modal:{marginLeft:200,marginTop:130,width:t-400,height:e-260,borderRadius:2,backgroundColor:"rgba(250, 250, 250, 1)",overflowY:"auto"},break:{marginBottom:"10px"}}},n.dismissModal=n.dismissModal.bind(eu(eu(n))),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tu(t,e)}(e,i.a.Component),function(t,e,n){e&&Js(t.prototype,e),n&&Js(t,n)}(e,[{key:"componentDidMount",value:function(){var t=this;ma.a.bind("d",function(){Ys(t.props.dispatch,t.getFilePrefix(),t.props.panelsToDisplay,t.props.panelLayout,t.makeTextStringsForSVGExport())})}},{key:"getRelevantPublications",value:function(){var t=[iu.nextstrain,iu.treetime];return-1!==["cTiter","rb","ep","ne"].indexOf(this.props.colorBy)&&t.push(iu.titers),t}},{key:"formatPublications",value:function(t){return i.a.createElement("span",null,i.a.createElement("ul",null,t.map(function(t){return i.a.createElement("li",{key:t.href},i.a.createElement("a",{href:t.href,target:"_blank",rel:"noreferrer noopener"},di(t.author),", ",t.title,", ",i.a.createElement("i",null,t.journal)," (",t.year,")"))})))}},{key:"relevantPublications",value:function(){var t=-1!==["cTiter","rb","ep","ne"].indexOf(this.props.colorBy)?i.a.createElement("li",null,i.a.createElement("a",{href:"http://www.pnas.org/content/113/12/E1701.abstract"},di("Neher et al"),", Prediction, dynamics, and visualization of antigenic phenotypes of seasonal influenza viruses, PNAS, 2016")):null;return i.a.createElement("span",null,i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"https://doi.org/10.1093/bioinformatics/bty407",target:"_blank",rel:"noreferrer noopener"},di("Hadfield et al"),", Nextstrain: real-time tracking of pathogen evolution, ",i.a.createElement("i",null,"Bioinformatics")," (2018)")),i.a.createElement("li",null,i.a.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5758920/",target:"_blank",rel:"noreferrer noopener"},di("Sagulenko et al"),", TreeTime: Maximum-likelihood phylodynamic analysis, ",i.a.createElement("i",null,"Virus Evolution")," (2017)")),t))}},{key:"getFilePrefix",value:function(){return"nextstrain_"+window.location.pathname.replace(/^\//,"").replace(/:/g,"-").replace(/\//g,"_")}},{key:"makeTextStringsForSVGExport",value:function(){var t=[];t.push(this.props.metadata.title),t.push("Last updated ".concat(this.props.metadata.updated));var e=window.location.href.replace(/&/g,"&amp;");return t.push('Downloaded from <a href="'.concat(e,'">').concat(e,"</a> on ").concat((new Date).toLocaleString())),t.push(this.createSummaryWrapper()),t.push(""),t.push(ru[0]+' A full list of sequence authors is available via <a href="https://nextstrain.org">nextstrain.org</a>.'),t.push("Relevant publications:"),this.getRelevantPublications().forEach(function(e){t.push('<a href="'.concat(e.href,'">').concat(e.author,", ").concat(e.title,", ").concat(e.journal," (").concat(e.year,")</a>"))}),t}},{key:"downloadButtons",value:function(){var t=this,e=this.getFilePrefix(),n=u.d,r=[["Tree (newick)",i.a.createElement(_t,{width:25,stroke:n}),function(){return qs(t.props.dispatch,e,t.props.nodes[0],!1)}],["TimeTree (newick)",i.a.createElement(_t,{width:25,stroke:n}),function(){return qs(t.props.dispatch,e,t.props.nodes[0],!0)}],["Strain Metadata (TSV)",i.a.createElement(St,{width:25,stroke:n}),function(){return function(t,e,n,r){var i=e+"_metadata.tsv",o=[],a=["accession","date","region","country","division","authors","journal","title","url"];a.filter(function(t){return-1!==r.indexOf(t)}),r.forEach(function(t){-1===a.indexOf(t)&&function(t){return!(t.includes("entropy")||t.includes("confidence")||"div"===t||"paper_url"===t)}(t)&&a.push(t)});var s=!0,u=!1,l=void 0;try{for(var c,f=n[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;if(!h.hasChildren){for(var p=[h.strain],d=0;d<a.length;d++){var m=a[d];if(-1===Object.keys(h.attr).indexOf(m))p.push("unknown");else{var v=h.attr[m];if("string"==typeof v)0===v.lastIndexOf("http",0)?p.push(mi(v)):p.push(pi(v,{removeComma:!0}));else if("number"==typeof v)p.push(parseFloat(v).toFixed(2));else if("object"===Bs(v))if(Array.isArray(v))"number"==typeof v[0]?p.push(v.map(function(t){return parseFloat(t).toFixed(2)}).join(" - ")):p.push(v.map(function(t){return pi(t,{removeComma:!0})}).join(" - "));else{for(var y="",g=Object.keys(v),b=0;b<g.length;b++){var _=g[b],w="number"==typeof v[_]?parseFloat(v[_]).toFixed(2):pi(v[_],{removeComma:!0});y+=pi(_,{removeComma:!0})+": "+w+";"}p.push(y)}else console.warn("Tried to save "+v+" of type "+Bs(v)),p.push("unknown")}}o.push(p)}}}catch(t){u=!0,l=t}finally{try{s||null==f.return||f.return()}finally{if(u)throw l}}var x=[Us(a).join("\t")];o.forEach(function(t){var e=t.join("\t");x.push(e)});var E=x.join("\n");Ws(i,zs,E),t(Object(za.b)({message:"Metadata exported to "+i}))}(t.props.dispatch,e,t.props.nodes,t.props.treeAttrs)}],["Author Metadata (TSV)",i.a.createElement(St,{width:25,stroke:n}),function(){return function(t,e,n,r){var i=[["Author","n (strains)","publication title","journal","publication URL","strains"].join("\t")],o=e+"_authors.tsv",a={};r.nodes.filter(function(t){return!t.hasChildren&&t.attr.authors}).forEach(function(t){a[t.attr.authors]?a[t.attr.authors].push(t.strain):a[t.attr.authors]=[t.strain]});var s=[];if(n.author_info)for(var u=Object.keys(n.author_info),l=0;l<u.length;l++){var c=u[l];s.push([pi(c,{camelCase:!1}),n.author_info[c].n,pi(n.author_info[c].title,{removeComma:!0}),pi(n.author_info[c].journal,{removeComma:!0}),Fs(n.author_info[c])?mi(n.author_info[c].paper_url):"unknown",a[c].join(",")])}s.forEach(function(t){i.push(t.join("\t"))}),Ws(o,zs,i.join("\n")),t(Object(za.b)({message:"Author metadata exported",details:o}))}(t.props.dispatch,e,t.props.metadata,t.props.tree)}],["Screenshot (SVG)",i.a.createElement(Tt,{width:25,stroke:n}),function(){return Ys(t.props.dispatch,e,t.props.panelsToDisplay,t.props.panelLayout,t.makeTextStringsForSVGExport())}]],o=Object.assign({},u.i,{backgroundColor:"rgba(0,0,0,0)",paddingLeft:"10px",color:"white"});return i.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},r.map(function(t){return i.a.createElement("div",{key:t[0],onClick:t[2],style:{cursor:"pointer"}},t[1],i.a.createElement("button",{style:o},t[0]))}))}},{key:"dismissModal",value:function(){this.props.dispatch({type:T.w})}},{key:"createSummaryWrapper",value:function(){return Tu(this.props.metadata.virus_count,this.props.nodes,this.props.filters,this.props.visibility,this.props.visibleStateCounts)}},{key:"render",value:function(){if(!this.props.show)return null;var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Xs(t,e,n[e])})}return t}({},u.g.panel);t.width=.66*this.props.browserDimensions.width,t.maxWidth=t.width,t.maxHeight=.66*this.props.browserDimensions.height,t.fontSize=14,t.lineHeight=1.4;var e=this.props.metadata;return i.a.createElement("div",{style:u.g.modalContainer,onClick:this.dismissModal},i.a.createElement("div",{style:t,onClick:function(t){return Na(t)}},i.a.createElement("p",{style:u.g.topRightMessage},"(click outside this box to return to the app)"),i.a.createElement("div",{style:u.g.modalSubheading},e.title," (last updated ",e.updated,")"),i.a.createElement("div",null,this.createSummaryWrapper()),i.a.createElement("div",{style:u.g.break})," A full list of sequence authors is available via the TSV files below.",i.a.createElement("div",{style:u.g.break}),du({},{preamble:{fontWeight:300},acknowledgments:{fontWeight:300}}),i.a.createElement("div",{style:u.g.modalSubheading},"Data usage policy"),ru.join(" "),i.a.createElement("div",{style:u.g.modalSubheading},"Please cite the authors who contributed genomic data (where relevant), as well as:"),this.formatPublications(this.getRelevantPublications()),i.a.createElement("div",{style:u.g.modalSubheading},"Download data:"),this.downloadButtons()))}}]),e}())||Is;function au(t){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function su(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uu(t,e){return!e||"object"!==au(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lu(t){return(lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cu(t,e){return(cu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fu,hu=i.a.createElement("span",{style:{marginLeft:10,marginRight:10}},"•"),pu={footer:{marginLeft:"30px",paddingBottom:"30px",fontFamily:u.c,fontSize:15,fontWeight:300,color:u.k,lineHeight:1.4},acknowledgments:{marginTop:"10px"},citationList:{marginTop:"10px",lineHeight:1},line:{marginTop:"20px",marginBottom:"20px",borderBottom:"1px solid #CCC"},preamble:{fontSize:15},fineprint:{fontSize:14}},du=function(t,e){var n=i.a.createElement("div",{style:e.preamble},"This work is made possible by the open sharing of genetic data by research groups from all over the world. We gratefully acknowledge their contributions.");return window.location.pathname.includes("ebola")?i.a.createElement("div",null,n,i.a.createElement("div",{style:e.acknowledgments},"Special thanks to Nick Loman, Matt Cotten, Ian Goodfellow and Paul Kellam for spearheading data sharing efforts during the outbreak. For a more complete phylogeographic analysis of these data see ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://dx.doi.org/10.1038/nature22040"},"Dudas et al"),". Curated data used in the paper are available at ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://github.com/ebov/space-time"},"github.com/ebov/space-time"),". The animation shown here was inspired by ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://youtu.be/eWnIhWUpQiQ"},"a work")," by ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://bedford.io/team/gytis-dudas/"},"Gytis Dudas"),".")):window.location.pathname.includes("zika")?i.a.createElement("div",null,n,i.a.createElement("div",{style:e.acknowledgments},"Special thanks to Nick Loman, Nathan Grubaugh, Kristof Theys, Nuno Faria, Kristian Andersen, Andrew Rambaut and Karl Erlandson for data sharing, comments and suggestions.")):window.location.pathname.includes("mumps")?i.a.createElement("div",null,n,i.a.createElement("div",{style:e.acknowledgments},"Special thanks to Jennifer Gardy, Shirlee Wohl, Jeff Joy, Nathan Yozwiak, Hayden Metsky, Agatha Jassem, Louise Moncla, Gytis Dudas and Pardis Sabeti for data sharing, comments and suggestions.")):window.location.pathname.includes("lassa")?i.a.createElement("div",{style:e.acknowledgments},"This work is made possible by the open sharing of genetic data by research groups, including these groups currently collecting Lassa sequences:",i.a.createElement("p",null),i.a.createElement("a",{href:"http://acegid.org/"},"Christian Happi"),", ",i.a.createElement("a",{href:"https://www.sabetilab.org/"},"Pardis Sabeti"),", ",i.a.createElement("a",{href:"https://www.sabetilab.org/katherine-siddle/"},"Katherine Siddle")," and colleagues, whose data was shared via ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://virological.org/t/new-lassa-virus-genomes-from-nigeria-2015-2016/191"},"this viroligical.org post. "),"If you intend to use these sequences prior to publication, please contact them directly to coordinate. ",i.a.createElement("span",{className:"link",onClick:function(){return t(Object(et.a)("authors",["Odia_et_al"],"set"))}},"Click here")," here to see these sequences in isolation.",i.a.createElement("p",null),"The Irrua specialist Teaching Hospital (ISTH) and Institute for Lassa Fever Research and Control (ILFRC), Irrua, Edo State, Nigeria;\n          The Bernhard-Nocht Institute for Tropical Medicine (BNITM), Hamburg, Germany;\n          Public Health England (PHE);\n          African Center of Excellence for Genomics of Infectious Disease (ACEGID ), Redeemer’s University, Ede, Nigeria;\n          Broad Institute of MIT and Harvard University (Cambridge, MA, USA).\n          For further details, including conditions of reuse, please contact ",i.a.createElement("a",{href:"mailto:epogbaini@yahoo.com"},"Ephraim Epogbaini"),", ",i.a.createElement("a",{href:"http://www.who.int/blueprint/about/stephan-gunther/en/"},"Stephan Günther")," and ",i.a.createElement("a",{href:"https://rega.kuleuven.be/cev/ecv/lab-members/PhilippeLemey.html"},"Philippe Lemey"),". Their data was first shared via ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://virological.org/t/2018-lasv-sequencing-continued/192/8"},"this viroligical.org post"),", which is continually updated. ",i.a.createElement("span",{className:"link",onClick:function(){return t(Object(et.a)("authors",["ISTH-BNITM-PHE"],"set"))}},"Click here")," here to see these sequences in isolation."):window.location.pathname.includes("WNV/NA")?i.a.createElement("div",{style:e.acknowledgments},"This work is possible due to the groups who have made their data openly available for analysis -\n          with a special thanks to Nikos Gurfield, Saran Grewal, Chris Barker, Ying Fang and the Andersen Lab for making ",i.a.createElement("a",{href:"https://andersen-lab.com/secrets/data/west-nile-genomics/"},"their data")," available ahead of publication. ","We also thank Simon Dellicour, Sebastian Lequime, Bram Vrancken, Philippe Lemey, Karthik Gangavarapu, Nate Matteson, Sharada Saraf,\n          Kristian Andersen, and Nathan Grubaugh for curating the original dataset.\n          The data is being maintained by ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://grubaughlab.com"},"Nathan Grubaugh and his lab"),". Our goal is to promote sequencing and sharing of West Nile virus genomes to improve our understanding of virus spread and evolution.\n          To aid in this effort, they have adapted their highly multiplexed PCR approach for ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://www.nature.com/articles/nprot.2017.066"},"Zika virus sequencing")," on the Illumina and Minion platforms for West Nile Virus circulating in North America. Their ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://grubaughlab.com/open-science/amplicon-sequencing/"},"sequencing protocol and primers")," are free to use.\n          If you have any questions about West Nile virus sequencing, or if you have unpublished data that you would like to share, please email ",i.a.createElement("a",{href:"emailto:grubaughlab@gmail.com"},"grubaughlab@gmail.com"),".",i.a.createElement("p",null),"All data shown here are coding-complete genomes.",i.a.createElement("p",null),"WNV is split into three phenotypically relevant strains - NY99, WN02 and SW03 (",i.a.createElement("span",{className:"link",onClick:function(){return t(k("wnv_strain"))}},"click here")," to colour the tree by this). These strains are defined by these mutations (click to change the colouring of the tree):",i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("span",{className:"link",onClick:function(){return t(k("gt-env_159"))}},"env-V159A")," designates the switch from NY99 (the original sequence) to WN02."),i.a.createElement("li",null,i.a.createElement("span",{className:"link",onClick:function(){return t(k("gt-NS4A_85"))}},"NS4A-A85T")," designates the switch from WN02 to SW03 (WN02 displaced NY99; WN02 and SW03 co-circulate)."))):window.location.pathname.includes("h7n9")?i.a.createElement("div",{style:e.acknowledgments},"We thank the ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://gisaid.org"},"GISAID Initiative")," for enabling genomic surveillance of influenza and for providing a critical data sharing platform, and all of the groups who contribute to it."):window.location.pathname.includes("flu")?i.a.createElement("div",null,i.a.createElement("div",{style:e.acknowledgments},"We thank the ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://gisaid.org"},"GISAID Initiative")," and the ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://www.who.int/influenza/gisrs_laboratory/en/"},"GISRS Network")," for critical surveillance efforts and open data sharing. Titer data used in antigenic analysis was generated by the ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://www.cdc.gov/flu/"},"Influenza Division at the US Centers for Disease Control and Prevention"),", the ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://www.crick.ac.uk/research/worldwide-influenza-centre"},"Worldwide Influenza Centre at the Francis Crick Institute"),", the ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"http://www.vidrl.org.au/"},"Victorian Infectious Diseases Reference Laboratory at the Australian Peter Doherty Institute for Infection and Immunity")," and the ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://www.niid.go.jp/niid/en/flu-e.html"},"Influenza Virus Research Center at the Japan National Institute of Infectious Diseases"),"."),i.a.createElement("div",{style:e.acknowledgments},"Special thanks to Jackie Katz, Dave Wentworth, Becky Garten, Vivien Dugan, Xiyan Xu, Elizabeth Neuhaus, Sujatha Seenu, John McCauley, Rod Daniels, Vicki Gregory, Kanta Subbarao, Ian Barr, Aeron Hurt, Takato Odagiri, Shinji Watanabe, Tomoko Kuwahara, Michael Lässig, Marta Łuksza, Richard Reeve, Colin Russell, Sebastian Maurer-Stroh and Peter Bogner for feedback and advice. This analysis represents an updated frontend to the Nextflu informatic pipeline. This site is now our canonical analysis of seasonal influenza evolution. The old frontend can be found at ",i.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://nextflu.org/deprecated/"},"nextflu.org/deprecated/")," for the intermediate future.")):i.a.createElement("div",null,n)},mu=function(t,e,n,r){var i=-1===e[n].indexOf(r)?"add":"remove";console.log(n,r),t(Object(et.a)(n,[r],i))},vu=function(t,e,n,r,o,a){var s=-1!==e[n].indexOf(r);return s&&a?i.a.createElement("div",{key:r,style:{display:"inline-block"}},i.a.createElement("div",{className:"boxed-item-icon",onClick:function(){mu(t,e,n,r)},role:"button",tabIndex:0},"×"),i.a.createElement("div",{className:"boxed-item active-with-icon"},o)):s?i.a.createElement("div",{className:"boxed-item active-clickable",key:r,onClick:function(){mu(t,e,n,r)},role:"button",tabIndex:0},o):i.a.createElement("div",{className:"boxed-item inactive",key:r,onClick:function(){mu(t,e,n,r)},role:"button",tabIndex:0},o)},yu=Object(s.b)(function(t){return{tree:t.tree,totalStateCounts:t.tree.totalStateCounts,metadata:t.metadata,colorOptions:t.metadata.colorOptions,browserDimensions:t.browserDimensions.browserDimensions,activeFilters:t.controls.filters}})(nu=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),uu(this,lu(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cu(t,e)}(e,i.a.Component),function(t,e,n){e&&su(t.prototype,e),n&&su(t,n)}(e,[{key:"shouldComponentUpdate",value:function(t){if(this.props.tree.version!==t.tree.version||this.props.browserDimensions!==t.browserDimensions)return!0;if(Object.keys(this.props.activeFilters)!==Object.keys(t.activeFilters))return!0;if(Object.keys(this.props.activeFilters)){var e=!0,n=!1,r=void 0;try{for(var i,o=this.props.activeFilters[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(this.props.activeFilters[a]!==t.activeFilters[a])return!0}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}return!1}},{key:"displayFilter",value:function(t,e){var n=this,r=this.props.totalStateCounts[e];return i.a.createElement("div",null,"Filter by ".concat(pi(e)),this.props.activeFilters[e].length?function(t,e,n,r){return i.a.createElement("div",{className:"".concat(n," boxed-item active-clickable"),style:{paddingLeft:"5px",paddingRight:"5px",display:"inline-block"},onClick:function(){e.forEach(function(e){return t(Object(et.a)(e,[],"set"))})}},r)}(this.props.dispatch,[e],"inlineRight","Clear ".concat(e," filter")):null,i.a.createElement(La.a,{wrap:"wrap",justifyContent:"flex-start",alignItems:"center",style:t.citationList},Object.keys(r).sort().map(function(t){var o;return o="authors"===e?i.a.createElement("span",null,pi(t,{stripEtAl:!0})," et al ("+r[t]+")"):i.a.createElement("span",null,pi(t)," ("+r[t]+")"),vu(n.props.dispatch,n.props.activeFilters,e,t,o,!1)})))}},{key:"getUpdated",value:function(){return this.props.metadata.updated?i.a.createElement("span",null,"Data updated ",this.props.metadata.updated):null}},{key:"downloadDataButton",value:function(){var t=this;return i.a.createElement("button",{style:Object.assign({},u.i,{backgroundColor:"rgba(0,0,0,0)",color:u.k,margin:0,padding:0}),onClick:function(){t.props.dispatch({type:T.P})}},i.a.createElement("i",{className:"fa fa-download","aria-hidden":"true"}),i.a.createElement("span",{style:{position:"relative"}}," download data"))}},{key:"getMaintainer",value:function(){return Object.prototype.hasOwnProperty.call(this.props.metadata,"maintainer")?i.a.createElement("span",null,"Build maintained by ",i.a.createElement("a",{href:this.props.metadata.maintainer[1],target:"_blank"},this.props.metadata.maintainer[0])):null}},{key:"getCitation",value:function(){return i.a.createElement("span",null,"Nextstrain: ",i.a.createElement("a",{href:iu.nextstrain.href,target:"_blank"},iu.nextstrain.author,", ",i.a.createElement("i",null,iu.nextstrain.journal)," (".concat(iu.nextstrain.year,")")))}},{key:"render",value:function(){var t=this;if(!this.props.metadata||!this.props.tree.nodes)return null;var e=pu,n=this.props.width-30;return i.a.createElement("div",{style:e.footer},i.a.createElement("div",{style:{width:n}},i.a.createElement("div",{style:e.line}),du(this.props.dispatch,e),i.a.createElement("div",{style:e.line}),Object.keys(this.props.activeFilters).map(function(n){return i.a.createElement("div",{key:n},t.displayFilter(e,n),i.a.createElement("div",{style:e.line}))}),i.a.createElement(La.a,{style:e.fineprint},this.getMaintainer(),hu,this.getUpdated(),hu,this.downloadDataButton()),i.a.createElement("div",{style:{height:"3px"}}),i.a.createElement(La.a,{style:e.fineprint},this.getCitation(),hu,"Auspice v"+Da.version)))}}]),e}())||nu;function gu(t){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _u(t,e){return!e||"object"!==gu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wu(t){return(wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xu(t,e){return(xu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Eu={country:"countries",authors:"authors"},Su=function(t){var e="number"==typeof t?Object(tt.d)(t):t,n=e.split("-");return 3===n.length?"".concat(_.z[n[1]]," ").concat(n[0]):e},Tu=function(t,e,n,r,i,o){var a=function(t,e){var n=0;return t.forEach(function(t,r){t.hasChildren||e[r]!==_.b||(n+=1)}),n}(e,r),s=Object(ja.c)(e,r),u="Showing ".concat(a," of ").concat(t," genomes");"divOnly"!==o&&(u+=" sampled between ".concat(Su(s[0])," and ").concat(Su(s[1])));var l=[];Object.keys(n).forEach(function(t){var e=Object.keys(i[t]).length;e&&l.push("".concat(e," ").concat(function(t,e){return 1===e?"authors"===t&&(t="author"):(t in Eu&&(t=Eu[t]),"s"!==t.slice(-1).toLowerCase()&&(t+="s")),t=t.replace(/_/g," ")}(t,e)))});var c=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.prefix,i=void 0===r?void 0:r,o=n.suffix,a=void 0===o?void 0:o,s=n.capatalise,u=void 0===s||s,l=n.fullStop,c=void 0===l||l;return t.length?(e=1===t.length?t[0]:t.slice(0,-1).join(", ")+" and "+t[t.length-1],i&&(e=i+" "+e),a&&(e+=" "+a),u&&(e=e.charAt(0).toUpperCase()),c&&(e+="."),e+" "):""}(l,{prefix:"divOnly"!==o?"and comprising":"comprising",capatalise:!1});return c.length?u+=" ".concat(c):u+=". ",u},ku=Object(s.b)(function(t){return{browserDimensions:t.browserDimensions.browserDimensions,filters:t.controls.filters,animationPlayPauseButton:t.controls.animationPlayPauseButton,metadata:t.metadata,nodes:t.tree.nodes,visibleStateCounts:t.tree.visibleStateCounts,totalStateCounts:t.tree.totalStateCounts,visibility:t.tree.visibility,selectedStrain:t.tree.selectedStrain,selectedClade:t.tree.selectedClade,dateMin:t.controls.dateMin,dateMax:t.controls.dateMax,absoluteDateMin:t.controls.absoluteDateMin,absoluteDateMax:t.controls.absoluteDateMax,branchLengthsToDisplay:t.controls.branchLengthsToDisplay}})(fu=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_u(this,wu(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xu(t,e)}(e,i.a.Component),function(t,e,n){e&&bu(t.prototype,e),n&&bu(t,n)}(e,[{key:"getStyles",value:function(t){var e=28;return this.props.browserDimensions.width<1e3&&(e=27),this.props.browserDimensions.width<800&&(e=26),this.props.browserDimensions.width<600&&(e=25),this.props.browserDimensions.width<400&&(e=24),{base:{width:t+34,display:"inline-block",maxWidth:t,marginTop:0},title:{fontFamily:u.s,fontSize:e,marginLeft:0,marginTop:0,marginBottom:5,fontWeight:500,color:u.b,letterSpacing:"-0.5px",lineHeight:1.2},n:{fontFamily:u.f,fontSize:14,marginLeft:2,marginTop:5,marginBottom:5,fontWeight:500,color:u.k,lineHeight:1.4}}}},{key:"getNumSelectedAuthors",value:function(){return!this.props.metadata.author_info||Object.prototype.hasOwnProperty.call(this.props.filters,"authors")&&0!==this.props.filters.authors.length?this.props.filters.authors.length:Object.keys(this.props.metadata.author_info).length}},{key:"addFilteredDatesButton",value:function(t){var e=this;t.push(i.a.createElement("div",{key:"timefilter",style:{display:"inline-block"}},i.a.createElement("div",{className:"boxed-item-icon",onClick:function(){e.props.dispatch(Object(et.c)({newMin:e.props.absoluteDateMin,newMax:e.props.absoluteDateMax}))},role:"button",tabIndex:0},"×"),i.a.createElement("div",{className:"boxed-item active-with-icon"},"".concat(Su(this.props.dateMin)," to ").concat(Su(this.props.dateMax)))))}},{key:"addNonAuthorFilterButton",value:function(t,e){var n=this;this.props.filters[e].sort().forEach(function(r){var o=i.a.createElement("span",null,pi(r)," ("+n.props.totalStateCounts[e][r]+")");t.push(vu(n.props.dispatch,n.props.filters,e,r,o,!0))})}},{key:"selectedStrainButton",value:function(t){var e=this;return i.a.createElement("span",null,"Showing a single strain ",i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement("div",{className:"boxed-item-icon",onClick:function(){e.props.dispatch(Object(et.f)({tipSelected:{clear:!0},cladeSelected:e.props.selectedClade}))},role:"button",tabIndex:0},"×"),i.a.createElement("div",{className:"boxed-item active-with-icon"},t)))}},{key:"clearFilterButton",value:function(t){var e=this;return i.a.createElement("span",{style:{cursor:"pointer",color:"#5097BA"},key:t,onClick:function(){return e.props.dispatch(Object(et.a)(t,[]))},role:"button",tabIndex:0},t)}},{key:"addFilteredAuthorsButton",value:function(t){var e=this;if(this.props.metadata.author_info){var n=Object.keys(this.props.metadata.author_info).length,r=this.getNumSelectedAuthors();if(n!==r){var o=this.props.filters.authors.map(function(t){var n=e.props.totalStateCounts.authors[t];return{name:t,label:i.a.createElement("span",null,pi(t,{stripEtAl:!0}),i.a.createElement("i",null," et al, "),"(n=".concat(n,")")),longlabel:i.a.createElement("span",null,pi(t,{stripEtAl:!0}),i.a.createElement("i",null," et al, "),pi(e.props.metadata.author_info[t].title)," (n=".concat(n,")"))}});r>0&&r<3?o.forEach(function(n){return t.push(vu(e.props.dispatch,e.props.filters,"authors",n.name,n.longlabel,!0))}):o.forEach(function(n){return t.push(vu(e.props.dispatch,e.props.filters,"authors",n.name,n.label,!0))})}}}},{key:"render",value:function(){var t=this;if(!this.props.metadata||!this.props.nodes||!this.props.visibility)return null;var e=this.getStyles(this.props.width),n="Pause"===this.props.animationPlayPauseButton,r=!n&&!this.props.selectedStrain,o=this.props.dateMin===this.props.absoluteDateMin&&this.props.dateMax===this.props.absoluteDateMax,a="";this.props.metadata.title&&(a=this.props.metadata.title);var s=Tu(this.props.metadata.virus_count,this.props.nodes,this.props.filters,this.props.visibility,this.props.visibleStateCounts,this.props.branchLengthsToDisplay),u=[];return this.addFilteredAuthorsButton(u),Object.keys(this.props.filters).filter(function(t){return"authors"!==t}).filter(function(e){return t.props.filters[e].length>0}).forEach(function(e){return t.addNonAuthorFilterButton(u,e)}),o||this.addFilteredDatesButton(u),i.a.createElement(sr,{center:!0,infocard:!0},i.a.createElement("div",{style:e.base},i.a.createElement("div",{width:this.props.width,style:e.title},a),i.a.createElement("div",{width:this.props.width,style:e.n},n?"Animation in progress. ":null,this.props.selectedStrain?this.selectedStrainButton(this.props.selectedStrain):null,r?s:null,r&&u.length?i.a.createElement("span",null,"Filtered to ",u.map(function(t){return t}),". "):null)))}}]),e}())||fu,Ou=Object(s.b)(function(t){return{tree:t.tree,treeToo:t.treeToo,dateMinNumeric:t.controls.dateMinNumeric,dateMaxNumeric:t.controls.dateMaxNumeric,quickdraw:t.controls.quickdraw,colorBy:t.controls.colorBy,colorByConfidence:t.controls.colorByConfidence,layout:t.controls.layout,temporalConfidence:t.controls.temporalConfidence,distanceMeasure:t.controls.distanceMeasure,mutType:t.controls.mutType,colorScale:t.controls.colorScale,metadata:t.metadata,showTreeToo:t.controls.showTreeToo,showTangle:t.controls.showTangle,panelsToDisplay:t.controls.panelsToDisplay,selectedBranchLabel:t.controls.selectedBranchLabel,narrativeMode:t.narrative.display}})(Ns),Cu=n(255),Mu=n.n(Cu),Au=n(107),Pu=n.n(Au),ju=n(108),Lu=n.n(ju),Du=n(256),Nu=n.n(Du),Bu=n(257),Iu=n.n(Bu),Fu=n(258),Ru=n.n(Fu),zu=Ir().x(function(t){return t.x}).y(function(t){return t.y}).curve(function(t){return new qr(t)}),Vu=function(t,e,n,r,i,o,a,s,u){if("hidden"===a)return[];var l=Iu()(u,function(e){return e>t}),c=Ru()(u,function(t){return t<e});if(-1===l||-1===c)return[];var f,h,p=s.slice(l,c+1);if(l>0){var d=u[l]-u[l-1],m=(t-u[l-1])/d,v=(u[l]-t)/d;f={x:v*s[l-1].x+m*s[l].x,y:v*s[l-1].y+m*s[l].y}}if(c<s.length-1){var y=u[c+1]-u[c],g=(e-u[c])/y,b=(u[c+1]-e)/y;h={x:b*s[c].x+g*s[c+1].x,y:b*s[c].y+g*s[c+1].y}}return f&&p.unshift(f),h&&p.push(h),p},Wu=n(138),Uu=n.n(Wu),qu=n(259),Hu=n.n(qu),Gu=n(260),Zu=n.n(Gu),Ku=n(95),Yu=n.n(Ku),$u=n(261),Xu=n.n($u),Ju=n(262),Qu=n.n(Ju);var tl,el,nl,rl=function(t,e){var r=n(627).get(t,e);return function(n){return r*Math.pow(n,e)*Math.pow(1-n,t-e)}},il=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,i=Yu()(t.length),o=Xu()(e,n,r),a=function t(e){for(var n=[],r=0;r<e[0];++r)n.push(1==e.length?0:t(e.slice(1)));return n}([r,2]);for(var s in Yu()(a.length))a[s]={x:a[s][0],y:a[s][1]};for(var u in i){var l=rl(i.length-1,u),c=o.map(l),f=[t[u].x,t[u].y],h=Qu()([Yu()(c.length),Yu()(f.length)]);for(var p in Yu()(a.length))a[p].x+=c[h[p][0]]*f[h[p][1]],a[p].y+=c[h[Number(p)+r][0]]*f[h[Number(p)+r][1]]}return a},ol=function(t,e,n){return n.latLngToLayerPoint(new L.LatLng(t,e))},al=function(t,e){var n=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=Math.sign(i-n),s=(o-r)/(i-n),u=Math.sqrt(Math.pow(o-r,2)+Math.pow(i-n,2)),l=200*Math.log(Math.pow(u,.05)),c=Math.sqrt(Math.pow(l,2)+Math.pow(u,2)/4);return{x:n+c*Math.cos(Math.atan(2*l/u)+Math.atan(s))*a,y:r+c*Math.sin(Math.atan(2*l/u)+Math.atan(s))*a}}(t,e);return il([t,n,e])},sl=function(t,e,n,r,i,o,a,s,u,l){var c,f,h,p,d;try{c=n[r][t.attr[r]].latitude,f=n[r][t.attr[r]].longitude}catch(e){l.add(t.attr[r])}try{h=n[r][e.attr[r]].latitude,p=n[r][e.attr[r]].longitude}catch(n){return void console.warn("No transmission lat/longs for ",t.attr[r]," -> ",e.attr[r],"If this wasn't fired in the context of a dataset change, it's probably a bug.")}var m=function(t,e,n,r,i){var o=null;return(e>-360||r>-360)&&(e<360||r<360)&&Math.abs(e-r)<180&&(o=[ol(t,e,i),ol(n,r,i)]),o}(c,f+s,h,p+u,a);if(m){var v=al(m[0],m[1]),y=Object(Ki.d)(t.attr.num_date,e.attr.num_date),g=[];v.forEach(function(t,e){g.push(y(e/(v.length-1)))}),d={id:t.arrayIdx.toString()+"-"+e.arrayIdx.toString(),originNode:t,destinationNode:e,bezierCurve:v,bezierDates:g,originName:t.attr[r],destinationName:e.attr[r],originCoords:m[0],destinationCoords:m[1],originLatitude:c,destinationLatitude:h,originLongitude:f+s,destinationLongitude:p+u,originNumDate:t.attr.num_date,destinationNumDate:e.attr.num_date,color:i[t.arrayIdx],visible:o[e.arrayIdx]!==_.a?"visible":"hidden"}}return d},ul=function(t,e,n,r,i,o,a){var s=i?[-360,0,360]:[0],u=o.geo,l=[],c={},f=new Set;return t.forEach(function(t){t.children&&t.children.forEach(function(i){t.attr[n]&&i.attr[n]&&t.attr[n]!==i.attr[n]&&s.forEach(function(o){var s=function(t,e,n,r,i,o,a,s,u){var l=[];return[-360,0,360].forEach(function(c){var f=sl(t,e,n,r,i,o,a,s,c,u);f&&l.push(f)}),l.length>0?Zu()(l,function(t){return Math.abs(t.destinationCoords.x-t.originCoords.x)}):null}(t,i,u,n,r,e,a,o,f);s&&l.push(s)})})}),l.forEach(function(t,e){c[t.id]?c[t.id].push(e):c[t.id]=[e]}),{transmissionData:l,transmissionIndices:c,demesMissingLatLongs:f}},ll=function(t,e,n,r,i,o,a){var s=function(t,e,n,r,i,o,a){var s=[],u={},l={};t.forEach(function(t){t.children||t.attr[n]&&(l[t.attr[n]]||(l[t.attr[n]]=[]))}),t.forEach(function(t,i){t.children||e[i]===_.a||t.attr[n]&&l[t.attr[n]].push(r[i])});var c=i?[-360,0,360]:[0],f=o.geo,h=0;return c.forEach(function(t){Uu()(l,function(e,r){var i=0,o=0;if(f[n][r]?(i=f[n][r].latitude,o=f[n][r].longitude+t):console.warn("Warning: Lat/long missing from metadata for",r),o>-360&&o<360){var l={name:r,count:e.length,color:Object(w.a)(e),latitude:i,longitude:o,coords:ol(i,o,a)};s.push(l),u[r]?u[r].push(h):u[r]=[h],h+=1}})}),{demeData:s,demeIndices:u}}(t,e,n,r,i,o,a),u=s.demeData,l=s.demeIndices,c=ul(t,e,n,r,i,o,a);return{demeData:u,transmissionData:c.transmissionData,demeIndices:l,transmissionIndices:c.transmissionIndices,demesMissingLatLongs:c.demesMissingLatLongs}},cl=function(t,e,n,r,i,o,a,s){var u,l;return t&&e&&(u=function(t,e,n,r,i,o){var a=t.slice(),s={};return Uu()(e,function(t,e){s[e]=[]}),n.forEach(function(t,e){t.children||r[e]===_.a||t.attr[i]&&s[t.attr[i]].push(o[e])}),Uu()(s,function(t,n){e[n].forEach(function(e){a[e].count=t.length,a[e].color=Object(w.a)(t)})}),a}(t,n,i,o,a,s),l=function(t,e,n,r,i,o){var a=t.slice();return n.forEach(function(t){t.children&&t.children.forEach(function(n){if(t.attr[i]&&n.attr[i]&&t.attr[i]!==n.attr[i]){var s=t.arrayIdx.toString()+"-"+n.arrayIdx.toString(),u=o[t.arrayIdx],l=r[n.arrayIdx]!==_.a?"visible":"hidden";try{e[s].forEach(function(t){a[t].color=u,a[t].visible=l})}catch(t){console.warn("Error trying to access ".concat(s," in transmissionIndices. Map transmissions may be wrong."))}}})}),a}(e,r,i,o,a,s)),{newDemes:u,newTransmissions:l}},fl=function(t,e,n){var r,i;return t&&e&&(r=function(t,e){return Hu()(t,function(t){return t.coords=ol(t.latitude,t.longitude,e),t})}(t,n),i=function(t,e){var n=t.slice();return n.forEach(function(t){t.originCoords=ol(t.originLatitude,t.originLongitude,e),t.destinationCoords=ol(t.destinationLatitude,t.destinationLongitude,e),t.bezierCurve=al(t.originCoords,t.destinationCoords,t.destinationNumDate)}),n}(e,n)),{newDemes:r,newTransmissions:i}};function hl(t){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){bl(t,e,n[e])})}return t}function dl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ml(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vl(t){return(vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yl(t,e){return(yl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _l=Object(s.b)(function(t){return{branchLengthsToDisplay:t.controls.branchLengthsToDisplay,absoluteDateMin:t.controls.absoluteDateMin,absoluteDateMax:t.controls.absoluteDateMax,treeVersion:t.tree.version,treeLoaded:t.tree.loaded,nodes:t.tree.nodes,nodeColors:t.tree.nodeColors,visibility:t.tree.visibility,visibilityVersion:t.tree.visibilityVersion,metadata:t.metadata,colorScaleVersion:t.controls.colorScale.version,map:t.map,geoResolution:t.controls.geoResolution,animationPlayPauseButton:t.controls.animationPlayPauseButton,mapTriplicate:t.controls.mapTriplicate,dateMinNumeric:t.controls.dateMinNumeric,dateMaxNumeric:t.controls.dateMaxNumeric,panelLayout:t.controls.panelLayout,narrativeMode:t.narrative.display}})((nl=el=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==hl(e)&&"function"!=typeof e?gl(t):e}(this,vl(e).call(this,t))).state={map:null,d3DOMNode:null,d3elems:null,responsive:null,demeData:null,transmissionData:null,demeIndices:null,transmissionIndices:null},n.playPauseButtonClicked=n.playPauseButtonClicked.bind(gl(gl(n))),n.resetButtonClicked=n.resetButtonClicked.bind(gl(gl(n))),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yl(t,e)}(e,i.a.Component),function(t,e,n){e&&ml(t.prototype,e),n&&ml(t,n)}(e,[{key:"componentWillMount",value:function(){var t=this;window.L||Mu()(),window.L.getMapTiles||(window.L.getMapTiles=function(e,n){Nu()(t.state.map,function(r,i){if(r)n(r);else{var o=t.state.map.getSize(),a=function(n){e({base64map:n.srcElement.result,mapDimensions:o,panOffsets:t.state.map._getMapPanePos()})};i.toBlob(function(t){var e=new FileReader;e.addEventListener("loadend",a),e.addEventListener("onerror",n),e.readAsDataURL(t)},"image/png;base64;",1)}})})}},{key:"componentDidMount",value:function(){this.maybeChangeSize(this.props),this.maybeRemoveAllDemesAndTransmissions(this.props),this.maybeUpdateDemesAndTransmissions(this.props),this.maybeInvalidateMapSize(this.props)}},{key:"componentWillReceiveProps",value:function(t){this.modulateInterfaceForNarrativeMode(t),this.maybeChangeSize(t),this.maybeRemoveAllDemesAndTransmissions(t),this.maybeUpdateDemesAndTransmissions(t),this.maybeInvalidateMapSize(t)}},{key:"componentDidUpdate",value:function(t){null!==this.props.nodes&&(this.maybeCreateLeafletMap(),this.maybeSetupD3DOMNode(),this.maybeDrawDemesAndTransmissions(t))}},{key:"maybeInvalidateMapSize",value:function(t){!this.state.map||this.props.width===t.width&&this.props.height===t.height||window.setTimeout(this.invalidateMapSize.bind(this),1500)}},{key:"invalidateMapSize",value:function(){this.state.map.invalidateSize()}},{key:"maybeCreateLeafletMap",value:function(){this.props.metadata.loaded&&!this.state.map&&document.getElementById("map")&&this.createMap()}},{key:"maybeChangeSize",value:function(t){this.props.width===t.width&&this.props.height===t.height&&this.state.responsive&&this.props.treeVersion===t.treeVersion||this.setState({responsive:{width:t.width,height:t.height}})}},{key:"maybeSetupD3DOMNode",value:function(){if(this.state.map&&this.state.responsive&&!this.state.d3DOMNode){var t=Jn("#map svg").attr("id","d3DemesTransmissions");this.setState({d3DOMNode:t})}}},{key:"modulateInterfaceForNarrativeMode",value:function(t){this.props.narrativeMode!==t.narrativeMode&&this.state.map&&(t.narrativeMode?(L.zoomControlButtons.remove(),this.state.map.dragging.disable(),this.state.map.doubleClickZoom.disable()):(L.zoomControlButtons=L.control.zoom({position:"bottomright"}).addTo(this.state.map),this.state.map.dragging.enable(),this.state.map.doubleClickZoom.enable()))}},{key:"maybeDrawDemesAndTransmissions",value:function(){var t=!!this.state.map,e=!!(this.props.metadata.loaded&&this.props.treeLoaded&&this.state.responsive&&this.state.d3DOMNode),n=!this.state.demeData&&!this.state.transmissionData;if(t&&e&&n){if(!this.state.boundsSet){var r=this.getGeoRange();this.state.map.fitBounds(L.latLngBounds(r[0],r[1]))}this.state.map.setMaxBounds(this.getBounds());var i=ll(this.props.nodes,this.props.visibility,this.props.geoResolution,this.props.nodeColors,this.props.mapTriplicate,this.props.metadata,this.state.map),o=i.demeData,a=i.transmissionData,s=i.demeIndices,u=i.transmissionIndices,l=i.demesMissingLatLongs;l.size&&this.props.dispatch(Object(za.a)({message:"The following demes are missing lat/long information",details:dl(l).join(", ")}));var c=function(t,e,n,r,i,o,a){var s=n.selectAll("transmissions").data(e).enter().append("path").attr("d",function(t){return zu(Vu(o,a,t.originCoords,t.destinationCoords,t.originNumDate,t.destinationNumDate,t.visible,t.bezierCurve,t.bezierDates))}).attr("fill","none").attr("stroke-opacity",.6).attr("stroke-linecap","round").attr("stroke",function(t){return t.color}).attr("stroke-width",1);return{demes:n.selectAll("demes").data(t).enter().append("circle").style("stroke","none").style("fill-opacity",.65).style("fill",function(t){return t.color}).attr("r",function(t){return 4*Math.sqrt(t.count)}).attr("transform",function(t){return"translate("+t.coords.x+","+t.coords.y+")"}),transmissions:s}}(o,a,this.state.d3DOMNode,this.state.map,this.props.nodes,this.props.dateMinNumeric,this.props.dateMaxNumeric);this.state.map.on("moveend",this.respondToLeafletEvent.bind(this)),this.setState({boundsSet:!0,d3elems:c,demeData:o,transmissionData:a,demeIndices:s,transmissionIndices:u})}}},{key:"maybeRemoveAllDemesAndTransmissions",value:function(t){var e=!!this.state.map,n=this.props.geoResolution!==t.geoResolution,r=!t.treeLoaded||this.props.treeVersion!==t.treeVersion;e&&(n||r)&&(this.state.d3DOMNode.selectAll("*").remove(),this.setState({boundsSet:!1,d3elems:null,demeData:null,transmissionData:null,demeIndices:null,transmissionIndices:null}))}},{key:"respondToLeafletEvent",value:function(t){if("moveend"===t.type){var e=fl(this.state.demeData,this.state.transmissionData,this.state.map);!function(t,e,n,r,i){n&&(n.demes.data(t).attr("transform",function(t){return"translate("+t.coords.x+","+t.coords.y+")"}),n.transmissions.data(e).attr("d",function(t){return zu(Vu(r,i,t.originCoords,t.destinationCoords,t.originNumDate,t.destinationNumDate,t.visible,t.bezierCurve,t.bezierDates))}))}(e.newDemes,e.newTransmissions,this.state.d3elems,this.props.dateMinNumeric,this.props.dateMaxNumeric)}}},{key:"getGeoRange",value:function(){var t=this,e=[],n=[];Object.keys(this.props.metadata.geo).forEach(function(r){Object.keys(t.props.metadata.geo[r]).forEach(function(i){e.push(t.props.metadata.geo[r][i].latitude),n.push(t.props.metadata.geo[r][i].longitude)})});var r=Lu()(e),i=Pu()(e),o=Lu()(n),a=Pu()(n),s=(o-a)%360,u=r-i,l=Lu()([-80,i-.2*u]),c=Pu()([80,r+.2*u]),f=Lu()([-180,a-.2*s]),h=Pu()([180,o+.2*s]);return[L.latLng(l,h),L.latLng(c,f)]}},{key:"maybeUpdateDemesAndTransmissions",value:function(t){if(this.state.map&&this.props.treeLoaded){var e=t.visibilityVersion!==this.props.visibilityVersion||t.colorScaleVersion!==this.props.colorScaleVersion,n=t.nodes&&t.visibility&&t.geoResolution&&t.nodeColors;if(e&&n){var r=cl(this.state.demeData,this.state.transmissionData,this.state.demeIndices,this.state.transmissionIndices,t.nodes,t.visibility,t.geoResolution,t.nodeColors),i=r.newDemes,o=r.newTransmissions;!function(t,e,n,r,i,o,a){n.demes.data(t).transition().duration(200).ease(No).style("fill",function(t){return t.count>0?t.color:"white"}).attr("r",function(t){return 4*Math.sqrt(t.count)}),n.transmissions.data(e).attr("d",function(t){return zu(Vu(o,a,t.originCoords,t.destinationCoords,t.originNumDate,t.destinationNumDate,t.visible,t.bezierCurve,t.bezierDates))}).attr("stroke",function(t){return t.color})}(i,o,this.state.d3elems,this.state.map,t.nodes,t.dateMinNumeric,t.dateMaxNumeric),this.setState({demeData:i,transmissionData:o})}}}},{key:"getBounds",value:function(){var t,e;return!0===this.props.mapTriplicate?(t=L.latLng(-70,-360),e=L.latLng(80,360)):(t=L.latLng(-70,-180),e=L.latLng(80,180)),L.latLngBounds(t,e)}},{key:"createMap",value:function(){var t=L.map("map",{center:[0,0],zoom:2,scrollWheelZoom:!1,maxBounds:this.getBounds(),minZoom:2,maxZoom:10,zoomControl:!1,sleep:!1,sleepTime:750,wakeTime:750,sleepNote:!0,hoverToWake:!1,dragging:!L.Browser.mobile&&!this.props.narrativeMode,doubleClickZoom:!this.props.narrativeMode,tap:!1});t.getRenderer(t).options.padding=2,L.tileLayer("https://api.mapbox.com/styles/v1/trvrb/ciu03v244002o2in5hlm3q6w2/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoidHJ2cmIiLCJhIjoiY2l1MDRoMzg5MDEwbjJvcXBpNnUxMXdwbCJ9.PMqX7vgORuXLXxtI3wISjw",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(t),this.props.narrativeMode||(L.zoomControlButtons=L.control.zoom({position:"bottomright"}).addTo(t)),this.setState({map:t})}},{key:"animationButtons",value:function(){if(this.props.narrativeMode)return null;var t={color:"#FFFFFF",fontWeight:400,fontSize:12,borderRadius:3,padding:12,border:"none",zIndex:900,position:"absolute",textTransform:"uppercase"};return"divOnly"!==this.props.branchLengthsToDisplay?i.a.createElement("div",null,i.a.createElement("button",{style:pl({},t,{top:20,left:20,width:60,backgroundColor:"Pause"===this.props.animationPlayPauseButton?u.l:u.e}),onClick:this.playPauseButtonClicked},this.props.animationPlayPauseButton),i.a.createElement("button",{style:pl({},t,{top:20,left:88,width:60,backgroundColor:u.h}),onClick:this.resetButtonClicked},"Reset")):i.a.createElement("div",null)}},{key:"maybeCreateMapDiv",value:function(){var t=null;return this.state.responsive&&(t=i.a.createElement("div",{style:{position:"relative"}},this.animationButtons(),i.a.createElement("div",{id:"map",style:{height:this.state.responsive.height,width:this.state.responsive.width}}))),t}},{key:"playPauseButtonClicked",value:function(){"Play"===this.props.animationPlayPauseButton?this.props.dispatch({type:T.B,data:"Pause"}):this.props.dispatch({type:T.B,data:"Play"})}},{key:"resetButtonClicked",value:function(){this.props.dispatch({type:T.B,data:"Play"}),this.props.dispatch(Object(et.c)({newMin:this.props.absoluteDateMin,newMax:this.props.absoluteDateMax,quickdraw:!1}))}},{key:"render",value:function(){return i.a.createElement(sr,{center:!0,title:"Transmissions"},this.maybeCreateMapDiv())}}]),e}(),bl(el,"propTypes",{treeVersion:a.a.number.isRequired,treeLoaded:a.a.bool.isRequired,colorScaleVersion:a.a.number.isRequired}),tl=nl))||tl,wl=n(136),xl=n(263),El=n.n(xl),Sl=function(t,e,n,r){var i=e().tree,o=n.meta.fields[0],a=Us(i.attrs),s=n.meta.fields.slice(1).filter(function(t){return-1===a.indexOf(t)}),u=n.meta.fields.slice(1).filter(function(t){return-1!==a.indexOf(t)}),l=n.data.map(function(t){return t[o]}),c=i.nodes.filter(function(t){return!t.hasChildren}).map(function(t){return t.strain}),f=l.filter(function(t){return-1!==c.indexOf(t)}),h=l.filter(function(t){return-1===f.indexOf(t)});h.length&&console.warn("Ignoring these taxa from the CSV as they don't appear in the tree:",h);var p={},d=!0,m=!1,v=void 0;try{for(var y,g=function(){var t=y.value;p[t[o]]=s.map(function(e){return t[e].length?t[e]:void 0})},b=n.data.filter(function(t){return-1!==f.indexOf(t[o])})[Symbol.iterator]();!(d=(y=b.next()).done);d=!0)g()}catch(t){m=!0,v=t}finally{try{d||null==b.return||b.return()}finally{if(m)throw v}}0!==f.length&&0!==s.length?(t({type:T.a,newColorBys:s,data:p,taxa:f}),t(Object(za.c)({message:"Adding metadata from "+r.name,details:s.length+" fields for "+f.length+" / "+c.length+" taxa"})),u.length&&t(Object(za.d)({message:"Excluded "+u.length+" fields as they already exist",details:u.join(", ")})),h.length&&t(Object(za.d)({message:"Excluded "+h.length+" taxa from the CSV as they aren't in the tree",details:h.join(", ")}))):t(Object(za.a)({message:r.name+" had no (relevent) information",details:0===s.length?"No columns to add as traits":"No taxa which match those in the tree"}))},Tl=function(t,e,n){t(Object(za.a)({message:"Error parsing "+n.name,details:e}))},kl=function(t){return function(e,n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;"text/csv"!==u.type?e(Object(za.d)({message:"Non-CSV File dropped",details:u.type+u.name})):El.a.parse(u,{header:!0,complete:Sl.bind(void 0,e,n),error:Tl.bind(void 0,e),encoding:"UTF-8",comments:"#",delimiter:",",skipEmptyLines:!0,dynamicTyping:!1})}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},Ol=n(35),Cl=n.n(Ol),Ml=(n(139),n(23)),Al=n.n(Ml);function Pl(t){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dl(t){return(Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nl(t,e){return(Nl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Il(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fl,Rl=Symbol(),zl=Symbol(),Vl=Symbol(),Wl=Symbol(),Ul=Symbol(),ql=Symbol(),Hl=Symbol(),Gl=Symbol(),Zl=Symbol(),Kl=200,Yl=38,$l=40,Xl=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Il(Bl(Bl(n=function(t,e){return!e||"object"!==Pl(e)&&"function"!=typeof e?Bl(t):e}(this,Dl(e).call(this,t)))),"componentDidMount",function(){window.addEventListener("resize",n[ql]),document.ontouchmove=function(t){t.preventDefault()},n._pageContainer.addEventListener("wheel",n[Vl]),n._pageContainer.addEventListener("touchmove",n[Wl]),n._pageContainer.addEventListener("keydown",n[Ul]);var t=[];Al.a.isNil(n.props.children[n.state.componentIndex])?t.push(i.a.createElement("div",{ref:function(t){return n["container_"+n.state.componentIndex]=t},style:{height:"100%",width:"100%"}},n.props.children)):t.push(i.a.createElement("div",{key:n.state.componentIndex,ref:function(t){return n["container_"+n.state.componentIndex]=t},style:{height:"100%",width:"100%"}},n.props.children[n.state.componentIndex])),n[Hl](t)}),Il(Bl(Bl(n)),"componentWillUnmount",function(){window.removeEventListener("resize",n[ql]),n._pageContainer.removeEventListener("wheel",n[Vl]),n._pageContainer.removeEventListener("touchmove",n[Wl]),n._pageContainer.removeEventListener("keydown",n[Ul])}),Il(Bl(Bl(n)),"goToPage",function(t){var e=n.props,r=e.pageOnChange,o=e.children,a=n.state.componentIndex,s=jl(n.state.componentsToRender);if(!Al.a.isEqual(a,t))if(Al.a.isNil(n["container_"+t])||n[zl]){if(!n[zl]&&!Al.a.isNil(o[t])){for(var u=function(t){s.push(i.a.createElement("div",{key:t,ref:function(e){return n["container_"+t]=e},style:{height:"100%",width:"100%"}},o[t]))},l=s.length;l<=t;l++)u(l);Al.a.isNil(o[t+1])||s.push(i.a.createElement("div",{key:t+1,ref:function(e){return n["container_"+(t+1)]=e},style:{height:"100%",width:"100%"}},o[t+1])),n[zl]=!0,n.setState({componentsToRender:s},function(){n._pageContainer.style.transform="translate3d(0, ".concat(-100*t,"%, 0)"),r&&r(t+1),setTimeout(function(){n.setState({componentIndex:t},function(){n[zl]=!1,n[Rl]=null})},n.props.animationTimer+Kl)})}}else n[zl]=!0,n._pageContainer.style.transform="translate3d(0, ".concat(-100*t,"%, 0)"),r&&r(t+1),Al.a.isNil(n["container_"+(t+1)])&&!Al.a.isNil(o[t+1])&&s.push(i.a.createElement("div",{key:t+1,ref:function(e){return n["container_"+(t+1)]=e},style:{height:"100%",width:"100%"}},o[t+1])),setTimeout(function(){n.setState({componentIndex:t,componentsToRender:s},function(){n[zl]=!1,n[Rl]=null})},n.props.animationTimer+Kl)}),n.state={componentIndex:0,componentsToRender:[]},n[Rl]=null,n[zl]=!1,n[Vl]=function(t){t.deltaY<0?n[Gl]():n[Zl]()},n[Wl]=function(t){Al.a.isNull(n[Rl])?n[Rl]=t.touches[0].clientY:t.touches[0].clientY>n[Rl]?n[Gl]():n[Zl]()},n[Ul]=function(t){Al.a.isEqual(t.keyCode,Yl)&&n[Gl](),Al.a.isEqual(t.keyCode,$l)&&n[Zl]()},n[ql]=function(){n.forceUpdate()},n[Hl]=function(t){var e=[];Al.a.isNil(t)||(e=jl(t)),(e=jl(e).concat(jl(n.state.componentsToRender)))[n.state.componentIndex+1]||Al.a.isNil(n.props.children[n.state.componentIndex+1])||e.push(i.a.createElement("div",{key:n.state.componentIndex+1,ref:function(t){return n["container_"+(n.state.componentIndex+1)]=t},style:{height:"100%",width:"100%",overflow:"hidden"}},n.props.children[n.state.componentIndex+1])),n.setState({componentsToRender:jl(e)})},n[Gl]=function(){Al.a.isNil(n["container_"+(n.state.componentIndex-1)])||n[zl]?n.props.scrollUnavailable&&n.props.scrollUnavailable():(n[zl]=!0,n._pageContainer.style.transform="translate3d(0, ".concat(-100*(n.state.componentIndex-1),"%, 0)"),n.props.pageOnChange&&n.props.pageOnChange(n.state.componentIndex),setTimeout(function(){n.setState(function(t){return{componentIndex:t.componentIndex-1}},function(){n[zl]=!1,n[Rl]=null})},n.props.animationTimer+Kl))},n[Zl]=function(){Al.a.isNil(n["container_"+(n.state.componentIndex+1)])||n[zl]?n.props.scrollUnavailable&&n.props.scrollUnavailable():(n[zl]=!0,n._pageContainer.style.transform="translate3d(0, ".concat(-100*(n.state.componentIndex+1),"%, 0)"),n.props.pageOnChange&&n.props.pageOnChange(n.state.componentIndex+2),setTimeout(function(){n.setState(function(t){return{componentIndex:t.componentIndex+1}},function(){n[zl]=!1,n[Rl]=null,n[Hl]()})},n.props.animationTimer+Kl))},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nl(t,e)}(e,i.a.Component),function(t,e,n){e&&Ll(t.prototype,e),n&&Ll(t,n)}(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.animationTimer,r=e.transitionTimingFunction,o=e.containerHeight;e.containerWidth;return i.a.createElement("div",{id:"PageScroller",className:"narrative",style:{height:o,width:"inherit",overflow:"hidden",padding:"0px 0px 0px 0px"}},i.a.createElement("div",{ref:function(e){return t._pageContainer=e},tabIndex:0,style:{height:"100%",width:"100%",transition:"transform ".concat(n,"ms ").concat(r)}},this.state.componentsToRender))}}]),e}();function Jl(t){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ql(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){tc(t,e,n[e])})}return t}function tc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nc(t,e){return!e||"object"!==Jl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rc(t){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ic(t,e){return(ic=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Il(Xl,"propTypes",{animationTimer:a.a.number,transitionTimingFunction:a.a.string,pageOnChange:a.a.func,scrollUnavailable:a.a.func,containerHeight:a.a.number,containerWidth:a.a.number}),Il(Xl,"defaultProps",{animationTimer:1e3,transitionTimingFunction:"ease-in-out",containerHeight:window.innerHeight,containerWidth:window.innerWidth});var oc,ac={color:"#5097BA",textDecoration:"none",cursor:"pointer",fontFamily:"Lato",fontWeight:"400",fontSize:"1.8em"},sc=Object(s.b)(function(t){return{loaded:t.narrative.loaded,blocks:t.narrative.blocks,currentInFocusBlockIdx:t.narrative.blockIdx}})(Fl=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=nc(this,rc(e).call(this,t))).state={showingEndOfNarrativePage:!1},n.exitNarrativeMode=function(){n.props.dispatch({type:T.K,display:!1})},n.changeAppStateViaBlock=function(t){var e=t-1;e===n.props.blocks.length?n.setState({showingEndOfNarrativePage:!0}):(n.state.showingEndOfNarrativePage&&n.setState({showingEndOfNarrativePage:!1}),n.props.dispatch(Object(Lt.a)({dontChangeDataset:!0,query:Cl.a.parse(n.props.blocks[e].query),queryToDisplay:{n:e},push:!0})))},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ic(t,e)}(e,i.a.Component),function(t,e,n){e&&ec(t.prototype,e),n&&ec(t,n)}(e,[{key:"componentDidMount",value:function(){window.twttr&&window.twttr.ready&&window.twttr.widgets.load(),0!==this.props.currentInFocusBlockIdx&&this.reactPageScroller.goToPage(this.props.currentInFocusBlockIdx)}},{key:"renderOpacityFade",value:function(t){var e={zIndex:200,position:"absolute",backgroundImage:"linear-gradient(to ".concat(t?"top":"bottom",", rgba(255, 255, 255, 0), ").concat(u.m,")"),width:"100%",height:"30px"};return t?e.top=_.B+25:e.bottom=0,i.a.createElement("div",{id:"fade".concat(t?"Top":"Bottom"),style:e})}},{key:"renderChevron",value:function(t){var e=this,n=30,r=30,o={zIndex:200,position:"absolute",cursor:"pointer",left:"".concat(this.props.width/2-n/2,"px")};t?o.top=_.B+25:o.bottom=0;var a=t?this.props.currentInFocusBlockIdx-1:this.props.currentInFocusBlockIdx+1;this.state.showingEndOfNarrativePage&&(a=this.props.blocks.length-1);var s=t?"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z":"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z";return i.a.createElement("div",{id:"hand".concat(t?"Up":"Down"),style:o,onClick:function(){return e.reactPageScroller.goToPage(a)}},i.a.createElement("svg",{width:"".concat(n,"px"),height:"".concat(r,"px"),viewBox:"0 0 448 512"},i.a.createElement("path",{d:s,fill:"black"})))}},{key:"renderProgress",value:function(){var t=this;return i.a.createElement("div",{style:{height:"".concat(25,"px"),width:"100%",backgroundColor:"inherit",boxShadow:"0px -3px 3px -3px rgba(0, 0, 0, 0.2) inset",display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},this.props.blocks.map(function(e,n){var r=t.state.showingEndOfNarrativePage||t.props.currentInFocusBlockIdx!==n?"6px":"14px";return i.a.createElement("div",{key:e.__html.slice(0,30),style:{width:r,height:r,background:"#74a9cf",borderRadius:"50%",cursor:"pointer"},onClick:function(){return t.reactPageScroller.goToPage(n)}})}))}},{key:"renderBlocks",value:function(){var t=this,e=this.props.blocks.map(function(t,e){return i.a.createElement("div",{id:"NarrativeBlock_".concat(e),key:t.__html.slice(0,50),style:{padding:"10px 20px",height:"inherit",overflow:"hidden"},dangerouslySetInnerHTML:t})});return e.push(i.a.createElement("div",{key:"EON",id:"EndOfNarrative",style:{flexBasis:"50%",flexShrink:0}},i.a.createElement("h3",{style:{textAlign:"center"}},"END OF NARRATIVE"),i.a.createElement("div",{style:Ql({},ac,{textAlign:"center"}),onClick:function(){return t.reactPageScroller.goToPage(0)}},"Scroll back to the beginning"),i.a.createElement("div",{style:Ql({},ac,{textAlign:"center",marginTop:"10px"}),onClick:this.exitNarrativeMode},"Leave the narrative & explore the data yourself"))),e}},{key:"render",value:function(){var t=this;return this.props.loaded?i.a.createElement("div",{id:"NarrativeContainer",style:{top:_.B}},this.renderProgress(),this.renderOpacityFade(!0),this.renderOpacityFade(!1),0!==this.props.currentInFocusBlockIdx?this.renderChevron(!0):null,this.state.showingEndOfNarrativePage?null:this.renderChevron(!1),i.a.createElement(Xl,{ref:function(e){t.reactPageScroller=e},containerHeight:this.props.height-25,pageOnChange:this.changeAppStateViaBlock},this.renderBlocks())):null}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:T.s,pathname:this.props.blocks[this.props.currentInFocusBlockIdx].dataset,query:Cl.a.parse(this.props.blocks[this.props.currentInFocusBlockIdx].url)})}}]),e}())||Fl;function uc(t){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cc(t,e){return!e||"object"!==uc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fc(t){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hc(t,e){return(hc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pc=Object(s.b)(function(t){return{animationPlayPauseButton:t.controls.animationPlayPauseButton,absoluteDateMaxNumeric:t.controls.absoluteDateMaxNumeric,absoluteDateMinNumeric:t.controls.absoluteDateMinNumeric,dateMinNumeric:t.controls.dateMinNumeric,dateMaxNumeric:t.controls.dateMaxNumeric,mapAnimationCumulative:t.controls.mapAnimationCumulative,mapAnimationShouldLoop:t.controls.mapAnimationShouldLoop,mapAnimationDurationInMilliseconds:t.controls.mapAnimationDurationInMilliseconds}})(oc=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),cc(this,fc(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hc(t,e)}(e,i.a.Component),function(t,e,n){e&&lc(t.prototype,e),n&&lc(t,n)}(e,[{key:"componentDidMount",value:function(){this.maybeAnimate()}},{key:"componentDidUpdate",value:function(){this.maybeAnimate()}},{key:"render",value:function(){return null}},{key:"maybeAnimate",value:function(){var t=this;if("Pause"===this.props.animationPlayPauseButton&&!window.NEXTSTRAIN.animationTickReference){var e=this.props.absoluteDateMaxNumeric-this.props.absoluteDateMinNumeric,n=_.d*e/this.props.mapAnimationDurationInMilliseconds,r=_.e*e;this.props.dateMaxNumeric-this.props.dateMinNumeric<1.3*r?window.NEXTSTRAIN.animationStartPoint&&window.NEXTSTRAIN.animationEndPoint||(window.NEXTSTRAIN.animationStartPoint=this.props.dateMinNumeric,window.NEXTSTRAIN.animationEndPoint=this.props.absoluteDateMaxNumeric):(window.NEXTSTRAIN.animationStartPoint=this.props.dateMinNumeric,window.NEXTSTRAIN.animationEndPoint=this.props.dateMaxNumeric);var i=this.props.dateMinNumeric,o=i+r;this.props.dispatch({type:T.C});window.NEXTSTRAIN.animationTickReference=setInterval(function(){if("Play"===t.props.animationPlayPauseButton)return clearInterval(window.NEXTSTRAIN.animationTickReference),void(window.NEXTSTRAIN.animationTickReference=null);t.props.dispatch(Object(et.c)({newMin:Object(tt.d)(i),newMax:Object(tt.d)(o),quickdraw:!0})),t.props.mapAnimationCumulative||(i+=n),(o+=n)>=window.NEXTSTRAIN.animationEndPoint&&(t.props.mapAnimationShouldLoop?(i=window.NEXTSTRAIN.animationStartPoint,o=i+r):(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,t.props.dispatch({type:T.B,data:"Play"}),t.props.dispatch(Object(et.c)({newMin:Object(tt.d)(window.NEXTSTRAIN.animationStartPoint),newMax:Object(tt.d)(window.NEXTSTRAIN.animationEndPoint),quickdraw:!1})),window.NEXTSTRAIN.animationStartPoint=void 0,window.NEXTSTRAIN.animationEndPoint=void 0))},_.d)}}}]),e}())||oc,dc=function(t,e){return e*(t-(1===e?40:100))},mc=function(t){var e=t.horizontal,n=t.vertical,r=t.availableWidth,i=t.availableHeight,o=t.minHeight,a=void 0===o?void 0:o,s=t.maxAspectRatio,u=void 0===s?void 0:s,l=e*(r-(1===e?40:100)),c=n*i-52;return u&&c>u*l&&(c=u*l),a&&c<a&&(c=a),{width:l,height:c}};function vc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yc,gc,bc,_c=function(t,e){return i.a.createElement("button",{style:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){vc(t,e,n[e])})}return t}({},u.r,{fontSize:14,backgroundColor:"inherit",zIndex:100,position:"fixed",right:5,top:-1,cursor:"pointer",color:u.b}),onClick:function(){return t({type:T.K,display:!e})}},e?"explore the data yourself":"return to the narrative")};function wc(t){return(wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Oc(t,e,n[e])})}return t}function Ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sc(t,e){return!e||"object"!==wc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tc(t){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kc(t,e){return(kc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cc=function(t){var e=t.styles,n=t.availableWidth,r=t.availableHeight,o=t.panels,a=t.grid,s=t.narrativeIsLoaded,u=t.narrativeIsDisplayed,l=t.frequenciesLoaded,c=t.dispatch,f=function(t){return-1!==o.indexOf(t)},h=a?.5:1,p=.36,d=a?.64:.88;if(u){var m=!0+f("entropy")+f("frequencies")-1;0===m?d=1:1===m?(d=.7,p=.3):(d=.5,p=.25),f("map")&&f("tree")&&!a&&(console.warn("narrative mode specified full display but we have both map & tree"),h=.5),!a||f("map")&&f("tree")||(console.warn("narrative mode specified grid display but we are not showing both map & tree"),h=1)}var v=mc({horizontal:h,vertical:d,availableWidth:n,availableHeight:r}),y=mc({horizontal:1,vertical:p,availableWidth:n,availableHeight:r,minHeight:150});return i.a.createElement("div",{style:e},s?_c(c,u):null,u?null:i.a.createElement(ku,{width:dc(n,1)}),f("tree")?i.a.createElement(Ou,{width:v.width,height:v.height}):null,f("map")?i.a.createElement(_l,{width:v.width,height:v.height,justGotNewDatasetRenderNewMap:!1}):null,f("entropy")?i.a.createElement(Pa,{width:y.width,height:y.height}):null,f("frequencies")&&l?i.a.createElement(Di,{width:y.width,height:y.height}):null,u?null:i.a.createElement(yu,{width:dc(n,1)}))},Mc=function(t){var e=t.styles,n=t.mobileDisplay,r=t.handler;return n?i.a.createElement("div",{style:e,onClick:r,onTouchStart:r}):i.a.createElement("div",null)},Ac=Object(s.b)(function(t){return{panelsToDisplay:t.controls.panelsToDisplay,panelLayout:t.controls.panelLayout,displayNarrative:t.narrative.display,narrativeIsLoaded:t.narrative.loaded,narrativeTitle:t.narrative.title,browserDimensions:t.browserDimensions.browserDimensions,frequenciesLoaded:t.frequencies.loaded}})((bc=gc=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=Sc(this,Tc(e).call(this,t));var r=window.matchMedia("(min-width: ".concat(_.k,"px)"));return r.addListener(function(){return n.setState({sidebarOpen:n.state.mql.matches,mobileDisplay:!n.state.mql.matches})}),n.state={mql:r,sidebarOpen:r.matches,mobileDisplay:!r.matches},M(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kc(t,e)}(e,i.a.Component),function(t,e,n){e&&Ec(t.prototype,e),n&&Ec(t,n)}(e,[{key:"componentWillReceiveProps",value:function(t){(this.state.mql.matches||t.displayNarrative&&!this.props.displayNarrative)&&this.setState({sidebarOpen:!0})}},{key:"componentDidMount",value:function(){var t=this;document.addEventListener("dragover",function(t){t.preventDefault()},!1),document.addEventListener("drop",function(e){return e.preventDefault(),t.props.dispatch(kl(e.dataTransfer.files))},!1)}},{key:"render",value:function(){var t=this,e=this.props.browserDimensions.width,n=this.props.browserDimensions.height,r=function(t,e){return e?t>1500?500:t>1e3?400:310:_.m+_.l}(e,this.props.displayNarrative),o=this.state.sidebarOpen?r:0;this.state.mobileDisplay||(e-=o);var a=-1!==this.props.panelsToDisplay.indexOf("map"),s={position:"absolute",top:0,bottom:0,right:0,transition:"left 0.3s ease-out"},c=xc({},s,{position:"absolute",display:"block",width:e,height:n,left:this.state.sidebarOpen?o:0,opacity:this.state.sidebarOpen?1:0,visibility:this.state.sidebarOpen?"visible":"hidden",zIndex:8e3,backgroundColor:"rgba(0,0,0,0.5)",cursor:"pointer",overflow:"scroll",transition:this.state.sidebarOpen?"visibility 0s ease-out, left 0.3s ease-out, opacity 0.3s ease-out":"left 0.3s ease-out, opacity 0.3s ease-out, visibility 0s ease-out 0.3s"}),f=xc({},s,{left:this.state.sidebarOpen?0:-1*r,backgroundColor:u.m,height:n,width:r,maxWidth:r,overflowY:"auto",overflowX:"hidden",boxShadow:"-3px 0px 3px -3px rgba(0, 0, 0, 0.2) inset"}),h=xc({},s,{backgroundColor:"#fff",height:n,width:e,overflowX:"hidden",overflowY:"scroll",left:this.state.sidebarOpen?r:0});return i.a.createElement("span",null,i.a.createElement(pc,null),i.a.createElement(ou,null),i.a.createElement(l,{sidebarOpen:this.state.sidebarOpen,mobileDisplay:this.state.mobileDisplay,handler:function(){t.setState({sidebarOpen:!t.state.sidebarOpen})}}),i.a.createElement("div",{id:"SidebarContainer",style:f},i.a.createElement(wl.a,{minified:!0,mobileDisplay:this.state.mobileDisplay,toggleHandler:function(){t.setState({sidebarOpen:!t.state.sidebarOpen})},narrativeTitle:!!this.props.displayNarrative&&this.props.narrativeTitle,width:r}),this.props.displayNarrative?i.a.createElement(sc,{height:n-_.B,width:f.width}):i.a.createElement(rn,{mapOn:a})),i.a.createElement(Cc,{styles:h,availableWidth:e,availableHeight:n,panels:this.props.panelsToDisplay,grid:"grid"===this.props.panelLayout,narrativeIsLoaded:this.props.narrativeIsLoaded,narrativeIsDisplayed:this.props.displayNarrative,dispatch:this.props.dispatch,frequenciesLoaded:this.props.frequenciesLoaded}),i.a.createElement(Mc,{styles:c,sidebarOpen:this.state.sidebarOpen,mobileDisplay:this.state.mobileDisplay,handler:function(){t.setState({sidebarOpen:!1})}}))}}]),e}(),Oc(gc,"propTypes",{dispatch:a.a.func.isRequired}),yc=bc))||yc;e.a=Ac},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(6),a=n(58),s=n(3),u=n(63),l=n(83);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m,v="#ffffbf",y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=h(this,p(e).call(this,t))).state={status:"loading",backgroundColor:v,minDate:void 0,maxDate:void 0,numTips:void 0,lastUpdated:void 0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,i.a.Component),function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(e,[{key:"componentDidMount",value:function(){var t=this;Object(l.a)("".concat(s.g,"/getDataset?prefix=").concat(this.props.path)).then(function(e){var n=Object(u.b)({json:e,query:""});t.setState({status:"loaded",backgroundColor:"#91bfdb",minDate:n.controls.dateMin,maxDate:n.controls.dateMax,numTips:e.meta.virus_count,lastUpdated:e.meta.updated})}).catch(function(e){console.warn("Failed to fetch or process JSONs for",t.props.path,"ERR:",e.type),console.log(e),t.setState({status:"Error fetching / processing JSONs",backgroundColor:"#fc8d59"})})}},{key:"render",value:function(){var t={flex:"0 0 15%"};return i.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",backgroundColor:this.state.backgroundColor,margin:"10px 10px 10px 10px",textAlign:"center"}},i.a.createElement("h3",{style:t},this.props.path),i.a.createElement("h3",{style:t},this.state.status),"loaded"===this.state.status?[i.a.createElement("h3",{style:{flex:"0 0 30%"},key:"tips"},"".concat(this.state.numTips," tips span ").concat(this.state.minDate," to ").concat(this.state.maxDate)),i.a.createElement("h3",{style:t,key:"updated"},"Last updated: ".concat(this.state.lastUpdated))]:null)}}]),e}(),g=n(2),b=n(29);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=Object(o.b)()(m=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=x(this,E(e).call(this,t))).state={source:void 0,available:void 0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,i.a.Component),function(t,e,n){e&&w(t.prototype,e),n&&w(t,n)}(e,[{key:"componentDidMount",value:function(){var t=this;Object(l.a)("".concat(s.g,"/getAvailable?prefix=").concat(window.location.pathname)).then(function(e){t.setState(e)}).catch(function(e){console.warn(e),t.props.dispatch(Object(b.c)("Error getting available datasets"))})}},{key:"getBadges",value:function(){return i.a.createElement(a.a,{wrap:"wrap",justifyContent:"space-between",alignItems:"center"},i.a.createElement("div",null,i.a.createElement("a",{href:"/",style:{paddingLeft:"8px",paddingRight:"8px",paddingTop:"20px",paddingBottom:"20px"}},i.a.createElement("img",{alt:"",width:"40",src:n(174)}))),i.a.createElement("div",{style:{flex:1}}),i.a.createElement("div",{style:{fontSize:18}},'Status of available datasets for source "'.concat(this.state.source,'"')),i.a.createElement("div",{style:{flex:3}}),i.a.createElement("div",null,i.a.createElement("a",{href:"https://travis-ci.com/nextstrain/auspice"},i.a.createElement("button",{style:g.i},"Auspice",i.a.createElement("div",{style:{margin:"5px"}},i.a.createElement("img",{alt:"auspice-badge",src:"https://travis-ci.com/nextstrain/auspice.svg?branch=release"}))))),i.a.createElement("div",{style:{width:"10px"}}),i.a.createElement("div",null,i.a.createElement("a",{href:"https://travis-ci.com/nextstrain/static"},i.a.createElement("button",{style:g.i},"Static",i.a.createElement("div",{style:{margin:"5px"}},i.a.createElement("img",{alt:"static-badge",src:"https://travis-ci.com/nextstrain/static.svg?branch=master"}))))))}},{key:"render",value:function(){var t=this;return this.state.source&&this.state.datasets?i.a.createElement("div",{style:{maxWidth:1020,marginLeft:"auto",marginRight:"auto"}},this.getBadges(),this.state.datasets.map(function(e){var n="/".concat(t.state.source,"/").concat(e.join("/")).replace(/\/+/,"/");return i.a.createElement(y,{key:n,path:n})})):null}}]),e}())||m;e.a=T},function(t,e,n){n(139),t.exports=n(645)},function(t,e,n){n(271),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(351),n(352),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(161),n(375),n(376),n(197),n(377),n(378),n(379),n(380),n(381),n(200),n(202),n(203),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),t.exports=n(49)},function(t,e,n){"use strict";var r=n(12),i=n(31),o=n(20),a=n(4),s=n(33),u=n(66).KEY,l=n(14),c=n(109),f=n(88),h=n(71),p=n(18),d=n(180),m=n(141),v=n(272),y=n(112),g=n(11),b=n(16),_=n(36),w=n(50),x=n(70),E=n(75),S=n(183),T=n(37),k=n(21),O=n(73),C=T.f,M=k.f,A=S.f,P=r.Symbol,j=r.JSON,L=j&&j.stringify,D=p("_hidden"),N=p("toPrimitive"),B={}.propertyIsEnumerable,I=c("symbol-registry"),F=c("symbols"),R=c("op-symbols"),z=Object.prototype,V="function"==typeof P,W=r.QObject,U=!W||!W.prototype||!W.prototype.findChild,q=o&&l(function(){return 7!=E(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=C(z,e);r&&delete z[e],M(t,e,n),r&&t!==z&&M(z,e,r)}:M,H=function(t){var e=F[t]=E(P.prototype);return e._k=t,e},G=V&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Z=function(t,e,n){return t===z&&Z(R,e,n),g(t),e=w(e,!0),g(n),i(F,e)?(n.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),n=E(n,{enumerable:x(0,!1)})):(i(t,D)||M(t,D,x(1,{})),t[D][e]=!0),q(t,e,n)):M(t,e,n)},K=function(t,e){g(t);for(var n,r=v(e=_(e)),i=0,o=r.length;o>i;)Z(t,n=r[i++],e[n]);return t},Y=function(t){var e=B.call(this,t=w(t,!0));return!(this===z&&i(F,t)&&!i(R,t))&&(!(e||!i(this,t)||!i(F,t)||i(this,D)&&this[D][t])||e)},$=function(t,e){if(t=_(t),e=w(e,!0),t!==z||!i(F,e)||i(R,e)){var n=C(t,e);return!n||!i(F,e)||i(t,D)&&t[D][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=A(_(t)),r=[],o=0;n.length>o;)i(F,e=n[o++])||e==D||e==u||r.push(e);return r},J=function(t){for(var e,n=t===z,r=A(n?R:_(t)),o=[],a=0;r.length>a;)!i(F,e=r[a++])||n&&!i(z,e)||o.push(F[e]);return o};V||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(R,n),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),q(this,t,x(1,n))};return o&&U&&q(z,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),T.f=$,k.f=Z,n(76).f=S.f=X,n(97).f=Y,n(111).f=J,o&&!n(72)&&s(z,"propertyIsEnumerable",Y,!0),d.f=function(t){return H(p(t))}),a(a.G+a.W+a.F*!V,{Symbol:P});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=O(p.store),nt=0;et.length>nt;)m(et[nt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return i(I,t+="")?I[t]:I[t]=P(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!V,"Object",{create:function(t,e){return void 0===e?E(t):K(E(t),e)},defineProperty:Z,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:X,getOwnPropertySymbols:J}),j&&a(a.S+a.F*(!V||l(function(){var t=P();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!G(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,L.apply(j,r)}}),P.prototype[N]||n(32)(P.prototype,N,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(73),i=n(111),o=n(97);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(4);r(r.S,"Object",{create:n(75)})},function(t,e,n){var r=n(4);r(r.S+r.F*!n(20),"Object",{defineProperty:n(21).f})},function(t,e,n){var r=n(4);r(r.S+r.F*!n(20),"Object",{defineProperties:n(182)})},function(t,e,n){var r=n(36),i=n(37).f;n(53)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(24),i=n(38);n(53)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(24),i=n(73);n(53)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(53)("getOwnPropertyNames",function(){return n(183).f})},function(t,e,n){var r=n(16),i=n(66).onFreeze;n(53)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(16),i=n(66).onFreeze;n(53)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(16),i=n(66).onFreeze;n(53)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(16);n(53)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(16);n(53)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(16);n(53)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(4);r(r.S+r.F,"Object",{assign:n(184)})},function(t,e,n){var r=n(4);r(r.S,"Object",{is:n(288)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(4);r(r.S,"Object",{setPrototypeOf:n(145).set})},function(t,e,n){"use strict";var r=n(98),i={};i[n(18)("toStringTag")]="z",i+""!="[object z]"&&n(33)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(4);r(r.P,"Function",{bind:n(185)})},function(t,e,n){var r=n(21).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(20)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(16),i=n(38),o=n(18)("hasInstance"),a=Function.prototype;o in a||n(21).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(4),i=n(187);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(4),i=n(188);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(12),i=n(31),o=n(43),a=n(147),s=n(50),u=n(14),l=n(76).f,c=n(37).f,f=n(21).f,h=n(89).trim,p=r.Number,d=p,m=p.prototype,v="Number"==o(n(75)(m)),y="trim"in String.prototype,g=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(v?u(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new d(g(e)),n,p):g(e)};for(var b,_=n(20)?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(d,b=_[w])&&!i(p,b)&&f(p,b,c(d,b));p.prototype=m,m.constructor=p,n(33)(r,"Number",p)}},function(t,e,n){"use strict";var r=n(4),i=n(52),o=n(189),a=n(148),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(14)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,c),l=i(t),m="",v="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=l;r>=7;)f(1e7,0),r-=7;for(f(d(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),v=p()}else f(0,n),f(1<<-e,0),v=p()+a.call("0",l);return v=l>0?m+((s=v.length)<=l?"0."+a.call("0",l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):m+v}})},function(t,e,n){"use strict";var r=n(4),i=n(14),o=n(189),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(4);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(4),i=n(12).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(4);r(r.S,"Number",{isInteger:n(190)})},function(t,e,n){var r=n(4);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(4),i=n(190),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(4);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(4);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(4),i=n(188);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(4),i=n(187);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(4),i=n(191),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(4),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(4),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(4),i=n(149);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(4);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(4),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(4),i=n(150);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(4);r(r.S,"Math",{fround:n(192)})},function(t,e,n){var r=n(4),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(4),i=Math.imul;r(r.S+r.F*n(14)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(4);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(4);r(r.S,"Math",{log1p:n(191)})},function(t,e,n){var r=n(4);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(4);r(r.S,"Math",{sign:n(149)})},function(t,e,n){var r=n(4),i=n(150),o=Math.exp;r(r.S+r.F*n(14)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(4),i=n(150),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(4);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(4),i=n(74),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(4),i=n(36),o=n(22);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(89)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(151)(!0);n(152)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(4),i=n(151)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(4),i=n(22),o=n(154),a="".endsWith;r(r.P+r.F*n(155)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(4),i=n(154);r(r.P+r.F*n(155)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(4);r(r.P,"String",{repeat:n(148)})},function(t,e,n){"use strict";var r=n(4),i=n(22),o=n(154),a="".startsWith;r(r.P+r.F*n(155)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(34)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(34)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(34)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(34)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(34)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(34)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(34)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(34)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(34)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(34)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(34)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(34)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(34)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(4);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(4),i=n(24),o=n(50);r(r.P+r.F*n(14)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(4),i=n(350);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(14),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(33)(r,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,e,n){var r=n(18)("toPrimitive"),i=Date.prototype;r in i||n(32)(i,r,n(353))},function(t,e,n){"use strict";var r=n(11),i=n(50);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(4);r(r.S,"Array",{isArray:n(112)})},function(t,e,n){"use strict";var r=n(42),i=n(4),o=n(24),a=n(193),s=n(156),u=n(22),l=n(157),c=n(158);i(i.S+i.F*!n(114)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,v=void 0!==m,y=0,g=c(h);if(v&&(m=r(m,d>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(n=new p(e=u(h.length));e>y;y++)l(n,y,v?m(h[y],y):h[y]);else for(f=g.call(h),n=new p;!(i=f.next()).done;y++)l(n,y,v?a(f,m,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(4),i=n(157);r(r.S+r.F*n(14)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(4),i=n(36),o=[].join;r(r.P+r.F*(n(96)!=Object||!n(44)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(4),i=n(144),o=n(43),a=n(74),s=n(22),u=[].slice;r(r.P+r.F*n(14)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),l=a(e,n),c=s(l-i),f=new Array(c),h=0;h<c;h++)f[h]="String"==r?this.charAt(i+h):this[i+h];return f}})},function(t,e,n){"use strict";var r=n(4),i=n(28),o=n(24),a=n(14),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(44)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(4),i=n(54)(0),o=n(44)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(16),i=n(112),o=n(18)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(4),i=n(54)(1);r(r.P+r.F*!n(44)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(4),i=n(54)(2);r(r.P+r.F*!n(44)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(4),i=n(54)(3);r(r.P+r.F*!n(44)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(4),i=n(54)(4);r(r.P+r.F*!n(44)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(4),i=n(194);r(r.P+r.F*!n(44)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(4),i=n(194);r(r.P+r.F*!n(44)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(4),i=n(110)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(44)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(4),i=n(36),o=n(52),a=n(22),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(44)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(4);r(r.P,"Array",{copyWithin:n(195)}),n(67)("copyWithin")},function(t,e,n){var r=n(4);r(r.P,"Array",{fill:n(160)}),n(67)("fill")},function(t,e,n){"use strict";var r=n(4),i=n(54)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(67)("find")},function(t,e,n){"use strict";var r=n(4),i=n(54)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(67)(o)},function(t,e,n){n(77)("Array")},function(t,e,n){var r=n(12),i=n(147),o=n(21).f,a=n(76).f,s=n(113),u=n(115),l=r.RegExp,c=l,f=l.prototype,h=/a/g,p=/a/g,d=new l(h)!==h;if(n(20)&&(!d||n(14)(function(){return p[n(18)("match")]=!1,l(h)!=h||l(p)==p||"/a/i"!=l(h,"i")}))){l=function(t,e){var n=this instanceof l,r=s(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(d?new c(r&&!o?t.source:t,e):c((r=t instanceof l)?t.source:t,r&&o?u.call(t):e),n?this:f,l)};for(var m=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},v=a(c),y=0;v.length>y;)m(v[y++]);f.constructor=l,l.prototype=f,n(33)(r,"RegExp",l)}n(77)("RegExp")},function(t,e,n){"use strict";n(197);var r=n(11),i=n(115),o=n(20),a=/./.toString,s=function(t){n(33)(RegExp.prototype,"toString",t,!0)};n(14)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){n(116)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(116)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(t,e,n){n(116)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(116)("split",2,function(t,e,r){"use strict";var i=n(113),o=r,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,u,l,c,f,h=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,m=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,p+"g");for(s||(r=new RegExp("^"+v.source+"$(?!\\s)",p));(u=v.exec(n))&&!((l=u.index+u[0].length)>d&&(h.push(n.slice(d,u.index)),!s&&u.length>1&&u[0].replace(r,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(u[f]=void 0)}),u.length>1&&u.index<n.length&&a.apply(h,u.slice(1)),c=u[0].length,d=l,h.length>=m));)v.lastIndex===u.index&&v.lastIndex++;return d===n.length?!c&&v.test("")||h.push(""):h.push(n.slice(d)),h.length>m?h.slice(0,m):h}}else"0".split(void 0,0).length&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(t,e,n){"use strict";var r,i,o,a,s=n(72),u=n(12),l=n(42),c=n(98),f=n(4),h=n(16),p=n(28),d=n(78),m=n(79),v=n(117),y=n(162).set,g=n(163)(),b=n(164),_=n(198),w=n(199),x=u.TypeError,E=u.process,S=u.Promise,T="process"==c(E),k=function(){},O=i=b.f,C=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(18)("species")]=function(t){t(k,k)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e}catch(t){}}(),M=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,l=e.domain;try{a?(i||(2==t._h&&L(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===e.promise?u(x("Promise-chain cycle")):(o=M(n))?o.call(n,s,u):s(n)):u(r)}catch(t){u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){y.call(u,function(){var e,n,r,i=t._v,o=j(t);if(o&&(e=_(function(){T?E.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=T||j(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){y.call(u,function(){var e;T?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=M(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,l(N,r,1),l(D,r,1))}catch(t){D.call(r,t)}}):(n._v=t,n._s=1,A(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};C||(S=function(t){d(this,S,"Promise","_h"),p(t),r.call(this);try{t(l(N,this,1),l(D,this,1))}catch(t){D.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(80)(S.prototype,{then:function(t,e){var n=O(v(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(N,t,1),this.reject=l(D,t,1)},b.f=O=function(t){return t===S||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!C,{Promise:S}),n(88)(S,"Promise"),n(77)("Promise"),a=n(49).Promise,f(f.S+f.F*!C,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!C),"Promise",{resolve:function(t){return w(s&&this===a?S:this,t)}}),f(f.S+f.F*!(C&&n(114)(function(t){S.all(t).catch(k)})),"Promise",{all:function(t){var e=this,n=O(e),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=O(e),r=n.reject,i=_(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(204),i=n(91);n(118)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(4),i=n(119),o=n(165),a=n(11),s=n(74),u=n(22),l=n(16),c=n(12).ArrayBuffer,f=n(117),h=o.ArrayBuffer,p=o.DataView,d=i.ABV&&c.isView,m=h.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(c!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||l(t)&&v in t}}),r(r.P+r.U+r.F*n(14)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(f(this,h))(u(i-r)),l=new p(this),c=new p(o),d=0;r<i;)c.setUint8(d++,l.getUint8(r++));return o}}),n(77)("ArrayBuffer")},function(t,e,n){var r=n(4);r(r.G+r.W+r.F*!n(119).ABV,{DataView:n(165).DataView})},function(t,e,n){n(59)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(59)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(59)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(59)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(59)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(59)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(59)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(59)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(59)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(4),i=n(28),o=n(11),a=(n(12).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(14)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(4),i=n(75),o=n(28),a=n(11),s=n(16),u=n(14),l=n(185),c=(n(12).Reflect||{}).construct,f=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),h=!u(function(){c(function(){})});r(r.S+r.F*(f||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var r=n(21),i=n(4),o=n(11),a=n(50);i(i.S+i.F*n(14)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(4),i=n(37).f,o=n(11);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(4),i=n(11),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(153)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(37),i=n(38),o=n(31),a=n(4),s=n(16),u=n(11);a(a.S,"Reflect",{get:function t(e,n){var a,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=i(e))?t(l,n,c):void 0}})},function(t,e,n){var r=n(37),i=n(4),o=n(11);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(4),i=n(38),o=n(11);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(4);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(4),i=n(11),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(4);r(r.S,"Reflect",{ownKeys:n(206)})},function(t,e,n){var r=n(4),i=n(11),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(21),i=n(37),o=n(38),a=n(31),s=n(4),u=n(70),l=n(11),c=n(16);s(s.S,"Reflect",{set:function t(e,n,s){var f,h,p=arguments.length<4?e:arguments[3],d=i.f(l(e),n);if(!d){if(c(h=o(e)))return t(h,n,s,p);d=u(0)}return a(d,"value")?!(!1===d.writable||!c(p)||((f=i.f(p,n)||u(0)).value=s,r.f(p,n,f),0)):void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,n){var r=n(4),i=n(145);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(4),i=n(110)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(67)("includes")},function(t,e,n){"use strict";var r=n(4),i=n(207),o=n(24),a=n(22),s=n(28),u=n(159);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(67)("flatMap")},function(t,e,n){"use strict";var r=n(4),i=n(207),o=n(24),a=n(22),s=n(52),u=n(159);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(67)("flatten")},function(t,e,n){"use strict";var r=n(4),i=n(151)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(4),i=n(208),o=n(166);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(4),i=n(208),o=n(166);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(89)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(89)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(4),i=n(51),o=n(22),a=n(113),s=n(115),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n(153)(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new l(r,e)}})},function(t,e,n){n(141)("asyncIterator")},function(t,e,n){n(141)("observable")},function(t,e,n){var r=n(4),i=n(206),o=n(36),a=n(37),s=n(157);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,l=i(r),c={},f=0;l.length>f;)void 0!==(n=u(r,e=l[f++]))&&s(c,e,n);return c}})},function(t,e,n){var r=n(4),i=n(209)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(4),i=n(209)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(4),i=n(24),o=n(28),a=n(21);n(20)&&r(r.P+n(120),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(4),i=n(24),o=n(28),a=n(21);n(20)&&r(r.P+n(120),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(4),i=n(24),o=n(50),a=n(38),s=n(37).f;n(20)&&r(r.P+n(120),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(4),i=n(24),o=n(50),a=n(38),s=n(37).f;n(20)&&r(r.P+n(120),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(4);r(r.P+r.R,"Map",{toJSON:n(210)("Map")})},function(t,e,n){var r=n(4);r(r.P+r.R,"Set",{toJSON:n(210)("Set")})},function(t,e,n){n(121)("Map")},function(t,e,n){n(121)("Set")},function(t,e,n){n(121)("WeakMap")},function(t,e,n){n(121)("WeakSet")},function(t,e,n){n(122)("Map")},function(t,e,n){n(122)("Set")},function(t,e,n){n(122)("WeakMap")},function(t,e,n){n(122)("WeakSet")},function(t,e,n){var r=n(4);r(r.G,{global:n(12)})},function(t,e,n){var r=n(4);r(r.S,"System",{global:n(12)})},function(t,e,n){var r=n(4),i=n(43);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(4);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(4);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(4),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(4),i=n(212),o=n(192);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e,n){var r=n(4);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,e,n){var r=n(4);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,e,n){var r=n(4);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(t,e,n){var r=n(4);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(4),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(4);r(r.S,"Math",{scale:n(212)})},function(t,e,n){var r=n(4);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var r=n(4);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var r=n(4),i=n(49),o=n(12),a=n(117),s=n(199);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(4),i=n(164),o=n(198);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(60),i=n(11),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(60),i=n(11),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var r=n(60),i=n(11),o=n(38),a=r.has,s=r.get,u=r.key,l=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?l(t,r,n):void 0};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(202),i=n(211),o=n(60),a=n(11),s=n(38),u=o.keys,l=o.key,c=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,n){var r=n(60),i=n(11),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(60),i=n(11),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(60),i=n(11),o=n(38),a=r.has,s=r.key,u=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(60),i=n(11),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(60),i=n(11),o=n(28),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){var r=n(4),i=n(163)(),o=n(12).process,a="process"==n(43)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(4),i=n(12),o=n(49),a=n(163)(),s=n(18)("observable"),u=n(28),l=n(11),c=n(78),f=n(80),h=n(32),p=n(79),d=p.RETURN,m=function(t){return null==t?void 0:u(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},y=function(t){return void 0===t._o},g=function(t){y(t)||(t._o=void 0,v(t))},b=function(t,e){l(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}y(this)&&v(this)};b.prototype=f({},{unsubscribe:function(){g(this)}});var _=function(t){this._s=t};_.prototype=f({},{next:function(t){var e=this._s;if(!y(e)){var n=e._o;try{var r=m(n.next);if(r)return r.call(n,t)}catch(t){try{g(e)}finally{throw t}}}},error:function(t){var e=this._s;if(y(e))throw t;var n=e._o;e._o=void 0;try{var r=m(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{v(e)}finally{throw t}}return v(e),t},complete:function(t){var e=this._s;if(!y(e)){var n=e._o;e._o=void 0;try{var r=m(n.complete);t=r?r.call(n,t):void 0}catch(t){try{v(e)}finally{throw t}}return v(e),t}}});var w=function(t){c(this,w,"Observable","_f")._f=u(t)};f(w.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(t){var e="function"==typeof this?this:w,n=m(l(t)[s]);if(n){var r=l(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),h(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(77)("Observable")},function(t,e,n){var r=n(12),i=n(4),o=n(166),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(4),i=n(162);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(161),i=n(73),o=n(33),a=n(12),s=n(32),u=n(90),l=n(18),c=l("iterator"),f=l("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),m=0;m<d.length;m++){var v,y=d[m],g=p[y],b=a[y],_=b&&b.prototype;if(_&&(_[c]||s(_,c,h),_[f]||s(_,f,y),u[y]=h,g))for(v in r)_[v]||o(_,v,r[v],!0)}},function(t,e,n){(function(e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=_;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",m={},v={};v[a]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==r&&i.call(g,a)&&(v=g);var b=S.prototype=x.prototype=Object.create(v);E.prototype=b.constructor=S,S.constructor=E,S[u]=E.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},c.awrap=function(t){return{__await:t}},T(k.prototype),k.prototype[s]=function(){return this},c.AsyncIterator=k,c.async=function(t,e,n,r){var i=new k(_(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},T(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=P,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(t,e,n,r){var i=e&&e.prototype instanceof x?e:x,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=w(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function E(){}function S(){}function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){function n(e,r,o,a){var s=w(t[e],t,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}var r;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise(function(r,i){n(t,e,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,O(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=w(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:n,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(65))},function(t,e,n){n(469),t.exports=n(49).RegExp.escape},function(t,e,n){var r=n(4),i=n(470)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e){!function(){"use strict";if(!self.fetch){o.prototype.append=function(t,e){t=r(t),e=i(e);var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},o.prototype.delete=function(t){delete this.map[r(t)]},o.prototype.get=function(t){var e=this.map[r(t)];return e?e[0]:null},o.prototype.getAll=function(t){return this.map[r(t)]||[]},o.prototype.has=function(t){return this.map.hasOwnProperty(r(t))},o.prototype.set=function(t,e){this.map[r(t)]=[i(e)]},o.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)};var t={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},e=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},l.call(c.prototype),l.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},h.error=function(){var t=new h(null,{status:0,statusText:""});return t.type="error",t};var n=[301,302,303,307,308];h.redirect=function(t,e){if(-1===n.indexOf(e))throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:t}})},self.Headers=o,self.Request=c,self.Response=h,self.fetch=function(e,n){return new Promise(function(r,i){var a;a=c.prototype.isPrototypeOf(e)&&!n?e:new c(e,n);var s=new XMLHttpRequest;s.onload=function(){var t=1223===s.status?204:s.status;if(t<100||t>599)i(new TypeError("Network request failed"));else{var e={status:t,statusText:s.statusText,headers:function(t){var e=new o;return t.getAllResponseHeaders().trim().split("\n").forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}(s),url:"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0},n="response"in s?s.response:s.responseText;r(new h(n,e))}},s.onerror=function(){i(new TypeError("Network request failed"))},s.open(a.method,a.url,!0),"include"===a.credentials&&(s.withCredentials=!0),"responseType"in s&&t.blob&&(s.responseType="blob"),a.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===a._bodyInit?null:a._bodyInit)})},self.fetch.polyfill=!0}function r(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function i(t){return"string"!=typeof t&&(t=String(t)),t}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function a(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function u(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},t.blob?(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(u)},this.text=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader;return e.readAsText(t),s(e)}(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=a(this);return t||Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t,n){var r=(n=n||{}).body;if(c.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=n.credentials||this.credentials||"omit",!n.headers&&this.headers||(this.headers=new o(n.headers)),this.method=function(t){var n=t.toUpperCase();return e.indexOf(n)>-1?n:t}(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function h(t,e){e||(e={}),this._initBody(t),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof o?e.headers:new o(e.headers),this.url=e.url||""}}()},function(t,e,n){(function(r,i){var o;!function(r){var a=r.Promise,s=a&&"resolve"in a&&"reject"in a&&"all"in a&&"race"in a&&function(){var t;return new a(function(e){t=e}),"function"==typeof t}();e?(e.Promise=s?a:O,e.Polyfill=O):void 0===(o=function(){return s?a:O}.call(e,n,e,t))||(t.exports=o);var u="pending",l="sealed",c="fulfilled",f="rejected",h=function(){};function p(t){return"[object Array]"===Object.prototype.toString.call(t)}var d,m=void 0!==i?i:setTimeout,v=[];function y(){for(var t=0;t<v.length;t++)v[t][0](v[t][1]);v=[],d=!1}function g(t,e){v.push([t,e]),d||(d=!0,m(y,0))}function b(t){var e=t.owner,n=e.state_,r=e.data_,i=t[n],o=t.then;if("function"==typeof i){n=c;try{r=i(r)}catch(t){E(o,t)}}_(o,r)||(n===c&&w(o,r),n===f&&E(o,r))}function _(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e!==r?w(t,r):x(t,r))},function(e){n||(n=!0,E(t,e))}),!0}}catch(e){return n||E(t,e),!0}return!1}function w(t,e){t!==e&&_(t,e)||x(t,e)}function x(t,e){t.state_===u&&(t.state_=l,t.data_=e,g(T,t))}function E(t,e){t.state_===u&&(t.state_=l,t.data_=e,g(k,t))}function S(t){var e=t.then_;t.then_=void 0;for(var n=0;n<e.length;n++)b(e[n])}function T(t){t.state_=c,S(t)}function k(t){t.state_=f,S(t)}function O(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof O==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function n(t){E(e,t)}try{t(function(t){w(e,t)},n)}catch(t){n(t)}}(t,this)}O.prototype={constructor:O,state_:u,then_:null,data_:void 0,then:function(t,e){var n={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return this.state_===c||this.state_===f?g(b,n):this.then_.push(n),n.then},catch:function(t){return this.then(null,t)}},O.all=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(o(s),n):r[s]=a;i||e(r)})},O.race=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)})},O.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},O.reject=function(t){return new this(function(e,n){n(t)})}}("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this)}).call(this,n(65),n(473).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(474),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(65))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){c(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(a)setTimeout(c,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{l(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(65),n(475))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n(477).polyfill()},function(t,e,n){"use strict";function r(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var u=o[a],l=Object.getOwnPropertyDescriptor(i,u);void 0!==l&&l.enumerable&&(n[u]=i[u])}}return n}t.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(t,e,n){"use strict";
/** @license React v16.6.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(99),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function g(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function w(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||b}function x(){}function E(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&g("85"),this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=w.prototype;var S=E.prototype=new x;S.constructor=E,r(S,w.prototype),S.isPureReactComponent=!0;var T={current:null,currentDispatcher:null},k=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var r=void 0,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)k.call(e,r)&&!O.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:T.current}}function M(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var A=/\/+/g,P=[];function j(t,e,n,r){if(P.length){var i=P.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function L(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function D(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+N(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+N(s=e[l],l);u+=t(s,c,r,i)}else if(c=null===e||"object"!=typeof e?null:"function"==typeof(c=y&&e[y]||e["@@iterator"])?c:null,"function"==typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+N(s,l++),r,i);else"object"===s&&g("31","[object Object]"==(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function N(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function B(t,e){t.func.call(t.context,e,t.count++)}function I(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,function(t){return t}):null!=t&&(M(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),D(t,I,e=j(e,o,r,i)),L(e)}var R={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;D(t,B,e=j(null,null,e,n)),L(e)},count:function(t){return D(t,function(){return null},null)},toArray:function(t){var e=[];return F(t,e,null,function(t){return t}),e},only:function(t){return M(t)||g("143"),t}},createRef:function(){return{current:null}},Component:w,PureComponent:E,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:p,render:t}},lazy:function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:m,type:t,compare:void 0===e?null:e}},Fragment:s,StrictMode:u,unstable_ConcurrentMode:h,Suspense:d,unstable_Profiler:l,createElement:C,cloneElement:function(t,e,n){(null===t||void 0===t)&&g("267",t);var i=void 0,a=r({},t.props),s=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=T.current),void 0!==e.key&&(s=""+e.key);var c=void 0;for(i in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)k.call(e,i)&&!O.hasOwnProperty(i)&&(a[i]=void 0===e[i]&&void 0!==c?c[i]:e[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:o,type:t.type,key:s,ref:u,props:a,_owner:l}},createFactory:function(t){var e=C.bind(null,t);return e.type=t,e},isValidElement:M,version:"16.6.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:T,assign:r}},z={default:R},V=z&&R||z;t.exports=V.default||V},function(t,e,n){"use strict";
/** @license React v16.6.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(99),o=n(480);function a(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,u=null,l=!1,c=null,f={onError:function(t){s=!0,u=t}};function h(t,e,n,r,i,o,a,l,c){s=!1,u=null,function(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this.onError(t)}}.apply(f,arguments)}var p=null,d={};function m(){if(p)for(var t in d){var e=d[t],n=p.indexOf(t);if(-1<n||a("96",t),!y[n])for(var r in e.extractEvents||a("97",t),y[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,u=r;g.hasOwnProperty(u)&&a("99",u),g[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&v(l[i],s,u);i=!0}else o.registrationName?(v(o.registrationName,s,u),i=!0):i=!1;i||a("98",r,t)}}}function v(t,e,n){b[t]&&a("100",t),b[t]=e,_[t]=e.eventTypes[n].dependencies}var y=[],g={},b={},_={},w=null,x=null,E=null;function S(t,e,n,r){e=t.type||"unknown-event",t.currentTarget=E(r),function(t,e,n,r,i,o,f,p,d){if(h.apply(this,arguments),s){if(s){var m=u;s=!1,u=null}else a("198"),m=void 0;l||(l=!0,c=m)}}(e,n,void 0,t),t.currentTarget=null}function T(t,e){return null==e&&a("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function k(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var O=null;function C(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)S(t,e,n[i],r[i]);else n&&S(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function M(t){return C(t,!0)}function A(t){return C(t,!1)}var P={injectEventPluginOrder:function(t){p&&a("101"),p=Array.prototype.slice.call(t),m()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];d.hasOwnProperty(e)&&d[e]===r||(d[e]&&a("102",e),d[e]=r,n=!0)}n&&m()}};function j(t,e){var n=t.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!=typeof n&&a("231",e,typeof n),n)}function L(t,e){if(null!==t&&(O=T(O,t)),t=O,O=null,t&&(k(t,e?M:A),O&&a("95"),l))throw e=c,l=!1,c=null,e}var D=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+D,B="__reactEventHandlers$"+D;function I(t){if(t[N])return t[N];for(;!t[N];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[N]).tag||6===t.tag?t:null}function F(t){return!(t=t[N])||5!==t.tag&&6!==t.tag?null:t}function R(t){if(5===t.tag||6===t.tag)return t.stateNode;a("33")}function z(t){return t[B]||null}function V(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function W(t,e,n){(e=j(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=T(n._dispatchListeners,e),n._dispatchInstances=T(n._dispatchInstances,t))}function U(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=V(e);for(e=n.length;0<e--;)W(n[e],"captured",t);for(e=0;e<n.length;e++)W(n[e],"bubbled",t)}}function q(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=j(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,e),n._dispatchInstances=T(n._dispatchInstances,t))}function H(t){t&&t.dispatchConfig.registrationName&&q(t._targetInst,null,t)}function G(t){k(t,U)}var Z=!("undefined"==typeof window||!window.document||!window.document.createElement);function K(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Y={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionend:K("Transition","TransitionEnd")},$={},X={};function J(t){if($[t])return $[t];if(!Y[t])return t;var e,n=Y[t];for(e in n)if(n.hasOwnProperty(e)&&e in X)return $[t]=n[e];return t}Z&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var Q=J("animationend"),tt=J("animationiteration"),et=J("animationstart"),nt=J("transitionend"),rt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),it=null,ot=null,at=null;function st(){if(at)return at;var t,e,n=ot,r=n.length,i="value"in it?it.value:it.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return at=i.slice(t,1<e?1-e:void 0)}function ut(){return!0}function lt(){return!1}function ct(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ut:lt,this.isPropagationStopped=lt,this}function ft(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function ht(t){t instanceof this||a("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function pt(t){t.eventPool=[],t.getPooled=ft,t.release=ht}i(ct.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ut)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ut)},persist:function(){this.isPersistent=ut},isPersistent:lt,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=lt,this._dispatchInstances=this._dispatchListeners=null}}),ct.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ct.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,pt(n),n},pt(ct);var dt=ct.extend({data:null}),mt=ct.extend({data:null}),vt=[9,13,27,32],yt=Z&&"CompositionEvent"in window,gt=null;Z&&"documentMode"in document&&(gt=document.documentMode);var bt=Z&&"TextEvent"in window&&!gt,_t=Z&&(!yt||gt&&8<gt&&11>=gt),wt=String.fromCharCode(32),xt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Et=!1;function St(t,e){switch(t){case"keyup":return-1!==vt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Tt(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var kt=!1;var Ot={eventTypes:xt,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(yt)t:{switch(t){case"compositionstart":i=xt.compositionStart;break t;case"compositionend":i=xt.compositionEnd;break t;case"compositionupdate":i=xt.compositionUpdate;break t}i=void 0}else kt?St(t,n)&&(i=xt.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=xt.compositionStart);return i?(_t&&"ko"!==n.locale&&(kt||i!==xt.compositionStart?i===xt.compositionEnd&&kt&&(o=st()):(ot="value"in(it=r)?it.value:it.textContent,kt=!0)),i=dt.getPooled(i,e,n,r),o?i.data=o:null!==(o=Tt(n))&&(i.data=o),G(i),o=i):o=null,(t=bt?function(t,e){switch(t){case"compositionend":return Tt(e);case"keypress":return 32!==e.which?null:(Et=!0,wt);case"textInput":return(t=e.data)===wt&&Et?null:t;default:return null}}(t,n):function(t,e){if(kt)return"compositionend"===t||!yt&&St(t,e)?(t=st(),at=ot=it=null,kt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _t&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=mt.getPooled(xt.beforeInput,e,n,r)).data=t,G(e)):e=null,null===o?e:null===e?o:[o,e]}},Ct=null,Mt=null,At=null;function Pt(t){if(t=x(t)){"function"!=typeof Ct&&a("280");var e=w(t.stateNode);Ct(t.stateNode,t.type,e)}}function jt(t){Mt?At?At.push(t):At=[t]:Mt=t}function Lt(){if(Mt){var t=Mt,e=At;if(At=Mt=null,Pt(t),e)for(t=0;t<e.length;t++)Pt(e[t])}}function Dt(t,e){return t(e)}function Nt(t,e,n){return t(e,n)}function Bt(){}var It=!1;function Ft(t,e){if(It)return t(e);It=!0;try{return Dt(t,e)}finally{It=!1,(null!==Mt||null!==At)&&(Bt(),Lt())}}var Rt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Rt[t.type]:"textarea"===e}function Vt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Wt(t){if(!Z)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}function Ut(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function qt(t){t._valueTracker||(t._valueTracker=function(t){var e=Ut(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Ht(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ut(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var Gt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zt=/^(.*)[\\\/]/,Kt="function"==typeof Symbol&&Symbol.for,Yt=Kt?Symbol.for("react.element"):60103,$t=Kt?Symbol.for("react.portal"):60106,Xt=Kt?Symbol.for("react.fragment"):60107,Jt=Kt?Symbol.for("react.strict_mode"):60108,Qt=Kt?Symbol.for("react.profiler"):60114,te=Kt?Symbol.for("react.provider"):60109,ee=Kt?Symbol.for("react.context"):60110,ne=Kt?Symbol.for("react.concurrent_mode"):60111,re=Kt?Symbol.for("react.forward_ref"):60112,ie=Kt?Symbol.for("react.suspense"):60113,oe=Kt?Symbol.for("react.memo"):60115,ae=Kt?Symbol.for("react.lazy"):60116,se="function"==typeof Symbol&&Symbol.iterator;function ue(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=se&&t[se]||t["@@iterator"])?t:null}function le(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case ne:return"ConcurrentMode";case Xt:return"Fragment";case $t:return"Portal";case Qt:return"Profiler";case Jt:return"StrictMode";case ie:return"Suspense"}if("object"==typeof t)switch(t.$$typeof){case ee:return"Context.Consumer";case te:return"Context.Provider";case re:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case oe:return le(t.type);case ae:if(t=1===t._status?t._result:null)return le(t)}return null}function ce(t){var e="";do{t:switch(t.tag){case 2:case 16:case 0:case 1:case 5:case 8:var n=t._debugOwner,r=t._debugSource,i=le(t.type),o=null;n&&(o=le(n.type)),n=i,i="",r?i=" (at "+r.fileName.replace(Zt,"")+":"+r.lineNumber+")":o&&(i=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+i;break t;default:o=""}e+=o,t=t.return}while(t);return e}var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,he=Object.prototype.hasOwnProperty,pe={},de={};function me(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new me(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new me(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new me(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new me(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new me(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new me(t,3,!0,t,null)}),["capture","download"].forEach(function(t){ve[t]=new me(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){ve[t]=new me(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){ve[t]=new me(t,5,!1,t.toLowerCase(),null)});var ye=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}function be(t,e,n,r){var i=ve.hasOwnProperty(e)?ve[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||void 0===e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!he.call(de,t)||!he.call(pe,t)&&(fe.test(t)?de[t]=!0:(pe[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function _e(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function we(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function xe(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=_e(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ee(t,e){null!=(e=e.checked)&&be(t,"checked",e,!1)}function Se(t,e){Ee(t,e);var n=_e(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?ke(t,e.type,n):e.hasOwnProperty("defaultValue")&&ke(t,e.type,_e(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Te(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function ke(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ye,ge);ve[e]=new me(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ye,ge);ve[e]=new me(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ye,ge);ve[e]=new me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),ve.tabIndex=new me("tabIndex",1,!1,"tabindex",null);var Oe={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ce(t,e,n){return(t=ct.getPooled(Oe.change,t,e,n)).type="change",jt(n),G(t),t}var Me=null,Ae=null;function Pe(t){L(t,!1)}function je(t){if(Ht(R(t)))return t}function Le(t,e){if("change"===t)return e}var De=!1;function Ne(){Me&&(Me.detachEvent("onpropertychange",Be),Ae=Me=null)}function Be(t){"value"===t.propertyName&&je(Ae)&&Ft(Pe,t=Ce(Ae,t,Vt(t)))}function Ie(t,e,n){"focus"===t?(Ne(),Ae=n,(Me=e).attachEvent("onpropertychange",Be)):"blur"===t&&Ne()}function Fe(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return je(Ae)}function Re(t,e){if("click"===t)return je(e)}function ze(t,e){if("input"===t||"change"===t)return je(e)}Z&&(De=Wt("input")&&(!document.documentMode||9<document.documentMode));var Ve={eventTypes:Oe,_isInputEventSupported:De,extractEvents:function(t,e,n,r){var i=e?R(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Le:zt(i)?De?o=ze:(o=Fe,a=Ie):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Re),o&&(o=o(t,e)))return Ce(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&ke(i,"number",i.value)}},We=ct.extend({view:null,detail:null}),Ue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ue[t])&&!!e[t]}function He(){return qe}var Ge=0,Ze=0,Ke=!1,Ye=!1,$e=We.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:He,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ge;return Ge=t.screenX,Ke?"mousemove"===t.type?t.screenX-e:0:(Ke=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ze;return Ze=t.screenY,Ye?"mousemove"===t.type?t.screenY-e:0:(Ye=!0,0)}}),Xe=$e.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Je={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qe={eventTypes:Je,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?I(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(a=$e,s=Je.mouseLeave,u=Je.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=Xe,s=Je.pointerLeave,u=Je.pointerEnter,l="pointer");var c=null==o?i:R(o);if(i=null==e?i:R(e),(t=a.getPooled(s,o,n,r)).type=l+"leave",t.target=c,t.relatedTarget=i,(n=a.getPooled(u,e,n,r)).type=l+"enter",n.target=i,n.relatedTarget=c,r=e,o&&r)t:{for(i=r,l=0,a=e=o;a;a=V(a))l++;for(a=0,u=i;u;u=V(u))a++;for(;0<l-a;)e=V(e),l--;for(;0<a-l;)i=V(i),a--;for(;l--;){if(e===i||e===i.alternate)break t;e=V(e),i=V(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(l=o.alternate)||l!==i);)e.push(o),o=V(o);for(o=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)o.push(r),r=V(r);for(r=0;r<e.length;r++)q(e[r],"bubbled",t);for(r=o.length;0<r--;)q(o[r],"captured",n);return[t,n]}},tn=Object.prototype.hasOwnProperty;function en(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function nn(t,e){if(en(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(e,n[r])||!en(t[n[r]],e[n[r]]))return!1;return!0}function rn(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!=(2&e.effectTag))return 1;for(;e.return;)if(0!=(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function on(t){2!==rn(t)&&a("188")}function an(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=rn(t))&&a("188"),1===e?null:t;for(var n=t,r=e;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return on(i),t;if(s===r)return on(i),e;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var sn=ct.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=ct.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ln=We.extend({relatedTarget:null});function cn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn=We.extend({key:function(t){if(t.key){var e=fn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=cn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?hn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:He,charCode:function(t){return"keypress"===t.type?cn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?cn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),dn=$e.extend({dataTransfer:null}),mn=We.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:He}),vn=ct.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=$e.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[Q,"animationEnd"],[tt,"animationIteration"],[et,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[nt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},_n={};function wn(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},bn[t]=e,_n[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){wn(t,!0)}),gn.forEach(function(t){wn(t,!1)});var xn={eventTypes:bn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=_n[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var i=_n[t];if(!i)return null;switch(t){case"keypress":if(0===cn(n))return null;case"keydown":case"keyup":t=pn;break;case"blur":case"focus":t=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=$e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=mn;break;case Q:case tt:case et:t=sn;break;case nt:t=vn;break;case"scroll":t=We;break;case"wheel":t=yn;break;case"copy":case"cut":case"paste":t=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Xe;break;default:t=ct}return G(e=t.getPooled(i,e,n,r)),e}},En=xn.isInteractiveTopLevelEventType,Sn=[];function Tn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=I(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Vt(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<y.length;s++){var u=y[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=T(a,u))}L(a,!1)}}var kn=!0;function On(t,e){if(!e)return null;var n=(En(t)?Mn:An).bind(null,t);e.addEventListener(t,n,!1)}function Cn(t,e){if(!e)return null;var n=(En(t)?Mn:An).bind(null,t);e.addEventListener(t,n,!0)}function Mn(t,e){Nt(An,t,e)}function An(t,e){if(kn){var n=Vt(e);if(null===(n=I(n))||"number"!=typeof n.tag||2===rn(n)||(n=null),Sn.length){var r=Sn.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Ft(Tn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Sn.length&&Sn.push(t)}}}var Pn={},jn=0,Ln="_reactListenersID"+(""+Math.random()).slice(2);function Dn(t){return Object.prototype.hasOwnProperty.call(t,Ln)||(t[Ln]=jn++,Pn[t[Ln]]={}),Pn[t[Ln]]}function Nn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Bn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function In(t,e){var n,r=Bn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Bn(r)}}function Fn(){for(var t=window,e=Nn();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(t){break}e=Nn(t.document)}return e}function Rn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var zn=Z&&"documentMode"in document&&11>=document.documentMode,Vn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wn=null,Un=null,qn=null,Hn=!1;function Gn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Hn||null==Wn||Wn!==Nn(n)?null:("selectionStart"in(n=Wn)&&Rn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qn&&nn(qn,n)?null:(qn=n,(t=ct.getPooled(Vn.select,Un,t,e)).type="select",t.target=Wn,G(t),t))}var Zn={eventTypes:Vn,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Dn(o),i=_.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?R(e):window,t){case"focus":(zt(o)||"true"===o.contentEditable)&&(Wn=o,Un=e,qn=null);break;case"blur":qn=Un=Wn=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hn=!1,Gn(n,r);case"selectionchange":if(zn)break;case"keydown":case"keyup":return Gn(n,r)}return null}};function Kn(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Yn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_e(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function $n(t,e){return null!=e.dangerouslySetInnerHTML&&a("91"),i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xn(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&a("92"),Array.isArray(e)&&(1>=e.length||a("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:_e(n)}}function Jn(t,e){var n=_e(e.value),r=_e(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Qn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=z,x=F,E=R,P.injectEventPluginsByName({SimpleEventPlugin:xn,EnterLeaveEventPlugin:Qe,ChangeEventPlugin:Ve,SelectEventPlugin:Zn,BeforeInputEventPlugin:Ot});var tr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?er(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var rr=void 0,ir=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==tr.svg||"innerHTML"in t)t.innerHTML=e;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function or(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function ur(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=e[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||ar.hasOwnProperty(i)&&ar[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ar).forEach(function(t){sr.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ar[e]=ar[t]})});var lr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cr(t,e){e&&(lr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&a("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&a("60"),"object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||a("61")),null!=e.style&&"object"!=typeof e.style&&a("62",""))}function fr(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hr(t,e){var n=Dn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=_[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Cn("scroll",t);break;case"focus":case"blur":Cn("focus",t),Cn("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Wt(i)&&Cn(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===rt.indexOf(i)&&On(i,t)}n[i]=!0}}}function pr(){}var dr=null,mr=null;function vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function yr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var gr=setTimeout,br=clearTimeout;function _r(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function wr(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var xr=[],Er=-1;function Sr(t){0>Er||(t.current=xr[Er],xr[Er]=null,Er--)}function Tr(t,e){xr[++Er]=t.current,t.current=e}var kr={},Or={current:kr},Cr={current:!1},Mr=kr;function Ar(t,e){var n=t.type.contextTypes;if(!n)return kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function jr(t){Sr(Cr),Sr(Or)}function Lr(t){Sr(Cr),Sr(Or)}function Dr(t,e,n){Or.current!==kr&&a("168"),Tr(Or,e),Tr(Cr,n)}function Nr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in t||a("108",le(e)||"Unknown",o);return i({},n,r)}function Br(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||kr,Mr=Or.current,Tr(Or,e),Tr(Cr,Cr.current),!0}function Ir(t,e,n){var r=t.stateNode;r||a("169"),n?(e=Nr(t,e,Mr),r.__reactInternalMemoizedMergedChildContext=e,Sr(Cr),Sr(Or),Tr(Or,e)):Sr(Cr),Tr(Cr,n)}var Fr=null,Rr=null;function zr(t){return function(e){try{return t(e)}catch(t){}}}function Vr(t,e,n,r){return new function(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}(t,e,n,r)}function Wr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ur(t,e){var n=t.alternate;return null===n?((n=Vr(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.firstContextDependency=t.firstContextDependency,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qr(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Wr(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case Xt:return Hr(n.children,i,o,e);case ne:return Gr(n,3|i,o,e);case Jt:return Gr(n,2|i,o,e);case Qt:return(t=Vr(12,n,e,4|i)).elementType=Qt,t.type=Qt,t.expirationTime=o,t;case ie:return(t=Vr(13,n,e,i)).elementType=ie,t.type=ie,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case te:s=10;break t;case ee:s=9;break t;case re:s=11;break t;case oe:s=14;break t;case ae:s=16,r=null;break t}a("130",null==t?t:typeof t,"")}return(e=Vr(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Hr(t,e,n,r){return(t=Vr(7,t,r,e)).expirationTime=n,t}function Gr(t,e,n,r){return t=Vr(8,t,r,e),e=0==(1&e)?Jt:ne,t.elementType=e,t.type=e,t.expirationTime=n,t}function Zr(t,e,n){return(t=Vr(6,t,null,e)).expirationTime=n,t}function Kr(t,e,n){return(e=Vr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yr(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n>e?t.earliestPendingTime=e:t.latestPendingTime<e&&(t.latestPendingTime=e),Jr(e,t)}function $r(t,e){t.didError=!1;var n=t.latestPingedTime;0!==n&&n<=e&&(t.latestPingedTime=0),n=t.earliestPendingTime;var r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n>e?t.earliestSuspendedTime=e:r<e&&(t.latestSuspendedTime=e),Jr(e,t)}function Xr(t,e){var n=t.earliestPendingTime;return t=t.earliestSuspendedTime,(0===e||0!==n&&n<e)&&(e=n),(0===e||0!==t&&t<e)&&(e=t),e}function Jr(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;0===(i=0!==i?i:o)&&(0===t||r>t)&&(i=r),0!==(t=i)&&0!==n&&n<t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}var Qr=!1;function ti(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ei(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ni(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ri(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function ii(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=ti(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=ti(t.memoizedState),i=n.updateQueue=ti(n.memoizedState)):r=t.updateQueue=ei(i):null===i&&(i=n.updateQueue=ei(r));null===i||r===i?ri(r,e):null===r.lastUpdate||null===i.lastUpdate?(ri(r,e),ri(i,e)):(ri(r,e),i.lastUpdate=e)}function oi(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=ti(t.memoizedState):ai(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function ai(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=ei(e)),e}function si(t,e,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(t=n.payload)?t.call(a,r,o):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(null===(o="function"==typeof(t=n.payload)?t.call(a,r,o):t)||void 0===o)break;return i({},r,o);case 2:Qr=!0}return r}function ui(t,e,n,r,i){Qr=!1;for(var o=(e=ai(t,e)).baseState,a=null,s=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c>i?(null===a&&(a=u,o=l),(0===s||s>c)&&(s=c)):(l=si(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f>i?(null===c&&(c=u,null===a&&(o=l)),(0===s||s>f)&&(s=f)):(l=si(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=l),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=l}function li(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),ci(e.firstEffect,n),e.firstEffect=e.lastEffect=null,ci(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function ci(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!=typeof n&&a("191",n),n.call(r)}t=t.nextEffect}}function fi(t,e){return{value:t,source:e,stack:ce(e)}}var hi={current:null},pi=null,di=null,mi=null;function vi(t,e){var n=t.type._context;Tr(hi,n._currentValue),n._currentValue=e}function yi(t){var e=hi.current;Sr(hi),t.type._context._currentValue=e}function gi(t){pi=t,mi=di=null,t.firstContextDependency=null}function bi(t,e){return mi!==t&&!1!==e&&0!==e&&("number"==typeof e&&1073741823!==e||(mi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===di?(null===pi&&a("293"),pi.firstContextDependency=di=e):di=di.next=e),t._currentValue}var _i={},wi={current:_i},xi={current:_i},Ei={current:_i};function Si(t){return t===_i&&a("174"),t}function Ti(t,e){Tr(Ei,e),Tr(xi,t),Tr(wi,_i);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nr(null,"");break;default:e=nr(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Sr(wi),Tr(wi,e)}function ki(t){Sr(wi),Sr(xi),Sr(Ei)}function Oi(t){Si(Ei.current);var e=Si(wi.current),n=nr(e,t.type);e!==n&&(Tr(xi,t),Tr(wi,n))}function Ci(t){xi.current===t&&(Sr(wi),Sr(xi))}var Mi=Gt.ReactCurrentOwner,Ai=(new r.Component).refs;function Pi(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var ji={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===rn(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Ea(),i=ni(r=Go(r,t));i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ii(t,i),Yo(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Ea(),i=ni(r=Go(r,t));i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ii(t,i),Yo(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ea(),r=ni(n=Go(n,t));r.tag=2,void 0!==e&&null!==e&&(r.callback=e),ii(t,r),Yo(t,n)}};function Li(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function Di(t,e,n){var r=!1,i=kr,o=e.contextType;return"object"==typeof o&&null!==o?o=Mi.currentDispatcher.readContext(o):(i=Pr(e)?Mr:Or.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Ar(t,i):kr),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ji,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ni(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ji.enqueueReplaceState(e,e.state,null)}function Bi(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ai;var o=e.contextType;"object"==typeof o&&null!==o?i.context=Mi.currentDispatcher.readContext(o):(o=Pr(e)?Mr:Or.current,i.context=Ar(t,o)),null!==(o=t.updateQueue)&&(ui(t,o,n,i,r),i.state=t.memoizedState),"function"==typeof(o=e.getDerivedStateFromProps)&&(Pi(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ji.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(ui(t,o,n,i,r),i.state=t.memoizedState)),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var Ii=Array.isArray;function Fi(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){var r=void 0;(n=n._owner)&&(1!==n.tag&&a("289"),r=n.stateNode),r||a("147",t);var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===Ai&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}"string"!=typeof t&&a("284"),n._owner||a("290",t)}return t}function Ri(t,e){"textarea"!==t.type&&a("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function zi(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Ur(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Zr(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Fi(t,e,n),r.return=t,r):((r=qr(n.type,n.key,n.props,null,t.mode,r)).ref=Fi(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Kr(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=Hr(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Zr(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case Yt:return(n=qr(e.type,e.key,e.props,null,t.mode,n)).ref=Fi(t,null,e),n.return=t,n;case $t:return(e=Kr(e,t.mode,n)).return=t,e}if(Ii(e)||ue(e))return(e=Hr(e,t.mode,n,null)).return=t,e;Ri(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Yt:return n.key===i?n.type===Xt?f(t,e,n.props.children,r,i):l(t,e,n,r):null;case $t:return n.key===i?c(t,e,n,r):null}if(Ii(n)||ue(n))return null!==i?null:f(t,e,n,r,null);Ri(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Yt:return t=t.get(null===r.key?n:r.key)||null,r.type===Xt?f(e,t,r.props.children,i,r.key):l(e,t,r,i);case $t:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Ii(r)||ue(r))return f(e,t=t.get(n)||null,r,i,null);Ri(e,r)}return null}function m(i,a,s,u){for(var l=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=p(i,f,s[m],u);if(null===y){null===f&&(f=v);break}t&&f&&null===y.alternate&&e(i,f),a=o(y,a,m),null===c?l=y:c.sibling=y,c=y,f=v}if(m===s.length)return n(i,f),l;if(null===f){for(;m<s.length;m++)(f=h(i,s[m],u))&&(a=o(f,a,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);m<s.length;m++)(v=d(f,i,m,s[m],u))&&(t&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return t&&f.forEach(function(t){return e(i,t)}),l}function v(i,s,u,l){var c=ue(u);"function"!=typeof c&&a("150"),null==(u=c.call(u))&&a("151");for(var f=c=null,m=s,v=s=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=p(i,m,g.value,l);if(null===b){m||(m=y);break}t&&m&&null===b.alternate&&e(i,m),s=o(b,s,v),null===f?c=b:f.sibling=b,f=b,m=y}if(g.done)return n(i,m),c;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,v),null===f?c=g:f.sibling=g,f=g);return c}for(m=r(i,m);!g.done;v++,g=u.next())null!==(g=d(m,i,v,g.value,l))&&(t&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=o(g,s,v),null===f?c=g:f.sibling=g,f=g);return t&&m.forEach(function(t){return e(i,t)}),c}return function(t,r,o,u){var l="object"==typeof o&&null!==o&&o.type===Xt&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case Yt:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?o.type===Xt:l.elementType===o.type){n(t,l.sibling),(r=i(l,o.type===Xt?o.props.children:o.props)).ref=Fi(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===Xt?((r=Hr(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=qr(o.type,o.key,o.props,null,t.mode,u)).ref=Fi(t,r,o),u.return=t,t=u)}return s(t);case $t:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Kr(o,t.mode,u)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Zr(o,t.mode,u)).return=t,t=r),s(t);if(Ii(o))return m(t,r,o,u);if(ue(o))return v(t,r,o,u);if(c&&Ri(t,o),void 0===o&&!l)switch(t.tag){case 1:case 0:a("152",(u=t.type).displayName||u.name||"Component")}return n(t,r)}}var Vi=zi(!0),Wi=zi(!1),Ui=null,qi=null,Hi=!1;function Gi(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Zi(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ki(t){if(Hi){var e=qi;if(e){var n=e;if(!Zi(t,e)){if(!(e=_r(n))||!Zi(t,e))return t.effectTag|=2,Hi=!1,void(Ui=t);Gi(Ui,n)}Ui=t,qi=wr(e)}else t.effectTag|=2,Hi=!1,Ui=t}}function Yi(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;Ui=t}function $i(t){if(t!==Ui)return!1;if(!Hi)return Yi(t),Hi=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!yr(e,t.memoizedProps))for(e=qi;e;)Gi(t,e),e=_r(e);return Yi(t),qi=Ui?_r(t.stateNode):null,!0}function Xi(){qi=Ui=null,Hi=!1}var Ji=Gt.ReactCurrentOwner;function Qi(t,e,n,r){e.child=null===t?Wi(e,null,n,r):Vi(e,t.child,n,r)}function to(t,e,n,r,i){n=n.render;var o=e.ref;return Cr.current||e.memoizedProps!==r||o!==(null!==t?t.ref:null)?(Qi(t,e,r=n(r,o),i),e.child):co(t,e,i)}function eo(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Wr(a)||void 0!==a.defaultProps||null!==n.compare?((t=qr(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,no(t,e,a,r,i,o))}return a=t.child,(0===i||i>o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&t.ref===e.ref)?co(t,e,o):((t=Ur(a,r)).ref=e.ref,t.return=e,e.child=t)}function no(t,e,n,r,i,o){return null!==t&&(0===i||i>o)&&nn(t.memoizedProps,r)&&t.ref===e.ref?co(t,e,o):io(t,e,n,r,o)}function ro(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function io(t,e,n,r,i){var o=Pr(n)?Mr:Or.current;return o=Ar(e,o),gi(e),n=n(r,o),e.effectTag|=1,Qi(t,e,n,i),e.child}function oo(t,e,n,r,i){if(Pr(n)){var o=!0;Br(e)}else o=!1;if(gi(e),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Di(e,n,r),Bi(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=Mi.currentDispatcher.readContext(l):l=Ar(e,l=Pr(n)?Mr:Or.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Ni(e,a,r,l),Qr=!1;var h=e.memoizedState;u=a.state=h;var p=e.updateQueue;null!==p&&(ui(e,p,r,a,i),u=e.memoizedState),s!==r||h!==u||Cr.current||Qr?("function"==typeof c&&(Pi(e,n,c,r),u=e.memoizedState),(s=Qr||Li(e,n,s,r,h,u,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=s,u=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Mi.currentDispatcher.readContext(l):l=Ar(e,l=Pr(n)?Mr:Or.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Ni(e,a,r,l),Qr=!1,u=e.memoizedState,h=a.state=u,null!==(p=e.updateQueue)&&(ui(e,p,r,a,i),h=e.memoizedState),s!==r||u!==h||Cr.current||Qr?("function"==typeof c&&(Pi(e,n,c,r),h=e.memoizedState),(c=Qr||Li(e,n,s,r,u,h,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return ao(t,e,n,r,o,i)}function ao(t,e,n,r,i,o){ro(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&Ir(e,n,!1),co(t,e,o);r=e.stateNode,Ji.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Vi(e,t.child,null,o),e.child=Vi(e,null,s,o)):Qi(t,e,s,o),e.memoizedState=r.state,i&&Ir(e,n,!0),e.child}function so(t){var e=t.stateNode;e.pendingContext?Dr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Dr(0,e.context,!1),Ti(t,e.containerInfo)}function uo(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}function lo(t,e,n){var r=e.mode,i=e.pendingProps,o=e.memoizedState;null!==o&&(o.alreadyCaptured?null!==t&&o===t.memoizedState?o={alreadyCaptured:!0,didTimeout:!0,timedOutAt:o.timedOutAt}:(o.alreadyCaptured=!0,o.didTimeout=!0):o=null);var a=null!==o&&o.didTimeout;if(null===t)a?(a=i.fallback,i=Hr(null,r,0,null),r=Hr(a,r,n,null),i.sibling=r,(n=i).return=r.return=e):n=r=Wi(e,null,i.children,n);else{var s=t.memoizedState;null!==s&&s.didTimeout?(t=(r=t.child).sibling,a?(n=i.fallback,(r=Ur(r,r.pendingProps)).effectTag|=2,(i=r.sibling=Ur(t,n,t.expirationTime)).effectTag|=2,n=r,r.childExpirationTime=0,r=i,n.return=r.return=e):(a=t.child,r=Vi(e,r.child,i.children,n),Vi(e,a,null,n),n=r)):(t=t.child,a?(a=i.fallback,(i=Hr(null,r,0,null)).effectTag|=2,i.child=t,t.return=i,(r=i.sibling=Hr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=e):r=n=Vi(e,t,i.children,n))}return e.memoizedState=o,e.child=n,r}function co(t,e,n){null!==t&&(e.firstContextDependency=t.firstContextDependency);var r=e.childExpirationTime;if(0===r||r>n)return null;if(null!==t&&e.child!==t.child&&a("153"),null!==e.child){for(n=Ur(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ur(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function fo(t,e,n){var r=e.expirationTime;if(null!==t&&t.memoizedProps===e.pendingProps&&!Cr.current&&(0===r||r>n)){switch(e.tag){case 3:so(e),Xi();break;case 5:Oi(e);break;case 1:Pr(e.type)&&Br(e);break;case 4:Ti(e,e.stateNode.containerInfo);break;case 10:vi(e,e.memoizedProps.value);break;case 13:if(null!==(r=e.memoizedState)&&r.didTimeout)return 0!==(r=e.child.childExpirationTime)&&r<=n?lo(t,e,n):null!==(e=co(t,e,n))?e.sibling:null}return co(t,e,n)}switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var i=Ar(e,Or.current);if(gi(e),i=r(t,i),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,Pr(r)){var o=!0;Br(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Pi(e,r,s,t),i.updater=ji,e.stateNode=i,i._reactInternalFiber=e,Bi(e,r,t,n),e=ao(null,e,r,!0,o,n)}else e.tag=0,Qi(null,e,i,n),e=e.child;return e;case 16:switch(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),o=e.pendingProps,t=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:throw t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._result=e,e}}(i),e.type=t,i=e.tag=function(t){if("function"==typeof t)return Wr(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===re)return 11;if(t===oe)return 14}return 2}(t),o=uo(t,o),s=void 0,i){case 0:s=io(null,e,t,o,n);break;case 1:s=oo(null,e,t,o,n);break;case 11:s=to(null,e,t,o,n);break;case 14:s=eo(null,e,t,uo(t.type,o),r,n);break;default:a("283",t)}return s;case 0:return r=e.type,i=e.pendingProps,io(t,e,r,i=e.elementType===r?i:uo(r,i),n);case 1:return r=e.type,i=e.pendingProps,oo(t,e,r,i=e.elementType===r?i:uo(r,i),n);case 3:return so(e),null===(r=e.updateQueue)&&a("282"),i=null!==(i=e.memoizedState)?i.element:null,ui(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i?(Xi(),e=co(t,e,n)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(qi=wr(e.stateNode.containerInfo),Ui=e,i=Hi=!0),i?(e.effectTag|=2,e.child=Wi(e,null,r,n)):(Qi(t,e,r,n),Xi()),e=e.child),e;case 5:return Oi(e),null===t&&Ki(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,yr(r,i)?s=null:null!==o&&yr(r,o)&&(e.effectTag|=16),ro(t,e),1073741823!==n&&1&e.mode&&i.hidden?(e.expirationTime=1073741823,e=null):(Qi(t,e,s,n),e=e.child),e;case 6:return null===t&&Ki(e),null;case 13:return lo(t,e,n);case 4:return Ti(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Vi(e,null,r,n):Qi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,to(t,e,r,i=e.elementType===r?i:uo(r,i),n);case 7:return Qi(t,e,e.pendingProps,n),e.child;case 8:case 12:return Qi(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,vi(e,o=i.value),null!==s){var u=s.value;if(0===(o=u===o&&(0!==u||1/u==1/o)||u!=u&&o!=o?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Cr.current){e=co(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===r&&0!=(u.observedBits&o)){if(1===s.tag){var l=ni(n);l.tag=2,ii(s,l)}(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n),null!==(l=s.alternate)&&(0===l.expirationTime||l.expirationTime>n)&&(l.expirationTime=n);for(var c=s.return;null!==c;){if(l=c.alternate,0===c.childExpirationTime||c.childExpirationTime>n)c.childExpirationTime=n,null!==l&&(0===l.childExpirationTime||l.childExpirationTime>n)&&(l.childExpirationTime=n);else{if(null===l||!(0===l.childExpirationTime||l.childExpirationTime>n))break;l.childExpirationTime=n}c=c.return}}l=s.child,u=u.next}while(null!==u);else l=10===s.tag&&s.type===e.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===e){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}}Qi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,gi(e),r=r(i=bi(i,o.unstable_observedBits)),e.effectTag|=1,Qi(t,e,r,n),e.child;case 14:return eo(t,e,i=e.type,o=uo(i.type,e.pendingProps),r,n);case 15:return no(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:uo(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Pr(r)?(t=!0,Br(e)):t=!1,gi(e),Di(e,r,i),Bi(e,r,i,n),ao(null,e,r,!0,t,n);default:a("156")}}function ho(t){t.effectTag|=4}var po=void 0,mo=void 0,vo=void 0,yo=void 0;function go(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=ce(n)),null!==n&&le(n.type),e=e.value,null!==t&&1===t.tag&&le(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function bo(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Ho(t,e)}else e.current=null}function _o(t){switch("function"==typeof Rr&&Rr(t),t.tag){case 1:bo(t);var e=t.stateNode;if("function"==typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ho(t,e)}break;case 5:bo(t);break;case 4:Eo(t)}}function wo(t){return 5===t.tag||3===t.tag||4===t.tag}function xo(t){t:{for(var e=t.return;null!==e;){if(wo(e)){var n=e;break t}e=e.return}a("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(or(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||wo(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=e,s=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(s,u):o.insertBefore(s,u)}else e.insertBefore(i.stateNode,n);else r?(s=e,u=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(u,s):(o=s).appendChild(u),null!==(s=s._reactRootContainer)&&void 0!==s||null!==o.onclick||(o.onclick=pr)):e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Eo(t){for(var e=t,n=!1,r=void 0,i=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var o=e,s=o;;)if(_o(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=e.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(e.stateNode)}else if(4===e.tag?(r=e.stateNode.containerInfo,i=!0):_o(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function So(t,e){switch(e.tag){case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[B]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Ee(n,r),fr(t,i),e=fr(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?ur(n,u):"dangerouslySetInnerHTML"===s?ir(n,u):"children"===s?or(n,u):be(n,s,u,e)}switch(t){case"input":Se(n,r);break;case"textarea":Jn(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?Yn(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?Yn(n,!!r.multiple,r.defaultValue,!0):Yn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:null===e.stateNode&&a("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:case 13:case 17:break;default:a("163")}}function To(t,e,n){(n=ni(n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ja(r),go(t,e)},n}function ko(t,e,n){(n=ni(n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===zo?zo=new Set([this]):zo.add(this));var n=e.value,i=e.stack;go(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Oo(t){switch(t.tag){case 1:Pr(t.type)&&jr();var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return ki(),Lr(),0!=(64&(e=t.effectTag))&&a("285"),t.effectTag=-1025&e|64,t;case 5:return Ci(t),null;case 13:if(1024&(e=t.effectTag)){t.effectTag=-1025&e|64,e=null!==(e=t.alternate)?e.memoizedState:null;var n=t.memoizedState;return null===n?n={alreadyCaptured:!0,didTimeout:!1,timedOutAt:0}:e===n?n={alreadyCaptured:!0,didTimeout:n.didTimeout,timedOutAt:n.timedOutAt}:n.alreadyCaptured=!0,t.memoizedState=n,t}return null;case 4:return ki(),null;case 10:return yi(t),null;default:return null}}po=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},mo=function(){},vo=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s=e.stateNode;switch(Si(wi.current),t=null,n){case"input":a=we(s,a),r=we(s,r),t=[];break;case"option":a=Kn(s,a),r=Kn(s,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=$n(s,a),r=$n(s,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=pr)}cr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var l=a[n];for(s in l)l.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(u||(u={}),u[s]=c[s])}else u||(t||(t=[]),t.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(n,""+c)):"children"===n?l===c||"string"!=typeof c&&"number"!=typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=c&&hr(o,n),t||l===c||(t=[])):(t=t||[]).push(n,c))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&ho(e)}},yo=function(t,e,n,r){n!==r&&ho(e)};var Co={readContext:bi},Mo=Gt.ReactCurrentOwner,Ao=0,Po=0,jo=!1,Lo=null,Do=null,No=0,Bo=-1,Io=!1,Fo=null,Ro=!1,zo=null;function Vo(){if(null!==Lo)for(var t=Lo.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&jr();break;case 3:ki(),Lr();break;case 5:Ci(e);break;case 4:ki();break;case 10:yi(e)}t=t.return}Do=null,No=0,Bo=-1,Io=!1,Lo=null}function Wo(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0==(512&t.effectTag)){var o=e,s=(e=t).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:Pr(e.type)&&jr();break;case 3:ki(),Lr(),(s=e.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==o&&null!==o.child||($i(e),e.effectTag&=-3),mo(e);break;case 5:Ci(e);var u=Si(Ei.current),l=e.type;if(null!==o&&null!=e.stateNode)vo(o,e,l,s,u),o.ref!==e.ref&&(e.effectTag|=128);else if(s){var c=Si(wi.current);if($i(e)){o=(s=e).stateNode;var f=s.type,h=s.memoizedProps,p=u;switch(o[N]=s,o[B]=h,l=void 0,u=f){case"iframe":case"object":On("load",o);break;case"video":case"audio":for(f=0;f<rt.length;f++)On(rt[f],o);break;case"source":On("error",o);break;case"img":case"image":case"link":On("error",o),On("load",o);break;case"form":On("reset",o),On("submit",o);break;case"details":On("toggle",o);break;case"input":xe(o,h),On("invalid",o),hr(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!h.multiple},On("invalid",o),hr(p,"onChange");break;case"textarea":Xn(o,h),On("invalid",o),hr(p,"onChange")}for(l in cr(u,h),f=null,h)h.hasOwnProperty(l)&&(c=h[l],"children"===l?"string"==typeof c?o.textContent!==c&&(f=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(f=["children",""+c]):b.hasOwnProperty(l)&&null!=c&&hr(p,l));switch(u){case"input":qt(o),Te(o,h,!0);break;case"textarea":qt(o),Qn(o);break;case"select":case"option":break;default:"function"==typeof h.onClick&&(o.onclick=pr)}l=f,s.updateQueue=l,(s=null!==l)&&ho(e)}else{h=e,o=l,p=s,f=9===u.nodeType?u:u.ownerDocument,c===tr.html&&(c=er(o)),c===tr.html?"script"===o?((o=f.createElement("div")).innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"==typeof p.is?f=f.createElement(o,{is:p.is}):(f=f.createElement(o),"select"===o&&p.multiple&&(f.multiple=!0)):f=f.createElementNS(c,o),(o=f)[N]=h,o[B]=s,po(o,e,!1,!1),p=o;var d=u,m=fr(f=l,h=s);switch(f){case"iframe":case"object":On("load",p),u=h;break;case"video":case"audio":for(u=0;u<rt.length;u++)On(rt[u],p);u=h;break;case"source":On("error",p),u=h;break;case"img":case"image":case"link":On("error",p),On("load",p),u=h;break;case"form":On("reset",p),On("submit",p),u=h;break;case"details":On("toggle",p),u=h;break;case"input":xe(p,h),u=we(p,h),On("invalid",p),hr(d,"onChange");break;case"option":u=Kn(p,h);break;case"select":p._wrapperState={wasMultiple:!!h.multiple},u=i({},h,{value:void 0}),On("invalid",p),hr(d,"onChange");break;case"textarea":Xn(p,h),u=$n(p,h),On("invalid",p),hr(d,"onChange");break;default:u=h}cr(f,u),c=void 0;var v=f,y=p,g=u;for(c in g)if(g.hasOwnProperty(c)){var _=g[c];"style"===c?ur(y,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&ir(y,_):"children"===c?"string"==typeof _?("textarea"!==v||""!==_)&&or(y,_):"number"==typeof _&&or(y,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=_&&hr(d,c):null!=_&&be(y,c,_,m))}switch(f){case"input":qt(p),Te(p,h,!1);break;case"textarea":qt(p),Qn(p);break;case"option":null!=h.value&&p.setAttribute("value",""+_e(h.value));break;case"select":(u=p).multiple=!!h.multiple,null!=(p=h.value)?Yn(u,!!h.multiple,p,!1):null!=h.defaultValue&&Yn(u,!!h.multiple,h.defaultValue,!0);break;default:"function"==typeof u.onClick&&(p.onclick=pr)}(s=vr(l,s))&&ho(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&a("166");break;case 6:o&&null!=e.stateNode?yo(o,e,o.memoizedProps,s):("string"!=typeof s&&(null===e.stateNode&&a("166")),o=Si(Ei.current),Si(wi.current),$i(e)?(l=(s=e).stateNode,o=s.memoizedProps,l[N]=s,(s=l.nodeValue!==o)&&ho(e)):(l=e,(s=(9===o.nodeType?o:o.ownerDocument).createTextNode(s))[N]=e,l.stateNode=s));break;case 11:break;case 13:s=e.memoizedState,l=null!==o?o.memoizedState:null,(null!==s&&s.didTimeout)!==(null!==l&&l.didTimeout)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:ki(),mo(e);break;case 10:yi(e);break;case 9:case 14:break;case 17:Pr(e.type)&&jr();break;default:a("156")}if(Lo=null,e=t,1073741823===No||1073741823!==e.childExpirationTime){for(s=0,l=e.child;null!==l;)o=l.expirationTime,u=l.childExpirationTime,(0===s||0!==o&&o<s)&&(s=o),(0===s||0!==u&&u<s)&&(s=u),l=l.sibling;e.childExpirationTime=s}null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Oo(t)))return t.effectTag&=511,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==r)return r;if(null===n)break;t=n}return null}function Uo(t){var e=fo(t.alternate,t,No);return t.memoizedProps=t.pendingProps,null===e&&(e=Wo(t)),Mo.current=null,e}function qo(t,e,n){jo&&a("243"),jo=!0,Mo.currentDispatcher=Co;var r=t.nextExpirationTimeToWorkOn;r===No&&t===Do&&null!==Lo||(Vo(),No=r,Lo=Ur((Do=t).current,null),t.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(e)for(;null!==Lo&&!Pa();)Lo=Uo(Lo);else for(;null!==Lo;)Lo=Uo(Lo)}catch(e){if(null===Lo)i=!0,ja(e);else{null===Lo&&a("271");var o=Lo,s=o.return;if(null!==s){t:{var u=t,l=s,c=o,f=e;if(s=No,c.effectTag|=512,c.firstEffect=c.lastEffect=null,null!==f&&"object"==typeof f&&"function"==typeof f.then){var h=f;f=l;var p=-1,d=-1;do{if(13===f.tag){var m=f.alternate;if(null!==m&&(null!==(m=m.memoizedState)&&m.didTimeout)){d=10*(m.timedOutAt-2);break}"number"==typeof(m=f.pendingProps.maxDuration)&&(0>=m?p=0:(-1===p||m<p)&&(p=m))}f=f.return}while(null!==f);f=l;do{if((m=13===f.tag)&&(void 0===f.memoizedProps.fallback?m=!1:m=null===(m=f.memoizedState)||!m.didTimeout),m){if(l=Zo.bind(null,u,f,c,0==(1&f.mode)?1:s),h.then(l,l),0==(1&f.mode)){f.effectTag|=32,Qi(c.alternate,c,null,s),c.effectTag&=-513,1===c.tag&&(c.effectTag&=-421,null===c.alternate&&(c.tag=17));break t}-1===p?u=1073741823:(-1===d&&(d=10*(Xr(u,s)-2)-5e3),u=d+p),0<=u&&Bo<u&&(Bo=u),f.effectTag|=1024,f.expirationTime=s;break t}f=f.return}while(null!==f);f=Error("An update was suspended, but no placeholder UI was provided.")}Io=!0,f=fi(f,c),u=l;do{switch(u.tag){case 3:c=f,u.effectTag|=1024,u.expirationTime=s,oi(u,s=To(u,c,s));break t;case 1:if(c=f,l=u.type,h=u.stateNode,0==(64&u.effectTag)&&("function"==typeof l.getDerivedStateFromError||null!==h&&"function"==typeof h.componentDidCatch&&(null===zo||!zo.has(h)))){u.effectTag|=1024,u.expirationTime=s,oi(u,s=ko(u,c,s));break t}}u=u.return}while(null!==u)}Lo=Wo(o);continue}i=!0,ja(e)}}break}if(jo=!1,mi=di=pi=Mo.currentDispatcher=null,i)Do=null,t.finishedWork=null;else if(null!==Lo)t.finishedWork=null;else{if(null===(e=t.current.alternate)&&a("281"),Do=null,Io){if(i=t.latestPendingTime,o=t.latestSuspendedTime,s=t.latestPingedTime,0!==i&&i>r||0!==o&&o>r||0!==s&&s>r)return $r(t,r),void xa(t,e,r,t.expirationTime,-1);if(!t.didError&&!n)return t.didError=!0,r=t.nextExpirationTimeToWorkOn=r,n=t.expirationTime=1,void xa(t,e,r,n,-1)}n||-1===Bo?(t.pendingCommitExpirationTime=r,t.finishedWork=e):($r(t,r),(n=10*(Xr(t,r)-2))<Bo&&(Bo=n),n=10*(Ea()-2),n=Bo-n,xa(t,e,r,t.expirationTime,0>n?0:n))}}function Ho(t,e){var n;t:{for(jo&&!Ro&&a("263"),n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===zo||!zo.has(r))){ii(n,t=ko(n,t=fi(e,t),1)),Yo(n,1),n=void 0;break t}break;case 3:ii(n,t=To(n,t=fi(e,t),1)),Yo(n,1),n=void 0;break t}n=n.return}3===t.tag&&(ii(t,n=To(t,n=fi(e,t),1)),Yo(t,1)),n=void 0}return n}function Go(t,e){return 0!==Po?t=Po:jo?t=Ro?1:No:1&e.mode?(t=fa?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)),null!==Do&&t===No&&(t+=1)):t=1,fa&&t>ia&&(ia=t),t}function Zo(t,e,n,r){var i=t.earliestSuspendedTime,o=t.latestSuspendedTime;if(0!==i&&r>=i&&r<=o){o=i=r,t.didError=!1;var a=t.latestPingedTime;(0===a||a<o)&&(t.latestPingedTime=o),Jr(o,t)}else Yr(t,i=Go(i=Ea(),e));0!=(1&e.mode)&&t===Do&&No===r&&(Do=null),Ko(e,i),0==(1&e.mode)&&(Ko(n,i),1===n.tag&&null!==n.stateNode&&((e=ni(i)).tag=2,ii(n,e))),0!==(n=t.expirationTime)&&Sa(t,n)}function Ko(t,e){(0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e);var n=t.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>e)&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,(0===r.childExpirationTime||r.childExpirationTime>e)&&(r.childExpirationTime=e),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>e)&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null===i?null:i}function Yo(t,e){null!==(t=Ko(t,e))&&(!jo&&0!==No&&e<No&&Vo(),Yr(t,e),jo&&!Ro&&Do===t||Sa(t,t.expirationTime),ya>va&&(ya=0,a("185")))}function $o(t,e,n,r,i){var o=Po;Po=1;try{return t(e,n,r,i)}finally{Po=o}}var Xo=null,Jo=null,Qo=0,ta=void 0,ea=!1,na=null,ra=0,ia=0,oa=!1,aa=!1,sa=null,ua=null,la=!1,ca=!1,fa=!1,ha=null,pa=o.unstable_now(),da=2+(pa/10|0),ma=da,va=50,ya=0,ga=null,ba=1;function _a(){da=2+((o.unstable_now()-pa)/10|0)}function wa(t,e){if(0!==Qo){if(e>Qo)return;null!==ta&&o.unstable_cancelCallback(ta)}Qo=e,t=o.unstable_now()-pa,ta=o.unstable_scheduleCallback(ka,{timeout:10*(e-2)-t})}function xa(t,e,n,r,i){t.expirationTime=r,0!==i||Pa()?0<i&&(t.timeoutHandle=gr(function(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,_a(),ma=da,Ca(t,n)}.bind(null,t,e,n),i)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function Ea(){return ea?ma:(Ta(),0!==ra&&1073741823!==ra||(_a(),ma=da),ma)}function Sa(t,e){if(null===t.nextScheduledRoot)t.expirationTime=e,null===Jo?(Xo=Jo=t,t.nextScheduledRoot=t):(Jo=Jo.nextScheduledRoot=t).nextScheduledRoot=Xo;else{var n=t.expirationTime;(0===n||e<n)&&(t.expirationTime=e)}ea||(la?ca&&(na=t,ra=1,Ma(t,1,!0)):1===e?Oa(1,null):wa(t,e))}function Ta(){var t=0,e=null;if(null!==Jo)for(var n=Jo,r=Xo;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===Jo)&&a("244"),r===r.nextScheduledRoot){Xo=Jo=r.nextScheduledRoot=null;break}if(r===Xo)Xo=i=r.nextScheduledRoot,Jo.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Jo){(Jo=n).nextScheduledRoot=Xo,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===t||i<t)&&(t=i,e=r),r===Jo)break;if(1===t)break;n=r,r=r.nextScheduledRoot}}na=e,ra=t}function ka(t){if(t.didTimeout&&null!==Xo){_a();var e=Xo;do{var n=e.expirationTime;0!==n&&da>=n&&(e.nextExpirationTimeToWorkOn=da),e=e.nextScheduledRoot}while(e!==Xo)}Oa(0,t)}function Oa(t,e){if(ua=e,Ta(),null!==ua)for(_a(),ma=da;null!==na&&0!==ra&&(0===t||t>=ra)&&(!oa||da>=ra);)Ma(na,ra,da>=ra),Ta(),_a(),ma=da;else for(;null!==na&&0!==ra&&(0===t||t>=ra);)Ma(na,ra,!0),Ta();if(null!==ua&&(Qo=0,ta=null),0!==ra&&wa(na,ra),ua=null,oa=!1,ya=0,ga=null,null!==ha)for(t=ha,ha=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){aa||(aa=!0,sa=t)}}if(aa)throw t=sa,sa=null,aa=!1,t}function Ca(t,e){ea&&a("253"),na=t,ra=e,Ma(t,e,!0),Oa(1,null)}function Ma(t,e,n){if(ea&&a("245"),ea=!0,null===ua||n){var r=t.finishedWork;null!==r?Aa(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,br(r)),qo(t,!1,n),null!==(r=t.finishedWork)&&Aa(t,r,e))}else null!==(r=t.finishedWork)?Aa(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,br(r)),qo(t,!0,n),null!==(r=t.finishedWork)&&(Pa()?t.finishedWork=r:Aa(t,r,e)));ea=!1}function Aa(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===ha?ha=[r]:ha.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===ga?ya++:(ga=t,ya=0),Ro=jo=!0,t.current===e&&a("177");var i=t.pendingCommitExpirationTime;0===i&&a("261"),t.pendingCommitExpirationTime=0;var o=e.expirationTime,s=e.childExpirationTime,u=0===o||0!==s&&s<o?s:o;if(t.didError=!1,0===u)t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0;else{var l=t.latestPendingTime;0!==l&&(l<u?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime<u&&(t.earliestPendingTime=t.latestPendingTime));var c=t.earliestSuspendedTime;0===c?Yr(t,u):u>t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Yr(t,u)):u<c&&Yr(t,u)}if(Jr(0,t),Mo.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var f=e.firstEffect}else f=e;else f=e.firstEffect;dr=kn;var h=Fn();if(Rn(h)){if("selectionStart"in h)var p={start:h.selectionStart,end:h.selectionEnd};else t:{var d=h.ownerDocument,m=d&&d.defaultView||window,v=m.getSelection&&m.getSelection();if(v&&0!==v.rangeCount){var y=v.anchorNode,g=v.anchorOffset,b=v.focusNode,_=v.focusOffset;try{y.nodeType,b.nodeType}catch(t){p=null;break t}var w=0,x=-1,E=-1,S=0,T=0,k=h,O=null;e:for(;;){for(var C;k!==y||0!==g&&3!==k.nodeType||(x=w+g),k!==b||0!==_&&3!==k.nodeType||(E=w+_),3===k.nodeType&&(w+=k.nodeValue.length),null!==(C=k.firstChild);)O=k,k=C;for(;;){if(k===h)break e;if(O===y&&++S===g&&(x=w),O===b&&++T===_&&(E=w),null!==(C=k.nextSibling))break;O=(k=O).parentNode}k=C}p=-1===x||-1===E?null:{start:x,end:E}}else p=null}var M=p||{start:0,end:0}}else M=null;for(mr={focusedElem:h,selectionRange:M},kn=!1,Fo=f;null!==Fo;){var A=!1,P=void 0;try{for(;null!==Fo;){if(256&Fo.effectTag){var j=Fo.alternate;t:{var L=Fo;switch(L.tag){case 1:if(256&L.effectTag&&null!==j){var D=j.memoizedProps,N=j.memoizedState,B=L.stateNode;B.props=L.memoizedProps,B.state=L.memoizedState;var I=B.getSnapshotBeforeUpdate(D,N);B.__reactInternalSnapshotBeforeUpdate=I}break t;case 3:case 5:case 6:case 4:case 17:break t;default:a("163")}}}Fo=Fo.nextEffect}}catch(t){A=!0,P=t}A&&(null===Fo&&a("178"),Ho(Fo,P),null!==Fo&&(Fo=Fo.nextEffect))}for(Fo=f;null!==Fo;){var F=!1,R=void 0;try{for(;null!==Fo;){var z=Fo.effectTag;if(16&z&&or(Fo.stateNode,""),128&z){var V=Fo.alternate;if(null!==V){var W=V.ref;null!==W&&("function"==typeof W?W(null):W.current=null)}}switch(14&z){case 2:xo(Fo),Fo.effectTag&=-3;break;case 6:xo(Fo),Fo.effectTag&=-3,So(Fo.alternate,Fo);break;case 4:So(Fo.alternate,Fo);break;case 8:var U=Fo;Eo(U);var q=U;q.return=null,q.child=null,q.alternate&&(q.alternate.child=null,q.alternate.return=null)}Fo=Fo.nextEffect}}catch(t){F=!0,R=t}F&&(null===Fo&&a("178"),Ho(Fo,R),null!==Fo&&(Fo=Fo.nextEffect))}var H=mr,G=Fn(),Z=H.focusedElem,K=H.selectionRange;if(G!==Z&&Z&&Z.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(Z.ownerDocument.documentElement,Z)){if(null!==K&&Rn(Z)){var Y=K.start,$=K.end;if(void 0===$&&($=Y),"selectionStart"in Z)Z.selectionStart=Y,Z.selectionEnd=Math.min($,Z.value.length);else{var X=Z.ownerDocument||document,J=(X&&X.defaultView||window).getSelection(),Q=Z.textContent.length,tt=Math.min(K.start,Q),et=void 0===K.end?tt:Math.min(K.end,Q);if(!J.extend&&tt>et){var nt=et;et=tt,tt=nt}var rt=In(Z,tt),it=In(Z,et);if(rt&&it&&(1!==J.rangeCount||J.anchorNode!==rt.node||J.anchorOffset!==rt.offset||J.focusNode!==it.node||J.focusOffset!==it.offset)){var ot=X.createRange();ot.setStart(rt.node,rt.offset),J.removeAllRanges(),tt>et?(J.addRange(ot),J.extend(it.node,it.offset)):(ot.setEnd(it.node,it.offset),J.addRange(ot))}}}for(var at=[],st=Z;st=st.parentNode;)1===st.nodeType&&at.push({element:st,left:st.scrollLeft,top:st.scrollTop});"function"==typeof Z.focus&&Z.focus();for(var ut=0;ut<at.length;ut++){var lt=at[ut];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}for(mr=null,kn=!!dr,dr=null,t.current=e,Fo=f;null!==Fo;){var ct=!1,ft=void 0;try{for(;null!==Fo;){var ht=Fo.effectTag;if(36&ht){var pt=void 0,dt=Fo.alternate,mt=Fo;switch(mt.tag){case 1:var vt=mt.stateNode;if(4&mt.effectTag)if(null===dt)vt.props=mt.memoizedProps,vt.state=mt.memoizedState,vt.componentDidMount();else{var yt=dt.memoizedProps,gt=dt.memoizedState;vt.props=mt.memoizedProps,vt.state=mt.memoizedState,vt.componentDidUpdate(yt,gt,vt.__reactInternalSnapshotBeforeUpdate)}var bt=mt.updateQueue;null!==bt&&(vt.props=mt.memoizedProps,vt.state=mt.memoizedState,li(0,bt,vt));break;case 3:var _t=mt.updateQueue;if(null!==_t){var wt=null;if(null!==mt.child)switch(mt.child.tag){case 5:wt=mt.child.stateNode;break;case 1:wt=mt.child.stateNode}li(0,_t,wt)}break;case 5:var xt=mt.stateNode;null===dt&&4&mt.effectTag&&vr(mt.type,mt.memoizedProps)&&xt.focus();break;case 6:case 4:case 12:break;case 13:if(32&mt.effectTag){mt.memoizedState={alreadyCaptured:!0,didTimeout:!1,timedOutAt:0},Yo(mt,1);break}var Et=null!==dt?dt.memoizedState:null,St=mt.memoizedState,Tt=null!==Et&&Et.didTimeout,kt=mt;if(null===St?pt=!1:(pt=St.didTimeout)&&(kt=mt.child,St.alreadyCaptured=!1,0===St.timedOutAt&&(St.timedOutAt=Ea())),pt!==Tt&&null!==kt)t:for(var Ot=kt,Ct=pt,Mt=Ot;;){if(5===Mt.tag){var At=Mt.stateNode;if(Ct)At.style.display="none";else{var Pt=Mt.stateNode,jt=Mt.memoizedProps.style,Lt=void 0!==jt&&null!==jt&&jt.hasOwnProperty("display")?jt.display:null;Pt.style.display=Lt}}else if(6===Mt.tag)Mt.stateNode.nodeValue=Ct?"":Mt.memoizedProps;else if(null!==Mt.child){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===Ot)break t;for(;null===Mt.sibling;){if(null===Mt.return||Mt.return===Ot)break t;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}break;case 17:break;default:a("163")}}if(128&ht){var Dt=Fo.ref;if(null!==Dt){var Nt=Fo.stateNode;switch(Fo.tag){case 5:var Bt=Nt;break;default:Bt=Nt}"function"==typeof Dt?Dt(Bt):Dt.current=Bt}}var It=Fo.nextEffect;Fo.nextEffect=null,Fo=It}}catch(t){ct=!0,ft=t}ct&&(null===Fo&&a("178"),Ho(Fo,ft),null!==Fo&&(Fo=Fo.nextEffect))}jo=Ro=!1,"function"==typeof Fr&&Fr(e.stateNode);var Ft=e.expirationTime,Rt=e.childExpirationTime,zt=0===Ft||0!==Rt&&Rt<Ft?Rt:Ft;0===zt&&(zo=null),t.expirationTime=zt,t.finishedWork=null}function Pa(){return!!oa||!(null===ua||ua.timeRemaining()>ba)&&(oa=!0)}function ja(t){null===na&&a("246"),na.expirationTime=0,aa||(aa=!0,sa=t)}function La(t,e){var n=la;la=!0;try{return t(e)}finally{(la=n)||ea||Oa(1,null)}}function Da(t,e){if(la&&!ca){ca=!0;try{return t(e)}finally{ca=!1}}return t(e)}function Na(t,e,n){if(fa)return t(e,n);la||ea||0===ia||(Oa(ia,null),ia=0);var r=fa,i=la;la=fa=!0;try{return t(e,n)}finally{fa=r,(la=i)||ea||Oa(1,null)}}function Ba(t,e,n,r,i){var o=e.current;t:if(n){n=n._reactInternalFiber;e:{2===rn(n)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Pr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var u=n.type;if(Pr(u)){n=Nr(n,u,s);break t}}n=s}else n=kr;return null===e.context?e.context=n:e.pendingContext=n,e=i,(i=ni(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),ii(o,i),Yo(o,r),r}function Ia(t,e,n,r){var i=e.current;return Ba(t,e,n,i=Go(Ea(),i),r)}function Fa(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ra(t){var e=2+25*(1+((Ea()-2+500)/25|0));e<=Ao&&(e=Ao+1),this._expirationTime=Ao=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function za(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Va(t,e,n){t={current:e=Vr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Wa(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ua(t,e,n,r,i){Wa(n)||a("200");var o=n._reactRootContainer;if(o){if("function"==typeof i){var s=i;i=function(){var t=Fa(o._internalRoot);s.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Va(t,!1,e)}(n,r),"function"==typeof i){var u=i;i=function(){var t=Fa(o._internalRoot);u.call(t)}}Da(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)})}return Fa(o._internalRoot)}function qa(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Wa(e)||a("200"),function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$t,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Ct=function(t,e,n){switch(e){case"input":if(Se(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=z(r);i||a("90"),Ht(r),Se(r,i)}}}break;case"textarea":Jn(t,n);break;case"select":null!=(e=n.value)&&Yn(t,!!n.multiple,e,!1)}},Ra.prototype.render=function(t){this._defer||a("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new za;return Ba(t,e,null,n,r._onCommit),r},Ra.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ra.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||a("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=e,t.firstBatch=this}this._defer=!1,Ca(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Ra.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},za.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},za.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!=typeof n&&a("191",n),n()}}},Va.prototype.render=function(t,e){var n=this._internalRoot,r=new za;return null!==(e=void 0===e?null:e)&&r.then(e),Ia(t,n,null,r._onCommit),r},Va.prototype.unmount=function(t){var e=this._internalRoot,n=new za;return null!==(t=void 0===t?null:t)&&n.then(t),Ia(null,e,null,n._onCommit),n},Va.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new za;return null!==(n=void 0===n?null:n)&&i.then(n),Ia(e,r,t,i._onCommit),i},Va.prototype.createBatch=function(){var t=new Ra(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime<=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},Dt=La,Nt=Na,Bt=function(){ea||0===ia||(Oa(ia,null),ia=0)};var Ha={createPortal:qa,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"==typeof t.render?a("188"):a("268",Object.keys(t))),t=null===(t=an(e))?null:t.stateNode},hydrate:function(t,e,n){return Ua(null,t,e,!0,n)},render:function(t,e,n){return Ua(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&a("38"),Ua(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Wa(t)||a("40"),!!t._reactRootContainer&&(Da(function(){Ua(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return qa.apply(void 0,arguments)},unstable_batchedUpdates:La,unstable_interactiveUpdates:Na,flushSync:function(t,e){ea&&a("187");var n=la;la=!0;try{return $o(t,e)}finally{la=n,Oa(1,null)}},unstable_flushControlled:function(t){var e=la;la=!0;try{$o(t)}finally{(la=e)||ea||Oa(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[F,R,z,P.injectEventPluginsByName,g,G,function(t){k(t,H)},jt,Lt,An,L]},unstable_createRoot:function(t,e){return Wa(t)||a("278"),new Va(t,!0,null!=e&&!0===e.hydrate)}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Fr=zr(function(t){return e.onCommitFiberRoot(n,t)}),Rr=zr(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}})(i({},t,{findHostInstanceByFiber:function(t){return null===(t=an(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:I,bundleType:0,version:"16.6.0",rendererPackageName:"react-dom"});var Ga={default:Ha},Za=Ga&&Ha||Ga;t.exports=Za.default||Za},function(t,e,n){"use strict";t.exports=n(481)},function(t,e,n){"use strict";
/** @license React v16.6.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r=null,i=3,o=-1,a=-1,s=!1,u=!1,l="object"==typeof performance&&"function"==typeof performance.now,c={timeRemaining:l?function(){if(null!==r&&r.expirationTime<a)return 0;var t=b()-performance.now();return 0<t?t:0}:function(){if(null!==r&&r.expirationTime<a)return 0;var t=b()-Date.now();return 0<t?t:0},didTimeout:!1};function f(){if(!s){var t=r.expirationTime;u?g():u=!0,y(d,t)}}function h(){var t=r,e=r.next;if(r===e)r=null;else{var n=r.previous;r=n.next=e,e.previous=n}t.next=t.previous=null,n=t.callback,e=t.expirationTime,t=t.priorityLevel;var o=i,s=a;i=t,a=e;try{var u=n(c)}finally{i=o,a=s}if("function"==typeof u)if(u={callback:u,priorityLevel:t,expirationTime:e,next:null,previous:null},null===r)r=u.next=u.previous=u;else{n=null,t=r;do{if(t.expirationTime>=e){n=t;break}t=t.next}while(t!==r);null===n?n=r:n===r&&(r=u,f()),(e=n.previous).next=n.previous=u,u.next=n,u.previous=e}}function p(){if(-1===o&&null!==r&&1===r.priorityLevel){s=!0,c.didTimeout=!0;try{do{h()}while(null!==r&&1===r.priorityLevel)}finally{s=!1,null!==r?f():u=!1}}}function d(t){s=!0,c.didTimeout=t;try{if(t)for(;null!==r;){var n=e.unstable_now();if(!(r.expirationTime<=n))break;do{h()}while(null!==r&&r.expirationTime<=n)}else if(null!==r)do{h()}while(null!==r&&0<b()-e.unstable_now())}finally{s=!1,null!==r?f():u=!1,p()}}var m,v,y,g,b,_=Date,w="function"==typeof setTimeout?setTimeout:void 0,x="function"==typeof clearTimeout?clearTimeout:void 0,E="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,S="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function T(t){m=E(function(e){x(v),t(e)}),v=w(function(){S(m),t(e.unstable_now())},100)}if(l){var k=performance;e.unstable_now=function(){return k.now()}}else e.unstable_now=function(){return _.now()};if("undefined"!=typeof window&&window._schedMock){var O=window._schedMock;y=O[0],g=O[1],b=O[2]}else if("undefined"==typeof window||"function"!=typeof window.addEventListener){var C=null,M=-1,A=function(t,e){if(null!==C){var n=C;C=null;try{M=e,n(t)}finally{M=-1}}};y=function(t,e){-1!==M?setTimeout(y,0,t,e):(C=t,setTimeout(A,e,!0,e),setTimeout(A,1073741823,!1,1073741823))},g=function(){C=null},b=function(){return 1/0},e.unstable_now=function(){return-1===M?0:M}}else{"undefined"!=typeof console&&("function"!=typeof E&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof S&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var P=null,j=!1,L=-1,D=!1,N=!1,B=0,I=33,F=33;b=function(){return B};var R="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===R){j=!1,t=P;var n=L;P=null,L=-1;var r=e.unstable_now(),i=!1;if(0>=B-r){if(!(-1!==n&&n<=r))return D||(D=!0,T(z)),P=t,void(L=n);i=!0}if(null!==t){N=!0;try{t(i)}finally{N=!1}}}},!1);var z=function(t){if(null!==P){T(z);var e=t-B+F;e<F&&I<F?(8>e&&(e=8),F=e<I?I:e):I=e,B=t+F,j||(j=!0,window.postMessage(R,"*"))}else D=!1};y=function(t,e){P=t,L=e,N||0>e?window.postMessage(R,"*"):D||(D=!0,T(z))},g=function(){P=null,j=!1,L=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:break;default:t=3}var r=i,a=o;i=t,o=e.unstable_now();try{return n()}finally{i=r,o=a,p()}},e.unstable_scheduleCallback=function(t,n){var a=-1!==o?o:e.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=a+n.timeout;else switch(i){case 1:n=a+-1;break;case 2:n=a+250;break;case 4:n=a+1073741823;break;default:n=a+5e3}if(t={callback:t,priorityLevel:i,expirationTime:n,next:null,previous:null},null===r)r=t.next=t.previous=t,f();else{a=null;var s=r;do{if(s.expirationTime>n){a=s;break}s=s.next}while(s!==r);null===a?a=r:a===r&&(r=t,f()),(n=a.previous).next=a.previous=t,t.next=a,t.previous=n}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)r=null;else{t===r&&(r=e);var n=t.previous;n.next=e,e.previous=n}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=i;return function(){var r=i,a=o;i=n,o=e.unstable_now();try{return t.apply(this,arguments)}finally{i=r,o=a,p()}}},e.unstable_getCurrentPriorityLevel=function(){return i}},function(t,e,n){var r=n(483),i=n(484),o=n(214),a="REDACTED (Potential Email Address)";t.exports=function(t,e){return r(t)?(o("This arg looks like an email address, redacting."),a):e?i(t):t}},function(t,e){t.exports=function(t){return/[^@]+@[^@]+/.test(t)}},function(t,e,n){var r=n(213);t.exports=function(t){var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;return(t=r(t)).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,n,r){return n>0&&n+t.length!==r.length&&t.search(e)>-1&&":"!==r.charAt(n-2)&&("-"!==r.charAt(n+t.length)||"-"===r.charAt(n-1))&&r.charAt(n-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})}},function(t,e){t.exports=function(t){return"/"===t.substring(0,1)&&(t=t.substring(1)),t}},function(t,e){t.exports=function(t){console.info("[react-ga]",t)}},function(t,e,n){var r=n(0),i=n(62),o=n(5),a=n(99),s=i({displayName:"OutboundLink",propTypes:{eventLabel:o.string.isRequired},statics:{trackLink:function(){console.warn("ga tracking not enabled")}},handleClick:function(t){t.preventDefault();var e=this.props,n={label:e.eventLabel};s.trackLink(n,function(){"_blank"===e.target?window.open(e.to,"_blank"):window.location.href=e.to}),e.onClick&&e.onClick(t)},render:function(){var t=a({},this.props,{href:this.props.to,onClick:this.handleClick});return delete t.eventLabel,r.createElement("a",t)}});t.exports=s},function(t,e,n){"use strict";var r=n(99),i=n(489),o=n(490),a="mixins";t.exports=function(t,e,n){var s=[],u={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)f(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=r({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=r({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=p(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=r({},t.propTypes,e)},statics:function(t,e){!function(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in l;o(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in t;o(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),t[n]=r}}}(t,e)},autobind:function(){}};function c(t,e){var n=u.hasOwnProperty(e)?u[e]:null;g.hasOwnProperty(e)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function f(t,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=t.prototype,i=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&l.mixins(t,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var f=n[s],h=r.hasOwnProperty(s);if(c(h,s),l.hasOwnProperty(s))l[s](t,f);else{var m=u.hasOwnProperty(s);if("function"!=typeof f||m||h||!1===n.autobind)if(h){var v=u[s];o(m&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,s),"DEFINE_MANY_MERGED"===v?r[s]=p(r[s],f):"DEFINE_MANY"===v&&(r[s]=d(r[s],f))}else r[s]=f;else i.push(s,f),r[s]=f}}}}function h(t,e){for(var n in o(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),e)e.hasOwnProperty(n)&&(o(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function p(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return h(i,n),h(i,r),i}}function d(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function m(t,e){return e.bind(t)}var v={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},g={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},b=function(){};return r(b.prototype,t.prototype,g),function(t){var e=function(t){return t}(function(t,r,a){this.__reactAutoBindPairs.length&&function(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=m(t,i)}}(this),this.props=t,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=s});for(var r in e.prototype=new b,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],s.forEach(f.bind(null,e)),f(e,v),f(e,t),f(e,y),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),o(e.prototype.render,"createClass(...): Class specification must implement a `render` method."),u)e.prototype[r]||(e.prototype[r]=null);return e}}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=function(t){};t.exports=function(t,e,n,i,o,a,s,u){if(r(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,u],f=0;(l=new Error(e.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,n){"use strict";var r=n(492),i=n(493),o=n(494);t.exports=function(){function t(t,e,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";var r=function(t){};t.exports=function(t,e,n,i,o,a,s,u){if(r(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,u],f=0;(l=new Error(e.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(496);function i(){}t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";
/** @license React v16.6.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,d=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function v(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case a:case u:case s:return t;default:switch(t=t&&t.$$typeof){case c:case h:case l:return t;default:return e}}case o:return e}}}function y(t){return v(t)===f}e.typeOf=v,e.AsyncMode=f,e.ConcurrentMode=f,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=h,e.Fragment=a,e.Profiler=u,e.Portal=o,e.StrictMode=s,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===f||t===u||t===s||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===d||t.$$typeof===l||t.$$typeof===c||t.$$typeof===h)},e.isAsyncMode=function(t){return y(t)},e.isConcurrentMode=y,e.isContextConsumer=function(t){return v(t)===c},e.isContextProvider=function(t){return v(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return v(t)===h},e.isFragment=function(t){return v(t)===a},e.isProfiler=function(t){return v(t)===u},e.isPortal=function(t){return v(t)===o},e.isStrictMode=function(t){return v(t)===s}},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){var r={"./config":216,"./config.json":216};function i(t){var e=o(t);return n(e)}function o(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=499},function(t,e,n){var r=n(501);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,'\nhtml, p, div, input, button {\n  font-family: "Lato", "Helvetica Neue", "Helvetica", "sans-serif";\n  font-weight: 400;\n  color: "#333";\n}\n/*! normalize.css v3.0.2 | MIT License | git.io/normalize */\n\n/**\n * 1. Set default font family to sans-serif.\n * 2. Prevent iOS text size adjust after orientation change, without disabling\n *    user zoom.\n */\nhtml {\n  font-family: sans-serif; /* 1 */\n  -ms-text-size-adjust: 100%; /* 2 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -webkit-overflow-scrolling: touch;  \n}\n/**\n * Remove default margin.\n */\nhtml, body, #root, [data-reactid=".0"] {\n  margin: 0;\n  height: 100%;\n  position: relative;\n}\n\n/*\nlinks\n*/\na, .link {\n  color: #5097BA;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: "Lato";\n  font-weight: 400;\n  font-size: 94%;\n}\n\n/* from Bootstrap */\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\ntd,\nth {\n  padding: 0;\n}\n/* end bootstrap */\n\n.panel th {\n  text-align: left;\n  padding-right: 10px;\n}\n.panel td {\n  text-align: left;\n  padding: 3px;\n}\n\n/* switch */\n/* The switch - the box around the slider */\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 35px;\n  height: 21px;\n}\n\n/* Hide default HTML checkbox */\n.switch input {display:none;}\n\n/* The slider */\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #888;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: "";\n  height: 15px;\n  width: 15px;\n  left: 4px;\n  bottom: 3px;\n  background-color: #FFF;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\ninput:checked + .slider {\n  background-color: #5097BA;\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px #2196F3;\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(13px);\n  -ms-transform: translateX(13px);\n  transform: translateX(13px);\n}\n\n/* Rounded sliders */\n.slider.round {\n  border-radius: 12px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n\nbutton:focus {outline:0;}\n',""])},function(t,e,n){var r=n(503);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,'\n/* HTML5 display definitions\n   ========================================================================== */\n\n/**\n * Correct `block` display not defined for any HTML5 element in IE 8/9.\n * Correct `block` display not defined for `details` or `summary` in IE 10/11\n * and Firefox.\n * Correct `block` display not defined for `main` in IE 11.\n */\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nmenu,\nnav,\nsection,\nsummary {\n  display: block;\n}\n\n/**\n * 1. Correct `inline-block` display not defined in IE 8/9.\n * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.\n */\n\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block; /* 1 */\n  vertical-align: baseline; /* 2 */\n}\n\n/**\n * Prevent modern browsers from displaying `audio` without controls.\n * Remove excess height in iOS 5 devices.\n */\n\naudio:not([controls]) {\n  display: none;\n  height: 0;\n}\n\n/**\n * Address `[hidden]` styling not present in IE 8/9/10.\n * Hide the `template` element in IE 8/9/11, Safari, and Firefox < 22.\n */\n\n[hidden],\ntemplate {\n  display: none;\n}\n\n/* Links\n   ========================================================================== */\n\n/**\n * Remove the gray background color from active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * Improve readability when focused and also mouse hovered in all browsers.\n */\n\na:active,\na:hover {\n  outline: 0;\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Address styling not present in IE 8/9/10/11, Safari, and Chrome.\n */\n\nabbr[title] {\n  border-bottom: 1px dotted;\n}\n\n/**\n * Address style set to `bolder` in Firefox 4+, Safari, and Chrome.\n */\n\nb,\nstrong {\n  font-weight: bold;\n}\n\n/**\n * Address styling not present in Safari and Chrome.\n */\n\ndfn {\n  font-style: italic;\n}\n\n/**\n * Address variable `h1` font-size and margin within `section` and `article`\n * contexts in Firefox 4+, Safari, and Chrome.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/**\n * Address styling not present in IE 8/9.\n */\n\nmark {\n  background: #ff0;\n  color: #000;\n}\n\n/**\n * Address inconsistent and variable font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` affecting `line-height` in all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsup {\n  top: -0.5em;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove border when inside `a` element in IE 8/9/10.\n */\n\nimg {\n  border: 0;\n}\n\n/**\n * Correct overflow not hidden in IE 9/10/11.\n */\n\nsvg:not(:root) {\n  overflow: hidden;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * Address margin not present in IE 8/9 and Safari.\n */\n\nfigure {\n  margin: 1em 40px;\n}\n\n/**\n * Address differences between Firefox and other browsers.\n */\n\nhr {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  height: 0;\n}\n\n/**\n * Contain overflow in all browsers.\n */\n\npre {\n  overflow: auto;\n}\n\n/**\n * Address odd `em`-unit font size rendering in all browsers.\n */\n\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * Known limitation: by default, Chrome and Safari on OS X allow very limited\n * styling of `select`, unless a `border` property is set.\n */\n\n/**\n * 1. Correct color not being inherited.\n *    Known issue: affects color of disabled elements.\n * 2. Correct font properties not being inherited.\n * 3. Address margins set differently in Firefox 4+, Safari, and Chrome.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit; /* 1 */\n  font: inherit; /* 2 */\n  margin: 0; /* 3 */\n}\n\n/**\n * Address `overflow` set to `hidden` in IE 8/9/10/11.\n */\n\nbutton {\n  overflow: visible;\n}\n\n/**\n * Address inconsistent `text-transform` inheritance for `button` and `select`.\n * All other form control elements do not inherit `text-transform` values.\n * Correct `button` style inheritance in Firefox, IE 8/9/10/11, and Opera.\n * Correct `select` style inheritance in Firefox.\n */\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/**\n * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`\n *    and `video` controls.\n * 2. Correct inability to style clickable `input` types in iOS.\n * 3. Improve usability and consistency of cursor style between image-type\n *    `input` and others.\n */\n\nbutton,\nhtml input[type="button"], /* 1 */\ninput[type="reset"],\ninput[type="submit"] {\n  -webkit-appearance: button; /* 2 */\n  cursor: pointer; /* 3 */\n}\n\n/**\n * Re-set default cursor for disabled elements.\n */\n\nbutton[disabled],\nhtml input[disabled] {\n  cursor: default;\n}\n\n/**\n * Remove inner padding and border in Firefox 4+.\n */\n\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n/**\n * Address Firefox 4+ setting `line-height` on `input` using `!important` in\n * the UA stylesheet.\n */\n\ninput {\n  line-height: normal;\n}\n\n/**\n * It\'s recommended that you don\'t attempt to style these elements.\n * Firefox\'s implementation doesn\'t respect box-sizing, padding, or width.\n *\n * 1. Address box sizing set to `content-box` in IE 8/9/10.\n * 2. Remove excess padding in IE 8/9/10.\n */\n\ninput[type="checkbox"],\ninput[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Fix the cursor style for Chrome\'s increment/decrement buttons. For certain\n * `font-size` values of the `input`, it causes the cursor style of the\n * decrement button to change from `default` to `text`.\n */\n\ninput[type="number"]::-webkit-inner-spin-button,\ninput[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Address `appearance` set to `searchfield` in Safari and Chrome.\n * 2. Address `box-sizing` set to `border-box` in Safari and Chrome\n *    (include `-moz` to future-proof).\n */\n\ninput[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  -moz-box-sizing: content-box;\n  -webkit-box-sizing: content-box; /* 2 */\n  box-sizing: content-box;\n}\n\n/**\n * Remove inner padding and search cancel button in Safari and Chrome on OS X.\n * Safari (but not Chrome) clips the cancel button when the search input has\n * padding (and `textfield` appearance).\n */\n\ninput[type="search"]::-webkit-search-cancel-button,\ninput[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * Define consistent border, margin, and padding.\n */\n\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em;\n}\n\n/**\n * 1. Correct `color` not being inherited in IE 8/9/10/11.\n * 2. Remove padding so people aren\'t caught out if they zero out fieldsets.\n */\n\nlegend {\n  border: 0; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Remove default vertical scrollbar in IE 8/9/10/11.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * Don\'t inherit the `font-weight` (applied by a rule above).\n * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.\n */\n\noptgroup {\n  font-weight: bold;\n}\n\n/* Tables\n   ==========================================================================\n   MOVED TO GLOBAL.CSS\n   */\n',""])},function(t,e,n){var r=n(505);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,'/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2017 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\n/*!\n * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=6b86ca18d196601f4dc3dca9dfd88c2f)\n * Config saved to config.json and https://gist.github.com/6b86ca18d196601f4dc3dca9dfd88c2f\n */\n/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */\n\n/* i\'ve removed a bunch of stuff here that was in browserCompatability.css already*/\n\n/** {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n*:before,\n*:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}*/\nhtml {\n  font-size: 10px;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n/*body {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.42857143;\n  color: #333333;\n  background-color: #ffffff;\n}*/\ninput,\nbutton,\nselect,\ntextarea {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\na {\n  text-decoration: none;\n}\na:hover,\na:focus {\n  color: #5097BA;\n  text-decoration: underline;\n}\na:focus {\n  outline: 5px auto -webkit-focus-ring-color;\n  outline-offset: -2px;\n}\nfigure {\n  margin: 0;\n}\nimg {\n  vertical-align: middle;\n}\n.img-responsive {\n  display: block;\n  max-width: 100%;\n  height: auto;\n}\n.img-rounded {\n  border-radius: 6px;\n}\n.img-thumbnail {\n  padding: 4px;\n  line-height: 1.42857143;\n  background-color: #ffffff;\n  border: 1px solid #dddddd;\n  border-radius: 4px;\n  -webkit-transition: all 0.2s ease-in-out;\n  -o-transition: all 0.2s ease-in-out;\n  transition: all 0.2s ease-in-out;\n  display: inline-block;\n  max-width: 100%;\n  height: auto;\n}\n.img-circle {\n  border-radius: 50%;\n}\nhr {\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border: 0;\n  border-top: 1px solid #eeeeee;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.sr-only-focusable:active,\n.sr-only-focusable:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  clip: auto;\n}\n[role="button"] {\n  cursor: pointer;\n}\n\n\n\n.container {\n  margin-right: auto;\n  margin-left: auto;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n@media (min-width: 768px) {\n  .container {\n    width: 728px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n    width: 952px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n    width: 1150px;\n  }\n}\n.container-fluid {\n  margin-right: auto;\n  margin-left: auto;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.row {\n  margin-left: -15px;\n  margin-right: -15px;\n}\n.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {\n  position: relative;\n  min-height: 1px;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {\n  float: left;\n}\n.col-xs-12 {\n  width: 100%;\n}\n.col-xs-11 {\n  width: 91.66666667%;\n}\n.col-xs-10 {\n  width: 83.33333333%;\n}\n.col-xs-9 {\n  width: 75%;\n}\n.col-xs-8 {\n  width: 66.66666667%;\n}\n.col-xs-7 {\n  width: 58.33333333%;\n}\n.col-xs-6 {\n  width: 50%;\n}\n.col-xs-5 {\n  width: 41.66666667%;\n}\n.col-xs-4 {\n  width: 33.33333333%;\n}\n.col-xs-3 {\n  width: 25%;\n}\n.col-xs-2 {\n  width: 16.66666667%;\n}\n.col-xs-1 {\n  width: 8.33333333%;\n}\n.col-xs-pull-12 {\n  right: 100%;\n}\n.col-xs-pull-11 {\n  right: 91.66666667%;\n}\n.col-xs-pull-10 {\n  right: 83.33333333%;\n}\n.col-xs-pull-9 {\n  right: 75%;\n}\n.col-xs-pull-8 {\n  right: 66.66666667%;\n}\n.col-xs-pull-7 {\n  right: 58.33333333%;\n}\n.col-xs-pull-6 {\n  right: 50%;\n}\n.col-xs-pull-5 {\n  right: 41.66666667%;\n}\n.col-xs-pull-4 {\n  right: 33.33333333%;\n}\n.col-xs-pull-3 {\n  right: 25%;\n}\n.col-xs-pull-2 {\n  right: 16.66666667%;\n}\n.col-xs-pull-1 {\n  right: 8.33333333%;\n}\n.col-xs-pull-0 {\n  right: auto;\n}\n.col-xs-push-12 {\n  left: 100%;\n}\n.col-xs-push-11 {\n  left: 91.66666667%;\n}\n.col-xs-push-10 {\n  left: 83.33333333%;\n}\n.col-xs-push-9 {\n  left: 75%;\n}\n.col-xs-push-8 {\n  left: 66.66666667%;\n}\n.col-xs-push-7 {\n  left: 58.33333333%;\n}\n.col-xs-push-6 {\n  left: 50%;\n}\n.col-xs-push-5 {\n  left: 41.66666667%;\n}\n.col-xs-push-4 {\n  left: 33.33333333%;\n}\n.col-xs-push-3 {\n  left: 25%;\n}\n.col-xs-push-2 {\n  left: 16.66666667%;\n}\n.col-xs-push-1 {\n  left: 8.33333333%;\n}\n.col-xs-push-0 {\n  left: auto;\n}\n.col-xs-offset-12 {\n  margin-left: 100%;\n}\n.col-xs-offset-11 {\n  margin-left: 91.66666667%;\n}\n.col-xs-offset-10 {\n  margin-left: 83.33333333%;\n}\n.col-xs-offset-9 {\n  margin-left: 75%;\n}\n.col-xs-offset-8 {\n  margin-left: 66.66666667%;\n}\n.col-xs-offset-7 {\n  margin-left: 58.33333333%;\n}\n.col-xs-offset-6 {\n  margin-left: 50%;\n}\n.col-xs-offset-5 {\n  margin-left: 41.66666667%;\n}\n.col-xs-offset-4 {\n  margin-left: 33.33333333%;\n}\n.col-xs-offset-3 {\n  margin-left: 25%;\n}\n.col-xs-offset-2 {\n  margin-left: 16.66666667%;\n}\n.col-xs-offset-1 {\n  margin-left: 8.33333333%;\n}\n.col-xs-offset-0 {\n  margin-left: 0%;\n}\n@media (min-width: 680px) {\n  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n    float: left;\n  }\n  .col-sm-12 {\n    width: 100%;\n  }\n  .col-sm-11 {\n    width: 91.66666667%;\n  }\n  .col-sm-10 {\n    width: 83.33333333%;\n  }\n  .col-sm-9 {\n    width: 75%;\n  }\n  .col-sm-8 {\n    width: 66.66666667%;\n  }\n  .col-sm-7 {\n    width: 58.33333333%;\n  }\n  .col-sm-6 {\n    width: 50%;\n  }\n  .col-sm-5 {\n    width: 41.66666667%;\n  }\n  .col-sm-4 {\n    width: 33.33333333%;\n  }\n  .col-sm-3 {\n    width: 25%;\n  }\n  .col-sm-2 {\n    width: 16.66666667%;\n  }\n  .col-sm-1 {\n    width: 8.33333333%;\n  }\n  .col-sm-pull-12 {\n    right: 100%;\n  }\n  .col-sm-pull-11 {\n    right: 91.66666667%;\n  }\n  .col-sm-pull-10 {\n    right: 83.33333333%;\n  }\n  .col-sm-pull-9 {\n    right: 75%;\n  }\n  .col-sm-pull-8 {\n    right: 66.66666667%;\n  }\n  .col-sm-pull-7 {\n    right: 58.33333333%;\n  }\n  .col-sm-pull-6 {\n    right: 50%;\n  }\n  .col-sm-pull-5 {\n    right: 41.66666667%;\n  }\n  .col-sm-pull-4 {\n    right: 33.33333333%;\n  }\n  .col-sm-pull-3 {\n    right: 25%;\n  }\n  .col-sm-pull-2 {\n    right: 16.66666667%;\n  }\n  .col-sm-pull-1 {\n    right: 8.33333333%;\n  }\n  .col-sm-pull-0 {\n    right: auto;\n  }\n  .col-sm-push-12 {\n    left: 100%;\n  }\n  .col-sm-push-11 {\n    left: 91.66666667%;\n  }\n  .col-sm-push-10 {\n    left: 83.33333333%;\n  }\n  .col-sm-push-9 {\n    left: 75%;\n  }\n  .col-sm-push-8 {\n    left: 66.66666667%;\n  }\n  .col-sm-push-7 {\n    left: 58.33333333%;\n  }\n  .col-sm-push-6 {\n    left: 50%;\n  }\n  .col-sm-push-5 {\n    left: 41.66666667%;\n  }\n  .col-sm-push-4 {\n    left: 33.33333333%;\n  }\n  .col-sm-push-3 {\n    left: 25%;\n  }\n  .col-sm-push-2 {\n    left: 16.66666667%;\n  }\n  .col-sm-push-1 {\n    left: 8.33333333%;\n  }\n  .col-sm-push-0 {\n    left: auto;\n  }\n  .col-sm-offset-12 {\n    margin-left: 100%;\n  }\n  .col-sm-offset-11 {\n    margin-left: 91.66666667%;\n  }\n  .col-sm-offset-10 {\n    margin-left: 83.33333333%;\n  }\n  .col-sm-offset-9 {\n    margin-left: 75%;\n  }\n  .col-sm-offset-8 {\n    margin-left: 66.66666667%;\n  }\n  .col-sm-offset-7 {\n    margin-left: 58.33333333%;\n  }\n  .col-sm-offset-6 {\n    margin-left: 50%;\n  }\n  .col-sm-offset-5 {\n    margin-left: 41.66666667%;\n  }\n  .col-sm-offset-4 {\n    margin-left: 33.33333333%;\n  }\n  .col-sm-offset-3 {\n    margin-left: 25%;\n  }\n  .col-sm-offset-2 {\n    margin-left: 16.66666667%;\n  }\n  .col-sm-offset-1 {\n    margin-left: 8.33333333%;\n  }\n  .col-sm-offset-0 {\n    margin-left: 0%;\n  }\n}\n@media (min-width: 992px) {\n  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {\n    float: left;\n  }\n  .col-md-12 {\n    width: 100%;\n  }\n  .col-md-11 {\n    width: 91.66666667%;\n  }\n  .col-md-10 {\n    width: 83.33333333%;\n  }\n  .col-md-9 {\n    width: 75%;\n  }\n  .col-md-8 {\n    width: 66.66666667%;\n  }\n  .col-md-7 {\n    width: 58.33333333%;\n  }\n  .col-md-6 {\n    width: 50%;\n  }\n  .col-md-5 {\n    width: 41.66666667%;\n  }\n  .col-md-4 {\n    width: 33.33333333%;\n  }\n  .col-md-3 {\n    width: 25%;\n  }\n  .col-md-2 {\n    width: 16.66666667%;\n  }\n  .col-md-1 {\n    width: 8.33333333%;\n  }\n  .col-md-pull-12 {\n    right: 100%;\n  }\n  .col-md-pull-11 {\n    right: 91.66666667%;\n  }\n  .col-md-pull-10 {\n    right: 83.33333333%;\n  }\n  .col-md-pull-9 {\n    right: 75%;\n  }\n  .col-md-pull-8 {\n    right: 66.66666667%;\n  }\n  .col-md-pull-7 {\n    right: 58.33333333%;\n  }\n  .col-md-pull-6 {\n    right: 50%;\n  }\n  .col-md-pull-5 {\n    right: 41.66666667%;\n  }\n  .col-md-pull-4 {\n    right: 33.33333333%;\n  }\n  .col-md-pull-3 {\n    right: 25%;\n  }\n  .col-md-pull-2 {\n    right: 16.66666667%;\n  }\n  .col-md-pull-1 {\n    right: 8.33333333%;\n  }\n  .col-md-pull-0 {\n    right: auto;\n  }\n  .col-md-push-12 {\n    left: 100%;\n  }\n  .col-md-push-11 {\n    left: 91.66666667%;\n  }\n  .col-md-push-10 {\n    left: 83.33333333%;\n  }\n  .col-md-push-9 {\n    left: 75%;\n  }\n  .col-md-push-8 {\n    left: 66.66666667%;\n  }\n  .col-md-push-7 {\n    left: 58.33333333%;\n  }\n  .col-md-push-6 {\n    left: 50%;\n  }\n  .col-md-push-5 {\n    left: 41.66666667%;\n  }\n  .col-md-push-4 {\n    left: 33.33333333%;\n  }\n  .col-md-push-3 {\n    left: 25%;\n  }\n  .col-md-push-2 {\n    left: 16.66666667%;\n  }\n  .col-md-push-1 {\n    left: 8.33333333%;\n  }\n  .col-md-push-0 {\n    left: auto;\n  }\n  .col-md-offset-12 {\n    margin-left: 100%;\n  }\n  .col-md-offset-11 {\n    margin-left: 91.66666667%;\n  }\n  .col-md-offset-10 {\n    margin-left: 83.33333333%;\n  }\n  .col-md-offset-9 {\n    margin-left: 75%;\n  }\n  .col-md-offset-8 {\n    margin-left: 66.66666667%;\n  }\n  .col-md-offset-7 {\n    margin-left: 58.33333333%;\n  }\n  .col-md-offset-6 {\n    margin-left: 50%;\n  }\n  .col-md-offset-5 {\n    margin-left: 41.66666667%;\n  }\n  .col-md-offset-4 {\n    margin-left: 33.33333333%;\n  }\n  .col-md-offset-3 {\n    margin-left: 25%;\n  }\n  .col-md-offset-2 {\n    margin-left: 16.66666667%;\n  }\n  .col-md-offset-1 {\n    margin-left: 8.33333333%;\n  }\n  .col-md-offset-0 {\n    margin-left: 0%;\n  }\n}\n@media (min-width: 1200px) {\n  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {\n    float: left;\n  }\n  .col-lg-12 {\n    width: 100%;\n  }\n  .col-lg-11 {\n    width: 91.66666667%;\n  }\n  .col-lg-10 {\n    width: 83.33333333%;\n  }\n  .col-lg-9 {\n    width: 75%;\n  }\n  .col-lg-8 {\n    width: 66.66666667%;\n  }\n  .col-lg-7 {\n    width: 58.33333333%;\n  }\n  .col-lg-6 {\n    width: 50%;\n  }\n  .col-lg-5 {\n    width: 41.66666667%;\n  }\n  .col-lg-4 {\n    width: 33.33333333%;\n  }\n  .col-lg-3 {\n    width: 25%;\n  }\n  .col-lg-2 {\n    width: 16.66666667%;\n  }\n  .col-lg-1 {\n    width: 8.33333333%;\n  }\n  .col-lg-pull-12 {\n    right: 100%;\n  }\n  .col-lg-pull-11 {\n    right: 91.66666667%;\n  }\n  .col-lg-pull-10 {\n    right: 83.33333333%;\n  }\n  .col-lg-pull-9 {\n    right: 75%;\n  }\n  .col-lg-pull-8 {\n    right: 66.66666667%;\n  }\n  .col-lg-pull-7 {\n    right: 58.33333333%;\n  }\n  .col-lg-pull-6 {\n    right: 50%;\n  }\n  .col-lg-pull-5 {\n    right: 41.66666667%;\n  }\n  .col-lg-pull-4 {\n    right: 33.33333333%;\n  }\n  .col-lg-pull-3 {\n    right: 25%;\n  }\n  .col-lg-pull-2 {\n    right: 16.66666667%;\n  }\n  .col-lg-pull-1 {\n    right: 8.33333333%;\n  }\n  .col-lg-pull-0 {\n    right: auto;\n  }\n  .col-lg-push-12 {\n    left: 100%;\n  }\n  .col-lg-push-11 {\n    left: 91.66666667%;\n  }\n  .col-lg-push-10 {\n    left: 83.33333333%;\n  }\n  .col-lg-push-9 {\n    left: 75%;\n  }\n  .col-lg-push-8 {\n    left: 66.66666667%;\n  }\n  .col-lg-push-7 {\n    left: 58.33333333%;\n  }\n  .col-lg-push-6 {\n    left: 50%;\n  }\n  .col-lg-push-5 {\n    left: 41.66666667%;\n  }\n  .col-lg-push-4 {\n    left: 33.33333333%;\n  }\n  .col-lg-push-3 {\n    left: 25%;\n  }\n  .col-lg-push-2 {\n    left: 16.66666667%;\n  }\n  .col-lg-push-1 {\n    left: 8.33333333%;\n  }\n  .col-lg-push-0 {\n    left: auto;\n  }\n  .col-lg-offset-12 {\n    margin-left: 100%;\n  }\n  .col-lg-offset-11 {\n    margin-left: 91.66666667%;\n  }\n  .col-lg-offset-10 {\n    margin-left: 83.33333333%;\n  }\n  .col-lg-offset-9 {\n    margin-left: 75%;\n  }\n  .col-lg-offset-8 {\n    margin-left: 66.66666667%;\n  }\n  .col-lg-offset-7 {\n    margin-left: 58.33333333%;\n  }\n  .col-lg-offset-6 {\n    margin-left: 50%;\n  }\n  .col-lg-offset-5 {\n    margin-left: 41.66666667%;\n  }\n  .col-lg-offset-4 {\n    margin-left: 33.33333333%;\n  }\n  .col-lg-offset-3 {\n    margin-left: 25%;\n  }\n  .col-lg-offset-2 {\n    margin-left: 16.66666667%;\n  }\n  .col-lg-offset-1 {\n    margin-left: 8.33333333%;\n  }\n  .col-lg-offset-0 {\n    margin-left: 0%;\n  }\n}\n.clearfix:before,\n.clearfix:after,\n.container:before,\n.container:after,\n.container-fluid:before,\n.container-fluid:after,\n.row:before,\n.row:after {\n  content: " ";\n  display: table;\n}\n.clearfix:after,\n.container:after,\n.container-fluid:after,\n.row:after {\n  clear: both;\n}\n.center-block {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n.pull-right {\n  float: right !important;\n}\n.pull-left {\n  float: left !important;\n}\n.hide {\n  display: none !important;\n}\n.show {\n  display: block !important;\n}\n.invisible {\n  visibility: hidden;\n}\n.text-hide {\n  font: 0/0 a;\n  color: transparent;\n  text-shadow: none;\n  background-color: transparent;\n  border: 0;\n}\n.hidden {\n  display: none !important;\n}\n.affix {\n  position: fixed;\n}\n',""])},function(t,e,n){var r=n(507);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,'\n/* Variables - keep in sync with globalStyles.js*/\n:root {\n  --darkGrey: #333;\n  --medGrey: #888;\n  --lightGrey: #CCC;\n  --brandColor: #5097BA;\n}\n\n/* stop horizontal scroll bar appearing*/\nbody {\n  overflow-x: hidden;\n}\n\n/* The width and height properties include\nthe content, the padding and border, but not the margin.\n*/\n.static * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.static *:before,\n.static *:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.static .line {\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #CCC;\n}\n\n.static .main {\n  margin-top: 30px;\n}\n\n.static .title {\n  font-size: 28;\n}\n\n.static div {\n  text-align: justify;\n  font-size: 16px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  font-weight: 300;\n  color: var(--darkGrey);\n  line-height: 1.42857143;\n}\n\n.static h1 {\n  text-align: left;\n  font-size: 38px;\n  line-height: 32px;\n  font-weight: 300;\n  color: var(--darkGrey);\n  min-width: 240px;\n  margin-top: 40px;\n  margin-bottom: 30px;\n}\n\n.static h2 {\n  text-align: left;\n  font-size: 16px;\n  line-height: 28px;\n  margin-top: 15px;\n  margin-bottom: 5px;\n  font-weight: 500;\n  color: var(--darkGrey);\n  border-bottom: 10px;\n  min-width: 240px;\n}\n\n.static h3 {\n  text-align: left;\n  font-size: 16px;\n  line-height: 28px;\n  margin-top: 10px;\n  margin-bottom: 0px;\n  font-weight: 500;\n  color: var(--darkGrey);\n  border-bottom: 0px;\n  min-width: 240px;\n}\n\n.static .bigspacer {\n  height: 30px;\n}\n\n.static .hugespacer {\n\theight: 50px;\n}\n\n.static .bigspacer {\n\theight: 30px;\n}\n\n.static .spacer {\n\theight: 10px;\n}\n\n.static .smallspacer {\n\theight: 5px;\n}\n\n.static .highlight {\n\tbackground-color: white;\n\tcolor: var(--medGrey);\n\tfont-size: 94%; /* same as <a>*/\n}\n\nstrong {\n\tbackground-color: white;\n\tcolor: var(--medGrey);\n\tfont-size: 94%; /* same as <a>*/\n}\n\n.static.container {\n  padding-left: 25px;\n  padding-right: 25px;\n}\n\n.static .col-md-9 img {\n  width: 100%;\n}\n\n.static .clickable {\n  color: #5097BA;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: "Lato";\n  font-weight: 400;\n  font-size: 94%;\n}\n/*.static aside {\n  float: right;\n}*/\n@media (min-width: 992px) {\n  .static aside {\n    float: right;\n    padding-left: 30px;\n    text-align: left;\n  }\n  .static .col-md-3 h1 {\n    text-align: right;\n    float: right;\n  }\n  .static .col-md-3 h2 {\n    text-align: right;\n    float: right;\n  }\n}\n\n.static .aside {\n  font-size: 13px;\n  font-weight: 300;\n}\n\nblockquote.twitter-tweet {\n  display: inline-block;\n  font-family: "Helvetica Neue", Roboto, "Segoe UI", Calibri, sans-serif;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 16px;\n  border-color: #eee #ddd #bbb;\n  border-radius: 5px;\n  border-style: solid;\n  border-width: 1px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n  margin: 10px 5px;\n  padding: 0 16px 16px 16px;\n  max-width: 468px;\n}\n\nblockquote.twitter-tweet p {\n  font-size: 16px;\n  font-weight: normal;\n  line-height: 20px;\n}\n\nblockquote.twitter-tweet a {\n  color: inherit;\n  font-weight: normal;\n  text-decoration: none;\n  outline: 0 none;\n}\n\nblockquote.twitter-tweet a:hover,\nblockquote.twitter-tweet a:focus {\n  text-decoration: underline;\n}\n\n/*@media (max-width: 1100px) {\n  .static .aside {\n    font-size: 0\n  }\n}*/\n\n@media (min-width: 550px) { /* apply these styles down to/until we\'re at 700px */\n  .twitterRow {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    flex-wrap: wrap;\n  }\n  .twitterColumn {\n    display: flex;\n    flex-direction: column;\n  }\n}\n\n/* https://stackoverflow.com/questions/16771225/css3-rotate-animation */\n.spinner {\n    position: relative;\n    /*top: 50%;*/\n    left: 50%;\n    width: 80px;\n    height: 80px;\n    margin: 0px 0px 0px -40px;\n    -webkit-animation:spin 1s linear infinite;\n    -moz-animation:spin 1s linear infinite;\n    animation:spin 1s linear infinite;\n}\n@-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }\n@-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }\n@keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }\n',""])},function(t,e,n){var r=n(509);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,"/*\nhttps://github.com/atom/notifications/blob/master/styles/notifications.less\nhttps://github.com/atom/atom/blob/master/static/variables/octicon-utf-codes.less\nhttps://github.com/atom/atom/blob/master/static/variables/octicon-mixins.less\nhttps://github.com/atom/atom/blob/master/static/variables/ui-variables.less\n*/\n\n:root {\n  --icon-size: 35px;\n  --icon-size-plus-padding: 45px;\n  --width: 450px;\n  --width-detail: 450px;\n  --min-h: 50px;\n\n  --background-color-info: #0098ff;\n  --background-color-success: #00ce4c;\n  --background-color-warning: #ff8533;\n  --background-color-error: #c00;\n\n  --text-color-info: #3b71ab;\n  --text-color-success: #17944e;\n  --text-color-warning: #bf5818;\n  --text-color-error: #9c0101;\n}\n\n.notifications {\n  display: block;\n  z-index: 1000;\n  position: fixed;\n  top: 20px;\n  right: 0;\n  bottom: 0;\n  padding: 0;\n  /*font-size: 1.2em;*/\n  overflow-x: hidden;\n  overflow-y: auto;\n  pointer-events: none;\n}\n\n.notification {\n  float: right;\n  clear: right;\n  position: relative;\n  width: var(--width);\n  padding-left: var(--icon-size-plus-padding);\n  margin-bottom: 4px;\n  max-height: 800px;\n  min-height: var(--min-h);\n  word-wrap: break-word;\n  pointer-events: auto;\n}\n\n/* BACKGROUND & TEXT COLOURS */\n.notification.error {\n  background-color: var(--background-color-error);\n  color: var(--text-color-error);\n}\n\n.notification.warning {\n  background-color: var(--background-color-warning);\n  color: var(--text-color-warning);\n}\n\n.notification.info {\n  background-color: var(--background-color-info);\n  color: var(--text-color-info);\n}\n\n.notification.success {\n  background-color: var(--background-color-success);\n  color: var(--text-color-success);\n}\n\n.notification .content {\n  background-color: rgba(255, 255, 255, 0.5);\n  min-height: var(--min-h);\n  /* top | right | bottom | left */\n  padding: 5px 0px 0px 5px;\n}\n\n.notification .message {\n  font-size: 22px;\n  /*color: white;*/\n  background-clip: padding-box;\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.notification .detail {\n  font-size: 14px;\n  font-weight: 200;\n  /*background-color: rgba(255, 255, 255, 0.3);*/\n  background-clip: padding-box;\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.notification .icon {\n  font-size: var(--icon-size);\n  width: var(--icon-size);\n  height: var(--icon-size);\n  top: 0;\n  left: 0;\n  /* top | right | bottom | left */\n  margin: 7px 0px 0px 5px;\n  /*padding: 0;*/\n  position: absolute;\n  /*fill: white;*/\n  fill: rgba(255, 255, 255, 0.8);\n  font-weight: normal;\n  font-style: normal;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n  text-decoration: none;\n}\n\n.notification .close-icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 20px;\n  height: 20px;\n  margin: 5px 5px 0px 0px;\n  fill: rgba(255, 255, 255, 0.8);\n}\n\n/*\nhttps://facebook.github.io/react/docs/animation.html#high-level-api-reactcsstransitiongroup\n*/\n.notification-enter {\n  left: var(--width);\n}\n\n.notification-enter.notification-enter-active {\n  transition: 400ms ease-in;\n  left: 0;\n}\n\n.notification-leave {\n  left: 0;\n}\n\n.notification-leave.notification-leave-active {\n  transition: 400ms ease-in;\n  left: var(--width);\n}\n",""])},function(t,e,n){var r=n(511);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,'\n/* http://jedwatson.github.io/react-select/ */\n\n.boxed-item {\n  margin: 1px 2px 1px 2px;\n  padding: 0px 2px 0px 2px;\n  color: #5097BA;\n}\n\n.boxed-item.active-with-icon {\n  background-color: #E9F2F6;\n  border-bottom-right-radius: 2px;\n  border-top-right-radius: 2px;\n  border: 1px solid #BDD8E5;\n  font-weight: 300;\n  cursor: "pointer";\n  display: inline-block;\n  border-width: 1;\n  margin: 0px 2px 0px 0px;\n}\n\n.boxed-item.active-clickable {\n  background-color: #E9F2F6;\n  border-radius: 2px;\n  border: 1px solid #BDD8E5;\n  font-weight: 300;\n  cursor: "pointer";\n  display: inline-block;\n  border-width: 1;\n  cursor: pointer;\n}\n\n.boxed-item.inactive {\n  font-weight: 300;\n  padding: 2px 3px 2px 3px; /* increase to mimic border */\n}\n\n.boxed-item.inactive:hover {\n  text-decoration: underline;\n}\n\n.boxed-item-icon {\n  cursor: pointer;\n  color: #5097BA;\n  border-bottom-left-radius: 2px;\n  border-top-left-radius: 2px;\n  border-width: 1px 0px 1px 1px;\n  border-style: solid;\n  border-color: #BDD8E5;\n  min-width: 15px;\n  background-color: #E9F2F6;\n  padding: 0px 0px 0px 2px;\n  margin: 1px 0px 1px 2px;\n  display: inline-block;\n  text-align: center;\n}\n\n.boxed-item-icon:hover, .boxed-item-icon:focus {\n  background-color: #d8eafd;\n  color: #0071e6;\n}\n\n.boxed-item.inactive:focus, .boxed-item-icon:focus, .active-clickable:focus {\n  outline:0;\n}\n\ndiv.inlineRight {\n  float: right;\n  margin: 0px 4px;\n  display: inline;\n}\n',""])},function(t,e,n){var r=n(513);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,"/**\n * React Select\n * ============\n * Created by Jed Watson and Joss Mackison for KeystoneJS, http://www.keystonejs.com/\n * https://twitter.com/jedwatson https://twitter.com/jossmackison https://twitter.com/keystonejs\n * MIT License: https://github.com/JedWatson/react-select\n*/\n.Select {\n  position: relative;\n}\n.Select,\n.Select div,\n.Select input,\n.Select span {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.Select.is-disabled > .Select-control {\n  background-color: #f9f9f9;\n}\n.Select.is-disabled > .Select-control:hover {\n  box-shadow: none;\n}\n.Select.is-disabled .Select-arrow-zone {\n  cursor: default;\n  pointer-events: none;\n  opacity: 0.35;\n}\n.Select-control {\n  background-color: #fafafa;\n  border-color: #d9d9d9 #ccc #b3b3b3;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  color: #333;\n  cursor: default;\n  display: table;\n  border-spacing: 0;\n  border-collapse: separate;\n  height: 36px;\n  outline: none;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n}\n.Select-control:hover {\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);\n}\n.Select-control .Select-input:focus {\n  outline: none;\n}\n.is-searchable.is-open > .Select-control {\n  cursor: text;\n}\n.is-open > .Select-control {\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n  background: #fafafa;\n  border-color: #b3b3b3 #ccc #d9d9d9;\n}\n.is-open > .Select-control .Select-arrow {\n  top: -2px;\n  border-color: transparent transparent #999;\n  border-width: 0 5px 5px;\n}\n.is-searchable.is-focused:not(.is-open) > .Select-control {\n  cursor: text;\n}\n.is-focused:not(.is-open) > .Select-control {\n  border-color: #007eff;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 0 3px rgba(0, 126, 255, 0.1);\n}\n.Select-placeholder,\n.Select--single > .Select-control .Select-value {\n  bottom: 0;\n  color: #aaa;\n  left: 0;\n  line-height: 34px;\n  padding-left: 10px;\n  padding-right: 10px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.has-value.is-clearable.Select--single > .Select-control .Select-value {\n  padding-right: 42px;\n}\n.has-value.Select--single > .Select-control .Select-value .Select-value-label,\n.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value .Select-value-label {\n  color: #333;\n}\n.has-value.Select--single > .Select-control .Select-value a.Select-value-label,\n.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label {\n  cursor: pointer;\n  text-decoration: none;\n}\n.has-value.Select--single > .Select-control .Select-value a.Select-value-label:hover,\n.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label:hover,\n.has-value.Select--single > .Select-control .Select-value a.Select-value-label:focus,\n.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label:focus {\n  color: #007eff;\n  outline: none;\n  text-decoration: underline;\n}\n.Select-input {\n  height: 34px;\n  padding-left: 10px;\n  padding-right: 10px;\n  vertical-align: middle;\n}\n.Select-input > input {\n  width: 100%;\n  background: none transparent;\n  border: 0 none;\n  box-shadow: none;\n  cursor: default;\n  display: inline-block;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  outline: none;\n  line-height: 14px;\n  /* For IE 8 compatibility */\n  padding: 8px 0 12px;\n  /* For IE 8 compatibility */\n  -webkit-appearance: none;\n}\n.is-focused .Select-input > input {\n  cursor: text;\n}\n.has-value.is-pseudo-focused .Select-input {\n  opacity: 0;\n}\n.Select-control:not(.is-searchable) > .Select-input {\n  outline: none;\n}\n.Select-loading-zone {\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 16px;\n}\n.Select-loading {\n  -webkit-animation: Select-animation-spin 400ms infinite linear;\n  -o-animation: Select-animation-spin 400ms infinite linear;\n  animation: Select-animation-spin 400ms infinite linear;\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  border-right-color: #333;\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n}\n.Select-clear-zone {\n  -webkit-animation: Select-animation-fadeIn 200ms;\n  -o-animation: Select-animation-fadeIn 200ms;\n  animation: Select-animation-fadeIn 200ms;\n  color: #999;\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 17px;\n}\n.Select-clear-zone:hover {\n  color: #D0021B;\n}\n.Select-clear {\n  display: inline-block;\n  font-size: 18px;\n  line-height: 1;\n}\n.Select--multi .Select-clear-zone {\n  width: 17px;\n}\n.Select-arrow-zone {\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 25px;\n  padding-right: 5px;\n}\n.Select-arrow {\n  border-color: #999 transparent transparent;\n  border-style: solid;\n  border-width: 5px 5px 2.5px;\n  display: inline-block;\n  height: 0;\n  width: 0;\n  position: relative;\n}\n.is-open .Select-arrow,\n.Select-arrow-zone:hover > .Select-arrow {\n  border-top-color: #666;\n}\n.Select--multi .Select-multi-value-wrapper {\n  display: inline-block;\n}\n.Select .Select-aria-only {\n  display: inline-block;\n  height: 1px;\n  width: 1px;\n  margin: -1px;\n  clip: rect(0, 0, 0, 0);\n  overflow: hidden;\n  float: left;\n}\n@-webkit-keyframes Select-animation-fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes Select-animation-fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.Select-menu-outer {\n  border-bottom-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n  background-color: #fafafa;\n  border: 1px solid #ccc;\n  border-top-color: #e6e6e6;\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);\n  box-sizing: border-box;\n  margin-top: -1px;\n  max-height: 300px;\n  position: absolute;\n  top: 100%;\n  width: 100%;\n  z-index: 1;\n  -webkit-overflow-scrolling: touch;\n}\n.Select-menu {\n  max-height: 298px;\n  overflow-y: auto;\n}\n.Select-option {\n  box-sizing: border-box;\n  background-color: #fafafa;\n  color: #666666;\n  cursor: pointer;\n  display: block;\n  padding: 8px 10px;\n}\n.Select-option:last-child {\n  border-bottom-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.Select-option.is-selected {\n  background-color: #f5faff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.04);\n  color: #333;\n}\n.Select-option.is-focused {\n  background-color: #ebf5ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.08);\n  color: #333;\n}\n.Select-option.is-disabled {\n  color: #cccccc;\n  cursor: default;\n}\n.Select-noresults {\n  box-sizing: border-box;\n  color: #999999;\n  cursor: default;\n  display: block;\n  padding: 8px 10px;\n}\n.Select--multi .Select-input {\n  vertical-align: middle;\n  margin-left: 10px;\n  padding: 0;\n}\n.Select--multi.has-value .Select-input {\n  margin-left: 5px;\n}\n.Select--multi .Select-value {\n  background-color: #ebf5ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.08);\n  border-radius: 2px;\n  border: 1px solid #c2e0ff;\n  /* Fallback color for IE 8 */\n  border: 1px solid rgba(0, 126, 255, 0.24);\n  color: #007eff;\n  display: inline-block;\n  font-size: 0.9em;\n  line-height: 1.4;\n  margin-left: 5px;\n  margin-top: 5px;\n  vertical-align: top;\n}\n.Select--multi .Select-value-icon,\n.Select--multi .Select-value-label {\n  display: inline-block;\n  vertical-align: middle;\n}\n.Select--multi .Select-value-label {\n  border-bottom-right-radius: 2px;\n  border-top-right-radius: 2px;\n  cursor: default;\n  padding: 2px 5px;\n}\n.Select--multi a.Select-value-label {\n  color: #007eff;\n  cursor: pointer;\n  text-decoration: none;\n}\n.Select--multi a.Select-value-label:hover {\n  text-decoration: underline;\n}\n.Select--multi .Select-value-icon {\n  cursor: pointer;\n  border-bottom-left-radius: 2px;\n  border-top-left-radius: 2px;\n  border-right: 1px solid #c2e0ff;\n  /* Fallback color for IE 8 */\n  border-right: 1px solid rgba(0, 126, 255, 0.24);\n  padding: 1px 5px 3px;\n}\n.Select--multi .Select-value-icon:hover,\n.Select--multi .Select-value-icon:focus {\n  background-color: #d8eafd;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 113, 230, 0.08);\n  color: #0071e6;\n}\n.Select--multi .Select-value-icon:active {\n  background-color: #c2e0ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.24);\n}\n.Select--multi.is-disabled .Select-value {\n  background-color: #fcfcfc;\n  border: 1px solid #e3e3e3;\n  color: #333;\n}\n.Select--multi.is-disabled .Select-value-icon {\n  cursor: not-allowed;\n  border-right: 1px solid #e3e3e3;\n}\n.Select--multi.is-disabled .Select-value-icon:hover,\n.Select--multi.is-disabled .Select-value-icon:focus,\n.Select--multi.is-disabled .Select-value-icon:active {\n  background-color: #fcfcfc;\n}\n@keyframes Select-animation-spin {\n  to {\n    transform: rotate(1turn);\n  }\n}\n@-webkit-keyframes Select-animation-spin {\n  to {\n    -webkit-transform: rotate(1turn);\n  }\n}\n",""])},function(t,e,n){var r=n(515);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,"/* Variables - keep in sync with globalStyles.js*/\n:root {\n  --darkGrey: #333;\n  --medGrey: #666;\n  --lightGrey: #CCC;\n  --brandColor: #5097BA;\n  --sidebarColor: #F2F2F2;\n}\n.narrative h1 {\n  font-weight: 700;\n  color: var(--darkGrey);\n  font-size: 2.4em;\n}\n.narrative h2 {\n  font-weight: 500;\n  color: var(--darkGrey);\n  font-size: 2.2em;\n}\n.narrative h3 {\n  font-weight: 500;\n  color: var(--darkGrey);\n  font-size: 2em;\n}\n.narrative h4 {\n  font-weight: 500;\n  color: var(--darkGrey);\n  font-size: 1.8em;\n}\n.narrative div p {\n  text-align: justify;\n  font-size: 16px;\n  margin: 0;\n  font-weight: 300;\n  color: var(--medGrey);\n  line-height: 1.3;\n}\n.narrative li {\n  font-size: 16px;\n  margin: 10px 0px 10px 0px;\n  font-weight: 300;\n  color: var(--medGrey);\n  line-height: 1.3;\n}\n.narrative strong {\n  font-weight: 500;\n  color: var(--darkGrey);\n  background-color: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\n.narrative img {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  width: 90%;\n  padding: 15px 0px 15px 0px;\n}\n.narrative figcaption {\n  color: var(--medGrey);\n  font-style: italic;\n  font-size: 1.2em;\n  text-align: center;\n  margin-bottom: 15px;\n}\n/* NarrativeBlock_0 is the title / header block */\n.narrative #NarrativeBlock_0 {\n  margin-top: 15px;\n}\n.narrative #NarrativeBlock_0 h3 {\n  font-weight: 300;\n  font-size: 1.8em;\n}\n.narrative #NarrativeBlock_0 h4 {\n  color: var(--medGrey);\n  font-weight: 300;\n  font-size: 1.5em;\n  margin-left: 20px;\n  margin-right: 20px;\n  font-style: italic;\n  line-height: 1.2;\n  text-align: justify;\n}\n.narrative #NarrativeBlock_0 .explanation {\n  text-align: justify;\n  font-size: 14px;\n  margin: 0;\n  margin-bottom: 30px;\n  font-weight: 400;\n  font-style: italic;\n  color: #DC2F24;\n  line-height: 1.2;\n}\n.narrative #NarrativeBlock_0 sup {\n  font-size: 65%;\n  vertical-align: super;\n}\n",""])},function(t,e,n){"use strict";n.r(e),function(t){var r,i=n(0),o=n.n(i),a=n(6),s=n(250),u=n(251),l=n(267),c=n(178),f=n(268),h=n(264),p=n(266);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=Object(a.b)(function(t){return{displayComponent:t.general.displayComponent}})(r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,y(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,o.a.Component),function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(e,[{key:"render",value:function(){switch(this.props.displayComponent){case"splash":return o.a.createElement(c.a,null);case"datasetLoader":return o.a.createElement(p.a,null);case"main":return o.a.createElement(l.a,null);case"status":return o.a.createElement(f.a,null);default:return console.error("reduxStore.general.displayComponent is invalid (".concat(this.props.displayComponent,")")),o.a.createElement(c.a,null)}}}]),e}())||r;e.default=Object(s.hot)(t)(function(){return o.a.createElement("div",null,o.a.createElement(u.a,null),o.a.createElement(h.a,null),o.a.createElement(b,null))})}.call(this,n(215)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(0)),i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){return r.Children.only(this.props.children)},e}(r.Component);e.AppContainer=a,e.hot=function(){return function(t){return t}},e.areComponentsEqual=function(t,e){return t===e},e.setConfig=function(){},e.cold=function(t){return t}},function(t,e,n){var r=n(81),i=n(519),o=n(218),a="Expected a function",s=Math.max,u=Math.min;t.exports=function(t,e,n){var l,c,f,h,p,d,m=0,v=!1,y=!1,g=!0;if("function"!=typeof t)throw new TypeError(a);function b(e){var n=l,r=c;return l=c=void 0,m=e,h=t.apply(r,n)}function _(t){var n=t-d;return void 0===d||n>=e||n<0||y&&t-m>=f}function w(){var t=i();if(_(t))return x(t);p=setTimeout(w,function(t){var n=e-(t-d);return y?u(n,f-(t-m)):n}(t))}function x(t){return p=void 0,g&&l?b(t):(l=c=void 0,h)}function E(){var t=i(),n=_(t);if(l=arguments,c=this,d=t,n){if(void 0===p)return function(t){return m=t,p=setTimeout(w,e),v?b(t):h}(d);if(y)return p=setTimeout(w,e),b(d)}return void 0===p&&(p=setTimeout(w,e)),h}return e=o(e)||0,r(n)&&(v=!!n.leading,f=(y="maxWait"in n)?s(o(n.maxWait)||0,e):f,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=d=c=p=void 0},E.flush=function(){return void 0===p?h:x(i())},E}},function(t,e,n){var r=n(57);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(123),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(0),o=n(5),a={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},s=n(62)({propTypes:{className:o.string,defaultValue:o.any,inputClassName:o.string,inputStyle:o.object,minWidth:o.oneOfType([o.number,o.string]),onAutosize:o.func,onChange:o.func,placeholder:o.string,placeholderIsMinWidth:o.bool,style:o.object,value:o.any},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(t,e){e.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()},componentWillUnmount:function(){this.mounted=!1},inputRef:function(t){this.input=t},placeHolderSizerRef:function(t){this.placeHolderSizer=t},sizerRef:function(t){this.sizer=t},copyInputStyles:function(){if(!this.mounted&&window.getComputedStyle){var t=this.input&&window.getComputedStyle(this.input);if(t){var e=this.sizer;if(e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform,this.props.placeholder){var n=this.placeHolderSizer;n.style.fontSize=t.fontSize,n.style.fontFamily=t.fontFamily,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.letterSpacing=t.letterSpacing,n.style.textTransform=t.textTransform}}}},updateInputWidth:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var t=void 0;(t=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2)<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}},getInput:function(){return this.input},focus:function(){this.input.focus()},blur:function(){this.input.blur()},select:function(){this.input.select()},render:function(){var t=[this.props.defaultValue,this.props.value,""].reduce(function(t,e){return null!==t&&void 0!==t?t:e}),e=this.props.style||{};e.display||(e.display="inline-block");var n=r({},this.props.inputStyle);n.width=this.state.inputWidth+"px",n.boxSizing="content-box";var o=r({},this.props);return o.className=this.props.inputClassName,o.style=n,delete o.inputClassName,delete o.inputStyle,delete o.minWidth,delete o.onAutosize,delete o.placeholderIsMinWidth,i.createElement("div",{className:this.props.className,style:e},i.createElement("input",r({},o,{ref:this.inputRef})),i.createElement("div",{ref:this.sizerRef,style:a},t),this.props.placeholder?i.createElement("div",{ref:this.placeHolderSizerRef,style:a},this.props.placeholder):null)}});t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.onMouseDown;return r.default.createElement("span",{className:"Select-arrow",onMouseDown:e})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return r.default.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(0));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}var s=n(0),u=a(s),l=a(n(5)),c=a(n(30)),f=a(n(220)),h={autoload:l.default.bool.isRequired,cache:l.default.any,children:l.default.func.isRequired,ignoreAccents:l.default.bool,ignoreCase:l.default.bool,loadingPlaceholder:l.default.oneOfType([l.default.string,l.default.node]),loadOptions:l.default.func.isRequired,multi:l.default.bool,options:l.default.array.isRequired,placeholder:l.default.oneOfType([l.default.string,l.default.node]),noResultsText:l.default.oneOfType([l.default.string,l.default.node]),onChange:l.default.func,searchPromptText:l.default.oneOfType([l.default.string,l.default.node]),onInputChange:l.default.func,value:l.default.any},p={},d={autoload:!0,cache:p,children:function(t){return u.default.createElement(c.default,t)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},m=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),this._cache=t.cache===p?{}:t.cache,this.state={isLoading:!1,options:t.options},this._onInputChange=this._onInputChange.bind(this)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Component),i(e,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillUpdate",value:function(t,e){var n=this;["options"].forEach(function(e){n.props[e]!==t[e]&&n.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,t[e]))})}},{key:"clearOptions",value:function(){this.setState({options:[]})}},{key:"loadOptions",value:function(t){var e=this,n=this.props.loadOptions,r=this._cache;if(!r||!r.hasOwnProperty(t)){var i=function n(i,o){if(n===e._callback){e._callback=null;var a=o&&o.options||[];r&&(r[t]=a),e.setState({isLoading:!1,options:a})}};this._callback=i;var o=n(t,i);return o&&o.then(function(t){return i(0,t)},function(t){return i()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0}),t}this.setState({options:r[t]})}},{key:"_onInputChange",value:function(t){var e=this.props,n=e.ignoreAccents,r=e.ignoreCase,i=e.onInputChange;return n&&(t=(0,f.default)(t)),r&&(t=t.toLowerCase()),i&&i(t),this.loadOptions(t)}},{key:"inputValue",value:function(){return this.select?this.select.state.inputValue:""}},{key:"noResultsText",value:function(){var t=this.props,e=t.loadingPlaceholder,n=t.noResultsText,r=t.searchPromptText,i=this.state.isLoading,o=this.inputValue();return i?e:o&&n?n:r}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,i=e.loadingPlaceholder,o=e.placeholder,a=this.state,s=a.isLoading,u=a.options,l={noResultsText:this.noResultsText(),placeholder:s?i:o,options:s&&i?[]:u,ref:function(e){return t.select=e},onChange:function(e){t.props.multi&&t.props.value&&e.length>t.props.value.length&&t.clearOptions(),t.props.onChange(e)}};return n(r({},this.props,l,{isLoading:s,onInputChange:this._onInputChange}))}}]),e}();e.default=m,m.propTypes=h,m.defaultProps=d,t.exports=e.default},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function i(t){return t&&t.__esModule?t:{default:t}}var o=i(n(0)),a=i(n(62)),s=i(n(30));function u(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return Object.keys(t).reduce(function(e,n){var r=t[n];return void 0!==r&&(e[n]=r),e},e)}var l=(0,a.default)({displayName:"AsyncCreatableSelect",focus:function(){this.select.focus()},render:function(){var t=this;return o.default.createElement(s.default.Async,this.props,function(e){return o.default.createElement(s.default.Creatable,t.props,function(n){return o.default.createElement(s.default,r({},u(e,u(n,{})),{onInputChange:function(t){return n.onInputChange(t),e.onInputChange(t)},ref:function(r){t.select=r,n.ref(r),e.ref(r)}}))})})}});t.exports=l},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function i(t){return t&&t.__esModule?t:{default:t}}var o=i(n(0)),a=i(n(62)),s=i(n(5)),u=i(n(30)),l=i(n(219)),c=i(n(221)),f=(0,a.default)({displayName:"CreatableSelect",propTypes:{children:s.default.func,filterOptions:s.default.any,isOptionUnique:s.default.func,isValidNewOption:s.default.func,menuRenderer:s.default.any,newOptionCreator:s.default.func,onInputChange:s.default.func,onInputKeyDown:s.default.func,onNewOptionClick:s.default.func,options:s.default.array,promptTextCreator:s.default.func,shouldKeyDownEventCreateNewOption:s.default.func},statics:{isOptionUnique:p,isValidNewOption:d,newOptionCreator:m,promptTextCreator:v,shouldKeyDownEventCreateNewOption:y},getDefaultProps:function(){return{filterOptions:l.default,isOptionUnique:p,isValidNewOption:d,menuRenderer:c.default,newOptionCreator:m,promptTextCreator:v,shouldKeyDownEventCreateNewOption:y}},createNewOption:function(){var t=this.props,e=t.isValidNewOption,n=t.newOptionCreator,r=t.onNewOptionClick,i=t.options,o=void 0===i?[]:i;t.shouldKeyDownEventCreateNewOption;if(e({label:this.inputValue})){var a=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:a})&&(r?r(a):(o.unshift(a),this.select.selectValue(a)))}},filterOptions:function(){var t=this.props,e=t.filterOptions,n=t.isValidNewOption,r=(t.options,t.promptTextCreator),i=arguments[2]||[],o=e.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var a=this.props.newOptionCreator,s=a({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:s,options:i.concat(o)})){var u=r(this.inputValue);this._createPlaceholderOption=a({label:u,labelKey:this.labelKey,valueKey:this.valueKey}),o.unshift(this._createPlaceholderOption)}}return o},isOptionUnique:function(t){var e=t.option,n=t.options,r=this.props.isOptionUnique;return n=n||this.select.filterOptions(),r({labelKey:this.labelKey,option:e,options:n,valueKey:this.valueKey})},menuRenderer:function(t){var e=this.props.menuRenderer;return e(r({},t,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))},onInputChange:function(t){var e=this.props.onInputChange;e&&e(t),this.inputValue=t},onInputKeyDown:function(t){var e=this.props,n=e.shouldKeyDownEventCreateNewOption,r=e.onInputKeyDown,i=this.select.getFocusedOption();i&&i===this._createPlaceholderOption&&n({keyCode:t.keyCode})?(this.createNewOption(),t.preventDefault()):r&&r(t)},onOptionSelect:function(t,e){t===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(t)},focus:function(){this.select.focus()},render:function(){var t=this,e=this.props,n=(e.newOptionCreator,e.shouldKeyDownEventCreateNewOption,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["newOptionCreator","shouldKeyDownEventCreateNewOption"])),i=this.props.children;return i||(i=h),i(r({},n,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(e){t.select=e,e&&(t.labelKey=e.props.labelKey,t.valueKey=e.props.valueKey)}}))}});function h(t){return o.default.createElement(u.default,t)}function p(t){var e=t.option,n=t.options,r=t.labelKey,i=t.valueKey;return 0===n.filter(function(t){return t[r]===e[r]||t[i]===e[i]}).length}function d(t){return!!t.label}function m(t){var e=t.label,n=t.labelKey,r={};return r[t.valueKey]=e,r[n]=e,r.className="Select-create-option-placeholder",r}function v(t){return'Create option "'+t+'"'}function y(t){switch(t.keyCode){case 9:case 13:case 188:return!0}return!1}t.exports=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(0)),o=r(n(62)),a=r(n(5)),s=r(n(124)),u=(0,o.default)({propTypes:{children:a.default.node,className:a.default.string,instancePrefix:a.default.string.isRequired,isDisabled:a.default.bool,isFocused:a.default.bool,isSelected:a.default.bool,onFocus:a.default.func,onSelect:a.default.func,onUnfocus:a.default.func,option:a.default.object.isRequired,optionIndex:a.default.number},blockEvent:function(t){t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName&&"href"in t.target&&(t.target.target?window.open(t.target.href,t.target.target):window.location.href=t.target.href)},handleMouseDown:function(t){t.preventDefault(),t.stopPropagation(),this.props.onSelect(this.props.option,t)},handleMouseEnter:function(t){this.onFocus(t)},handleMouseMove:function(t){this.onFocus(t)},handleTouchEnd:function(t){this.dragging||this.handleMouseDown(t)},handleTouchMove:function(t){this.dragging=!0},handleTouchStart:function(t){this.dragging=!1},onFocus:function(t){this.props.isFocused||this.props.onFocus(this.props.option,t)},render:function(){var t=this.props,e=t.option,n=t.instancePrefix,r=t.optionIndex,o=(0,s.default)(this.props.className,e.className);return e.disabled?i.default.createElement("div",{className:o,onMouseDown:this.blockEvent,onClick:this.blockEvent},this.props.children):i.default.createElement("div",{className:o,style:e.style,role:"option",onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+r,title:e.title},this.props.children)}});t.exports=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(0)),o=r(n(62)),a=r(n(5)),s=r(n(124)),u=(0,o.default)({displayName:"Value",propTypes:{children:a.default.node,disabled:a.default.bool,id:a.default.string,onClick:a.default.func,onRemove:a.default.func,value:a.default.object.isRequired},handleMouseDown:function(t){if("mousedown"!==t.type||0===t.button)return this.props.onClick?(t.stopPropagation(),void this.props.onClick(this.props.value,t)):void(this.props.value.href&&t.stopPropagation())},onRemove:function(t){t.preventDefault(),t.stopPropagation(),this.props.onRemove(this.props.value)},handleTouchEndRemove:function(t){this.dragging||this.onRemove(t)},handleTouchMove:function(t){this.dragging=!0},handleTouchStart:function(t){this.dragging=!1},renderRemoveIcon:function(){if(!this.props.disabled&&this.props.onRemove)return i.default.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×")},renderLabel:function(){return this.props.onClick||this.props.value.href?i.default.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):i.default.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)},render:function(){return i.default.createElement("div",{className:(0,s.default)("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}});t.exports=u},function(t,e,n){var r=n(225),i=n(531),o=n(81),a=n(226),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(532),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(57)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(222),i=n(223);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?i(n,l,c):r(n,l,c)}return n}},function(t,e,n){var r=n(536),i=n(227);t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){var r=n(92),i=n(537),o=n(539);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(538),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=n(u),r(t,this,l)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(540),i=n(542)(r);t.exports=i},function(t,e,n){var r=n(541),i=n(224),o=n(92),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(544),i=n(229),o=n(39),a=n(230),s=n(169),u=n(231),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),f=!n&&!c&&a(t),h=!n&&!c&&!f&&u(t),p=n||c||f||h,d=p?r(t.length,String):[],m=d.length;for(var v in t)!e&&!l.call(t,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||d.push(v);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(101),i=n(102),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(101),i=n(168),o=n(102),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(217),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(167)(t))},function(t,e,n){var r=n(228),i=n(551),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(552)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(554);"string"==typeof r&&(r=[[t.i,r,""]]);n(56)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(55)()).push([t.i,'.awesomplete [hidden] {\n    display: none;\n}\n\n.awesomplete .visually-hidden {\n    position: absolute;\n    clip: rect(0, 0, 0, 0);\n}\n\n.awesomplete {\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n\n.awesomplete > input {\n    display: block;\n}\n\n.awesomplete > ul {\n    position: absolute;\n    left: 0;\n    z-index: 1;\n    min-width: 100%;\n    box-sizing: border-box;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    background: #fff;\n}\n\n.awesomplete > ul:empty {\n    display: none;\n}\n\n.awesomplete > ul {\n  width: 80%;\n\tborder-radius: .3em;\n\tmargin: .2em 0 0;\n\tbackground: hsla(0,0%,100%,.9);\n\tbackground: linear-gradient(to bottom right, white, hsla(0,0%,100%,.8));\n\tborder: 1px solid rgba(0,0,0,.3);\n\tbox-shadow: .05em .2em .6em rgba(0,0,0,.2);\n\ttext-shadow: none;\n}\n\n@supports (transform: scale(0)) {\n\t.awesomplete > ul {\n\t\ttransition: .3s cubic-bezier(.4,.2,.5,1.4);\n\t\ttransform-origin: 1.43em -.43em;\n\t}\n\n\t.awesomplete > ul[hidden],\n\t.awesomplete > ul:empty {\n\t\topacity: 0;\n\t\ttransform: scale(0);\n\t\tdisplay: block;\n\t\ttransition-timing-function: ease;\n\t}\n}\n\n\t/* Pointer */\n\t.awesomplete > ul:before {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t\ttop: -.43em;\n\t\tleft: 1em;\n\t\twidth: 0; height: 0;\n\t\tpadding: .4em;\n\t\tbackground: white;\n\t\tborder: inherit;\n\t\tborder-right: 0;\n\t\tborder-bottom: 0;\n\t\t-webkit-transform: rotate(45deg);\n\t\ttransform: rotate(45deg);\n\t}\n\n\t.awesomplete > ul > li {\n\t\tposition: relative;\n\t\tpadding: .2em .5em;\n\t\tcursor: pointer;\n\t}\n\n\t.awesomplete > ul > li:hover {\n\t\tbackground: hsl(200, 40%, 80%);\n\t\tcolor: black;\n\t}\n\n\t.awesomplete > ul > li[aria-selected="true"] {\n\t\tbackground: hsl(205, 40%, 40%);\n\t\tcolor: white;\n\t}\n\n\t.awesomplete mark {\n\t\tcolor: rgb(80, 151, 186);\n    background: white;\n\t}\n\n\t.awesomplete li:hover mark {\n\t\tbackground: hsl(200, 40%, 80%);\n\t}\n',""])},function(t,e,n){(t.exports=n(55)()).push([t.i,'\n/* Variables - keep in sync with globalStyles.js*/\n:root {\n  --darkGrey: #333;\n  --medGrey: #888;\n}\n\n#d3entropy .overlay {\n  fill: none;\n  pointer-events: all;\n}\n\n#d3entropy .brush {\n  stroke: none;\n}\n\n#d3entropy .niceText {\n  font-family: "Lato";\n  font-size: 14px;\n  font-style: italic;\n  color: var(--medGrey);\n}\n\n.brush .selection {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n',""])},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){!function(t){"use strict";var e=[].slice,n={};function r(t){if(!(t>=1))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function i(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,r=t._tasks[e],i=r.length-1,a=r[i];r[i]=o(t,e),--t._waiting,++t._active,r=a.apply(null,r),t._tasks[e]&&(t._tasks[e]=r||n)}}(t)}catch(e){t._tasks[t._ended+t._active-1]&&a(t,e)}}function o(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?a(t,n):(t._data[e]=r,t._waiting?i(t):s(t))))}}function a(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,s(t)}function s(t){!t._active&&t._call&&t._call(t._error,t._data)}function u(t){return new r(arguments.length?+t:1/0)}r.prototype=u.prototype={constructor:r,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var n=e.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),i(this),this},abort:function(){return null==this._error&&a(this,new Error("abort")),this},await:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=function(e,n){t.apply(null,[e].concat(n))},s(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,s(this),this}},t.version="2.0.3",t.queue=u}(e)},function(t,e,n){var r=n(559),i=n(604),o=n(239);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(235),i=n(236),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,l=u,c=!s;if(null==t)return!l;for(t=Object(t);u--;){var f=n[u];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<l;){var h=(f=n[u])[0],p=t[h],d=f[1];if(c&&f[2]){if(void 0===p&&!(h in t))return!1}else{var m=new r;if(s)var v=s(p,d,h,t,e,m);if(!(void 0===v?i(d,p,o|a,s,m):v))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(129),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(129);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(129);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(129);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(128);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(128),i=n(171),o=n(172),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(571),i=n(128),o=n(171);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(572),i=n(573),o=n(574),a=n(575),s=n(576);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(130);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(130),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(130),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(130),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(131);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(131);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(131);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(131);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(235),i=n(237),o=n(588),a=n(592),s=n(599),u=n(39),l=n(230),c=n(231),f=1,h="[object Arguments]",p="[object Array]",d="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,y,g){var b=u(t),_=u(e),w=b?p:s(t),x=_?p:s(e),E=(w=w==h?d:w)==d,S=(x=x==h?d:x)==d,T=w==x;if(T&&l(t)){if(!l(e))return!1;b=!0,E=!1}if(T&&!E)return g||(g=new r),b||c(t)?i(t,e,n,v,y,g):o(t,e,w,n,v,y,g);if(!(n&f)){var k=E&&m.call(t,"__wrapped__"),O=S&&m.call(e,"__wrapped__");if(k||O){var C=k?t.value():t,M=O?e.value():e;return g||(g=new r),y(C,M,n,v,g)}}return!!T&&(g||(g=new r),a(t,e,n,v,y,g))}},function(t,e,n){var r=n(172),i=n(584),o=n(585);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(123),i=n(589),o=n(125),a=n(237),s=n(590),u=n(591),l=1,c=2,f="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Map]",m="[object Number]",v="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,E=x?x.valueOf:void 0;t.exports=function(t,e,n,r,x,S,T){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!S(new i(t),new i(e)));case f:case h:case m:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case v:case g:return t==e+"";case d:var k=s;case y:var O=r&l;if(k||(k=u),t.size!=e.size&&!O)return!1;var C=T.get(t);if(C)return C==e;r|=c,T.set(t,e);var M=a(k(t),k(e),r,x,S,T);return T.delete(t),M;case b:if(E)return E.call(t)==E.call(e)}return!1}},function(t,e,n){var r=n(57).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(593),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var l=n&i,c=r(t),f=c.length;if(f!=r(e).length&&!l)return!1;for(var h=f;h--;){var p=c[h];if(!(l?p in e:o.call(e,p)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var m=!0;u.set(t,e),u.set(e,t);for(var v=l;++h<f;){var y=t[p=c[h]],g=e[p];if(a)var b=l?a(g,y,p,e,t,u):a(y,g,p,t,e,u);if(!(void 0===b?y===g||s(y,g,n,a,u):b)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(m=!1)}return u.delete(t),u.delete(e),m}},function(t,e,n){var r=n(594),i=n(596),o=n(126);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(595),i=n(39);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(597),i=n(598),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(600),i=n(171),o=n(601),a=n(602),s=n(603),u=n(101),l=n(226),c=l(r),f=l(i),h=l(o),p=l(a),d=l(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){var r=n(82)(n(57),"DataView");t.exports=r},function(t,e,n){var r=n(82)(n(57),"Promise");t.exports=r},function(t,e,n){var r=n(82)(n(57),"Set");t.exports=r},function(t,e,n){var r=n(82)(n(57),"WeakMap");t.exports=r},function(t,e,n){var r=n(238),i=n(126);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(236),i=n(606),o=n(612),a=n(173),s=n(238),u=n(239),l=n(132),c=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,c|f)}}},function(t,e,n){var r=n(240);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(608)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(609),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(172),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(611);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(123),i=n(242),o=n(39),a=n(100),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var r=n(613),i=n(614);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(241),i=n(229),o=n(39),a=n(169),s=n(168),u=n(132);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,f=!1;++l<c;){var h=u(e[l]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++l!=c?f:!!(c=null==t?0:t.length)&&s(c)&&a(h,c)&&(o(t)||i(t))}},function(t,e,n){var r=n(616),i=n(617),o=n(173),a=n(132);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(240);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(619)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(92);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(622),i=n(103);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e,n){var r=n(245),i=n(623)(r);t.exports=i},function(t,e,n){var r=n(103);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(625),i=n(227),o=n(244);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,i,o){for(var a=-1,s=r(n((e-t)/(i||1)),0),u=Array(s);s--;)u[o?s:++a]=t,t+=i;return u}},function(t,e){var n=1/0,r=9007199254740991,i=1.7976931348623157e308,o=NaN,a="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]",l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,h=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\d*)$/,d=parseInt;var m=Object.prototype.toString,v=Math.ceil,y=Math.max;var g=function(t){return function(e){return null==e?void 0:e[t]}}("length");function b(t){var e=_(t)?m.call(t):"";return e==a||e==s}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return t?(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&m.call(t)==u}(t))return o;if(_(t)){var e=b(t.valueOf)?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=f.test(t);return n||h.test(t)?d(t.slice(2),n?2:8):c.test(t)?o:+t}(t))===n||t===-n?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}var x=function(t){return function(e,n,i){return i&&"number"!=typeof i&&function(t,e,n){if(!_(n))return!1;var i=typeof e;return!!("number"==i?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(g(t))&&!b(t)}(n)&&function(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}(e,n.length):"string"==i&&e in n)&&function(t,e){return t===e||t!=t&&e!=e}(n[e],t)}(e,n,i)&&(n=i=void 0),e=w(e),void 0===n?(n=e,e=0):n=w(n),function(t,e,n,r){for(var i=-1,o=y(v((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}(e,n,i=void 0===i?e<n?1:-1:w(i),t)}}();t.exports=x},function(t,e,n){if(void 0===e)var r={};else r=t.exports={};!function(t,e){var n=new Array(50);function r(t,r){return n[t]!=e&&n[t][r]!=e}function i(t,e){return n[t][e]}function o(t,r,i){n.length<t?(n.length=t,n[t]=new Array(r+5)):n[t]===e&&(n[t]=new Array(r)),n[t].length<r&&(n[t]=new Array(r+5)),n[t][r]=i}t.get=function(t,e){if(0===e)return 1;if(0===t||e>t)return 0;if(e>t-e&&(e=t-e),r(t,e))return i(t,e);for(var n=1,a=t,s=1;s<=e;s++)r(a,s)?(t--,n=i(a,s)):(n*=t--,o(a,s,n/=s));return n},t.get_no_memo=function(t,e){if(0===e)return 1;if(0===t||e>t)return 0;e>t-e&&(e=t-e);for(var n=1,r=1;r<=e;r++)n*=t--,n/=r;return n}}(r)},function(t,e,n){t.exports=n.p+"df4364beafb3cc54469f3dec318953fd.png"},function(t,e,n){t.exports=n.p+"225a1a237080a0c8de490f3c6e57e6d9.png"},function(t,e,n){t.exports=n.p+"117274a6ca79f7ca0a431dd441a10dba.png"},function(t,e,n){t.exports=n.p+"6c1eb6bd79ff036a7ae982d230120a88.png"},function(t,e,n){t.exports=n.p+"9deeb1b44ae410741a8fe1fc1de28cb6.png"},function(t,e,n){t.exports=n.p+"de977852ca1c04f2d2573e0b234bb58c.png"},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=l(n(0)),o=l(n(5)),a=l(n(635)),s=l(n(639)),u=n(247);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}u.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,u.transitionTimeout)("Appear"),(0,u.transitionTimeout)("Enter"),(0,u.transitionTimeout)("Leave");var f=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=c(this,t.call.apply(t,[this].concat(a))),r._wrapChild=function(t){return i.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},t)},c(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){return i.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},e}(i.default.Component);f.displayName="CSSTransitionGroup",f.propTypes={},f.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},e.default=f,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=u(n(636)),o=u(n(0)),a=u(n(5)),s=(u(n(637)),n(638));function u(t){return t&&t.__esModule?t:{default:t}}a.default.any,a.default.func,a.default.node;var l=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,i));return o.performAppear=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillAppear?e.componentWillAppear(o._handleDoneAppearing.bind(o,t,e)):o._handleDoneAppearing(t,e)},o._handleDoneAppearing=function(t,e){e.componentDidAppear&&e.componentDidAppear(),delete o.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(t)||o.performLeave(t,e)},o.performEnter=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillEnter?e.componentWillEnter(o._handleDoneEntering.bind(o,t,e)):o._handleDoneEntering(t,e)},o._handleDoneEntering=function(t,e){e.componentDidEnter&&e.componentDidEnter(),delete o.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(t)||o.performLeave(t,e)},o.performLeave=function(t,e){o.currentlyTransitioningKeys[t]=!0,e.componentWillLeave?e.componentWillLeave(o._handleDoneLeaving.bind(o,t,e)):o._handleDoneLeaving(t,e)},o._handleDoneLeaving=function(t,e){e.componentDidLeave&&e.componentDidLeave(),delete o.currentlyTransitioningKeys[t];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(t)?o.keysToEnter.push(t):o.setState(function(e){var n=r({},e.children);return delete n[t],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,s.getChildMapping)(n.children)},o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},e.prototype.componentDidMount=function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e,this.childRefs[e])},e.prototype.componentWillReceiveProps=function(t){var e=(0,s.getChildMapping)(t.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,e)}),e){var i=n&&n.hasOwnProperty(r);!e[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=e&&e.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},e.prototype.componentDidUpdate=function(){var t=this,e=this.keysToEnter;this.keysToEnter=[],e.forEach(function(e){return t.performEnter(e,t.childRefs[e])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(e){return t.performLeave(e,t.childRefs[e])})},e.prototype.render=function(){var t=this,e=[],n=function(n){var r=t.state.children[n];if(r){var a="string"!=typeof r.ref,s=t.props.childFactory(r),u=function(e){t.childRefs[n]=e};s===r&&a&&(u=(0,i.default)(r.ref,u)),e.push(o.default.cloneElement(s,{key:n,ref:u}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,e)},e}(o.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(t){return t}},e.default=l,t.exports=e.default},function(t,e){t.exports=function(){for(var t=arguments.length,e=[],n=0;n<t;n++)e[n]=arguments[n];if(0!==(e=e.filter(function(t){return null!=t})).length)return 1===e.length?e[0]:e.reduce(function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}})}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=function(t){if(!t)return t;var e={};return r.Children.map(t,function(t){return t}).forEach(function(t){e[t.key]=t}),e},e.mergeChildMappings=function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var r={},i=[];for(var o in t)e.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var u in e){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(0)},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=h(n(640)),o=h(n(642)),a=h(n(643)),s=n(644),u=h(n(0)),l=h(n(5)),c=n(133),f=n(247);function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=[];s.transitionEnd&&d.push(s.transitionEnd),s.animationEnd&&d.push(s.animationEnd);l.default.node,f.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var m=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=p(this,t.call.apply(t,[this].concat(o))),r.componentWillAppear=function(t){r.props.appear?r.transition("appear",t,r.props.appearTimeout):t()},r.componentWillEnter=function(t){r.props.enter?r.transition("enter",t,r.props.enterTimeout):t()},r.componentWillLeave=function(t){r.props.leave?r.transition("leave",t,r.props.leaveTimeout):t()},p(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)}),this.classNameAndNodeQueue.length=0},e.prototype.transition=function(t,e,n){var r=(0,c.findDOMNode)(this);if(r){var a=this.props.name[t]||this.props.name+"-"+t,u=this.props.name[t+"Active"]||a+"-active",l=null,f=void 0;(0,i.default)(r,a),this.queueClassAndNode(u,r);var h=function(t){t&&t.target!==r||(clearTimeout(l),f&&f(),(0,o.default)(r,a),(0,o.default)(r,u),f&&f(),e&&e())};n?(l=setTimeout(h,n),this.transitionTimeouts.push(l)):s.transitionEnd&&(f=function(t,e){return d.length?d.forEach(function(n){return t.addEventListener(n,e,!1)}):setTimeout(e,0),function(){d.length&&d.forEach(function(n){return t.removeEventListener(n,e,!1)})}}(r,h))}else e&&e()},e.prototype.queueClassAndNode=function(t,e){var n=this;this.classNameAndNodeQueue.push({className:t,node:e}),this.rafHandle||(this.rafHandle=(0,a.default)(function(){return n.flushClassNameAndNodeQueue()}))},e.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(t){t.node.scrollTop,(0,i.default)(t.node,t.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},e.prototype.render=function(){var t=r({},this.props);return delete t.name,delete t.appear,delete t.enter,delete t.leave,delete t.appearTimeout,delete t.enterTimeout,delete t.leaveTimeout,delete t.children,u.default.cloneElement(u.default.Children.only(this.props.children),t)},e}(u.default.Component);m.displayName="CSSTransitionGroupChild",m.propTypes={},e.default=m,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.classList?t.classList.add(e):(0,r.default)(t)||(t.className=t.className+" "+e)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(641));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+t.className+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i="clearTimeout",o=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-s)),r=setTimeout(t,n);return s=e,r},a=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};(function(t){return t&&t.__esModule?t:{default:t}})(n(246)).default&&["","webkit","moz","o","ms"].some(function(t){var e=a(t,"request");if(e in window)return i=a(t,"cancel"),o=function(t){return window[e](t)}});var s=(new Date).getTime();(r=function(t){return o(t)}).cancel=function(t){window[i]&&"function"==typeof window[i]&&window[i](t)},e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var r="transform",i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,h=void 0,p=void 0,d=void 0;if(function(t){return t&&t.__esModule?t:{default:t}}(n(246)).default){var m=function(){for(var t=document.createElement("div").style,e={O:function(t){return"o"+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return"webkit"+t},ms:function(t){return"MS"+t}},n=Object.keys(e),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in t){o="-"+s.toLowerCase(),r=e[s]("TransitionEnd"),i=e[s]("AnimationEnd");break}}!r&&"transitionProperty"in t&&(r="transitionend");!i&&"animationName"in t&&(i="animationend");return t=null,{animationEnd:i,transitionEnd:r,prefix:o}}();i=m.prefix,e.transitionEnd=o=m.transitionEnd,e.animationEnd=a=m.animationEnd,e.transform=r=i+"-"+r,e.transitionProperty=s=i+"-transition-property",e.transitionDuration=u=i+"-transition-duration",e.transitionDelay=c=i+"-transition-delay",e.transitionTiming=l=i+"-transition-timing-function",e.animationName=f=i+"-animation-name",e.animationDuration=h=i+"-animation-duration",e.animationTiming=p=i+"-animation-delay",e.animationDelay=d=i+"-animation-timing-function"}e.transform=r,e.transitionProperty=s,e.transitionTiming=l,e.transitionDelay=c,e.transitionDuration=u,e.transitionEnd=o,e.animationName=f,e.animationDuration=h,e.animationTiming=p,e.animationDelay=d,e.animationEnd=a,e.default={transform:r,end:o,property:s,timing:l,delay:c,duration:u}},function(t,e,n){"use strict";n.r(e);n(139),n(471);window.Promise=n(472).Promise,n(476),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(!e||e<0?0:+e,t.length)===t});var r=n(0),i=n.n(r),o=n(133),a=n.n(o),s=n(87),u=n.n(s),l=n(6),c=n(68);function f(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}var h=f();h.withExtraArgument=f;var p=h,d=n(35),m=n.n(d),v=n(1),y=n(7),g=function(t){return function(e){return function(n){var r=t.getState(),i=e(n),o=m.a.parse(window.location.search),a=window.location.pathname;switch(n.type){case v.u:case v.T:case v.s:(o=n.query).tt&&delete o.tt;break;case v.t:o.gmin=n.zoomc[0]===r.controls.absoluteZoomMin?void 0:n.zoomc[0],o.gmax=n.zoomc[1]>=r.controls.absoluteZoomMax?void 0:n.zoomc[1];break;case v.D:o.c=n.colorBy===r.controls.defaults.colorBy?void 0:n.colorBy;break;case v.c:o["f_".concat(n.fields)]=n.values.join(",");break;case v.q:o.l=n.data===r.controls.defaults.layout?void 0:n.data;break;case v.p:o.r=n.data===r.controls.defaults.geoResolution?void 0:n.data;break;case v.o:o.m=n.data===r.controls.defaults.distanceMeasure?void 0:n.data;break;case v.r:o.p=!0===n.notInURLState?void 0:n.data;break;case v.L:r.controls.panelsAvailable.length===n.panelsToDisplay.length?o.d=void 0:o.d=n.panelsToDisplay.join(","),o.p=n.panelLayout;break;case v.n:"Pause"===r.controls.animationPlayPauseButton?(o.dmin=void 0,o.dmax=void 0):(o.dmin=n.dateMin===r.controls.absoluteDateMin?void 0:n.dateMin,o.dmax=n.dateMax===r.controls.absoluteDateMax?void 0:n.dateMax);break;case v.S:o.s=n.selectedStrain?n.selectedStrain:void 0,o.clade=n.cladeName?n.cladeName:void 0;break;case v.B:"Play"===n.data&&(o.animate=void 0,o.dmin=r.controls.dateMin===r.controls.absoluteDateMin?void 0:r.controls.dateMin,o.dmax=r.controls.dateMax===r.controls.absoluteDateMax?void 0:r.controls.dateMax);break;case v.C:var s=Object(y.d)(window.NEXTSTRAIN.animationStartPoint),u=Object(y.d)(window.NEXTSTRAIN.animationEndPoint),l=r.controls.mapAnimationShouldLoop?"1":"0",c=r.controls.mapAnimationCumulative?"1":"0",f=r.controls.mapAnimationDurationInMilliseconds;o.animate="".concat(s,",").concat(u,",").concat(l,",").concat(c,",").concat(f);break;case v.G:n.query?o=n.query:n.displayComponent!==r.general.displayComponent&&(o={});break;case v.K:!0===n.display&&(o={n:r.narrative.blockIdx})}switch(n.type){case v.u:n.url&&!n.narrative&&(a=n.url);break;case v.s:n.pathname&&(a=n.pathname);break;case v.K:!0===n.display&&(a=r.narrative.pathname);break;case v.G:"main"===n.displayComponent||"datasetLoader"===n.displayComponent?a=n.path||a:"splash"===n.displayComponent?a=n.path:a.startsWith("/".concat(n.displayComponent))||(a=n.displayComponent);break;case v.I:case v.O:var h,p=a.split("/");if(p.forEach(function(t,e){(t===r.tree.name||t.startsWith(r.tree.name+":"))&&(h=e)}),!h){console.warn("Couldn't work out tree name in URL!");break}p[h]=n.type===v.O?"".concat(p[h].split(":")[0],":").concat(n.segment):p[h].split(":")[0],a=p.join("/")}Object.keys(o).filter(function(t){return""===o[t]}).forEach(function(t){return delete o[t]});var d=m.a.stringify(o).replace(/%2C/g,",").replace(/%2F/g,"/");if(d&&(d="?"+d),a.startsWith("/")||(a="/"+a),a!==window.location.pathname||d!==window.location.search){var g=a;d&&(g+=d),!0===n.pushState?window.history.pushState({},"",g):window.history.replaceState({},"",g),e({type:v.Q,pathname:a})}else a!==r.general.pathname&&n.type===v.G&&e({type:v.Q,pathname:a});return i}}},b=n(3),_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1,metadata:null,colorOptions:b.i},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.v:return Object.assign({},t,{loaded:!1});case v.u:return e.metadata;case v.a:var n=JSON.parse(JSON.stringify(t.colorOptions)),r=!0,i=!1,o=void 0;try{for(var a,s=e.newColorBys[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;n[u]={menuItem:u,legendTitle:u,key:u,type:"discrete"}}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return Object.assign({},t,{colorOptions:n});default:return t}},w=n(69),x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1,data:void 0,pivots:void 0,ticks:void 0,matrix:void 0,version:0},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.T:case v.A:return e.frequencies?e.frequencies:t;case v.z:return Object.assign({},t,{loaded:!0,matrix:e.matrix,version:t.version+1});case v.v:return{loaded:!1,data:void 0,pivots:void 0,ticks:void 0,matrix:void 0,version:0};default:return t}},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1,showCounts:!1},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.t:return Object.assign({},t,{zoomMax:e.zoomc[1],zoomMin:e.zoomc[0]});case v.v:return{loaded:!1,showCounts:!1};case v.T:case v.u:return e.entropy;case v.y:return Object.assign({},t,{loaded:!0,bars:e.data,maxYVal:e.maxYVal});case v.x:return Object.assign({},t,{showCounts:e.showCounts});default:return t}},S=n(134),T=n(93),k=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stack:[],counter:0},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case v.b:return(t=e.stack.slice()).push(function(t){return{message:t.message||"",details:t.details||"",notificationType:t.notificationType,classes:["notification",t.notificationType],id:t.id}}(n)),Object.assign({},e,{counter:n.id,stack:t});case v.H:return(t=e.stack.slice()).splice(function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n].id===e)return n;return-1}(t,n.id),1),Object.assign({},e,{stack:t});default:return e}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1,blocks:null,blockIdx:void 0,pathname:void 0,display:!1,title:void 0},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.v:return Object.assign({},t,{loaded:!1,display:!1});case v.u:if(e.narrative){var n=e.narrative;return n[0].__html='\n  <p class="explanation">\n  Explore the content by scrolling the left hand side (or click on the arrows), and the data visualizations will change accordingly.\n  Clicking "view interactive data" above will display sidebar controls.\n  </p>\n'+n[0].__html,{loaded:!0,display:!0,blocks:n,title:n[0].__html.match(/>(.+?)</)[1],pathname:window.location.pathname,blockIdx:parseInt(m.a.parse(window.location.search).n,10)||0}}return t;case v.T:return e.query.hasOwnProperty("n")?Object.assign({},t,{blockIdx:e.query.n}):t;case v.K:return t.loaded?Object.assign({},t,{display:e.display}):(console.warn("Attempted to toggle narrative that was not loaded"),t);default:return t}},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.c)(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.v:return Object.assign({},t,{loaded:!1});case v.I:return Object(w.c)();case v.u:return e.treeToo?e.treeToo:t;case v.O:return e.treeToo;case v.n:case v.S:return e.tangleTipLookup?Object.assign({},t,{tangleTipLookup:e.tangleTipLookup,visibility:e.visibilityToo,visibilityVersion:e.visibilityVersionToo,branchThickness:e.branchThicknessToo,branchThicknessVersion:e.branchThicknessVersionToo,idxOfInViewRootNode:e.idxOfInViewRootNodeToo,selectedStrain:e.selectedStrain}):t;case v.R:return Object.assign({},t,{tipRadii:e.dataToo,tipRadiiVersion:e.version});case v.D:return e.nodeColorsToo?Object.assign({},t,{nodeColors:e.nodeColorsToo,nodeColorsVersion:e.version}):t;default:return t}},M=n(29),A=n(46),P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{displayComponent:Object(A.b)("entryPage")?Object(A.a)("entryPage"):Object(M.b)(window.location.pathname),errorMessage:void 0,pathname:window.location.pathname},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.G:return Object.assign({},t,{pathname:e.path,displayComponent:e.displayComponent,errorMessage:e.errorMessage});case v.Q:return Object.assign({},t,{pathname:e.pathname});default:return t}},j=Object(c.c)({metadata:_,tree:w.a,frequencies:x,controls:S.a,entropy:E,browserDimensions:T.b,notifications:k,narrative:O,treeToo:C,general:P}),L=function(t){return function(t){return function(e){return console.log("Action: ",e.type),t(e)}}},D=function(t){var e=[p,g,L],n=Object(c.d)(c.a.apply(void 0,e),window.devToolsExtension?window.devToolsExtension():function(t){return t});return Object(c.e)(j,t,n)},N=(n(500),n(502),n(504),n(506),n(508),n(510),n(512),n(514),D());window.NEXTSTRAIN||(window.NEXTSTRAIN={}),u.a.initialize("UA-92687617-1");!function(){var t=n(516).default;a.a.render(i.a.createElement(l.a,{store:N},i.a.createElement(t,null)),document.getElementById("root"))}()}]);